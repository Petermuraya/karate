var gx=e=>{throw TypeError(e)};var ef=(e,t,n)=>t.has(e)||gx("Cannot "+n);var C=(e,t,n)=>(ef(e,t,"read from private field"),n?n.call(e):t.get(e)),te=(e,t,n)=>t.has(e)?gx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),H=(e,t,n,r)=>(ef(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pe=(e,t,n)=>(ef(e,t,"access private method"),n);var Xc=(e,t,n,r)=>({set _(s){H(e,t,s,n)},get _(){return C(e,t,r)}});function DP(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function J1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var X1={exports:{}},lh={},e_={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),MP=Symbol.for("react.portal"),LP=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),FP=Symbol.for("react.profiler"),UP=Symbol.for("react.provider"),VP=Symbol.for("react.context"),BP=Symbol.for("react.forward_ref"),zP=Symbol.for("react.suspense"),WP=Symbol.for("react.memo"),HP=Symbol.for("react.lazy"),yx=Symbol.iterator;function qP(e){return e===null||typeof e!="object"?null:(e=yx&&e[yx]||e["@@iterator"],typeof e=="function"?e:null)}var t_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n_=Object.assign,r_={};function Po(e,t,n){this.props=e,this.context=t,this.refs=r_,this.updater=n||t_}Po.prototype.isReactComponent={};Po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s_(){}s_.prototype=Po.prototype;function Mg(e,t,n){this.props=e,this.context=t,this.refs=r_,this.updater=n||t_}var Lg=Mg.prototype=new s_;Lg.constructor=Mg;n_(Lg,Po.prototype);Lg.isPureReactComponent=!0;var vx=Array.isArray,i_=Object.prototype.hasOwnProperty,$g={current:null},a_={key:!0,ref:!0,__self:!0,__source:!0};function o_(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)i_.call(t,r)&&!a_.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ac,type:e,key:i,ref:a,props:s,_owner:$g.current}}function KP(e,t){return{$$typeof:Ac,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ac}function GP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xx=/\/+/g;function tf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GP(""+e.key):t.toString(36)}function Lu(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ac:case MP:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+tf(a,0):r,vx(s)?(n="",e!=null&&(n=e.replace(xx,"$&/")+"/"),Lu(s,t,n,"",function(u){return u})):s!=null&&(Fg(s)&&(s=KP(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(xx,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",vx(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+tf(i,l);a+=Lu(i,t,n,c,s)}else if(c=qP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+tf(i,l++),a+=Lu(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function eu(e,t,n){if(e==null)return e;var r=[],s=0;return Lu(e,r,"","",function(i){return t.call(n,i,s++)}),r}function YP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},$u={transition:null},QP={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:$u,ReactCurrentOwner:$g};function l_(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:eu,forEach:function(e,t,n){eu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eu(e,function(){t++}),t},toArray:function(e){return eu(e,function(t){return t})||[]},only:function(e){if(!Fg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Po;ye.Fragment=LP;ye.Profiler=FP;ye.PureComponent=Mg;ye.StrictMode=$P;ye.Suspense=zP;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QP;ye.act=l_;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=n_({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=$g.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)i_.call(t,c)&&!a_.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ac,type:e.type,key:s,ref:i,props:r,_owner:a}};ye.createContext=function(e){return e={$$typeof:VP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UP,_context:e},e.Consumer=e};ye.createElement=o_;ye.createFactory=function(e){var t=o_.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:BP,render:e}};ye.isValidElement=Fg;ye.lazy=function(e){return{$$typeof:HP,_payload:{_status:-1,_result:e},_init:YP}};ye.memo=function(e,t){return{$$typeof:WP,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=$u.transition;$u.transition={};try{e()}finally{$u.transition=t}};ye.unstable_act=l_;ye.useCallback=function(e,t){return $t.current.useCallback(e,t)};ye.useContext=function(e){return $t.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};ye.useEffect=function(e,t){return $t.current.useEffect(e,t)};ye.useId=function(){return $t.current.useId()};ye.useImperativeHandle=function(e,t,n){return $t.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return $t.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return $t.current.useReducer(e,t,n)};ye.useRef=function(e){return $t.current.useRef(e)};ye.useState=function(e){return $t.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return $t.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return $t.current.useTransition()};ye.version="18.3.1";e_.exports=ye;var g=e_.exports;const U=J1(g),Ug=DP({__proto__:null,default:U},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZP=g,JP=Symbol.for("react.element"),XP=Symbol.for("react.fragment"),eR=Object.prototype.hasOwnProperty,tR=ZP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nR={key:!0,ref:!0,__self:!0,__source:!0};function c_(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)eR.call(t,r)&&!nR.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:JP,type:e,key:i,ref:a,props:s,_owner:tR.current}}lh.Fragment=XP;lh.jsx=c_;lh.jsxs=c_;X1.exports=lh;var o=X1.exports,u_={exports:{}},cn={},d_={exports:{}},h_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,A){var B=R.length;R.push(A);e:for(;0<B;){var ie=B-1>>>1,X=R[ie];if(0<s(X,A))R[ie]=A,R[B]=X,B=ie;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var A=R[0],B=R.pop();if(B!==A){R[0]=B;e:for(var ie=0,X=R.length,fe=X>>>1;ie<fe;){var de=2*(ie+1)-1,De=R[de],Ke=de+1,W=R[Ke];if(0>s(De,B))Ke<X&&0>s(W,De)?(R[ie]=W,R[Ke]=B,ie=Ke):(R[ie]=De,R[de]=B,ie=de);else if(Ke<X&&0>s(W,B))R[ie]=W,R[Ke]=B,ie=Ke;else break e}}return A}function s(R,A){var B=R.sortIndex-A.sortIndex;return B!==0?B:R.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=R)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function _(R){if(p=!1,b(R),!v)if(n(c)!==null)v=!0,$(S);else{var A=n(u);A!==null&&L(_,A.startTime-R)}}function S(R,A){v=!1,p&&(p=!1,y(N),N=-1),m=!0;var B=f;try{for(b(A),h=n(c);h!==null&&(!(h.expirationTime>A)||R&&!D());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var X=ie(h.expirationTime<=A);A=e.unstable_now(),typeof X=="function"?h.callback=X:h===n(c)&&r(c),b(A)}else r(c);h=n(c)}if(h!==null)var fe=!0;else{var de=n(u);de!==null&&L(_,de.startTime-A),fe=!1}return fe}finally{h=null,f=B,m=!1}}var j=!1,k=null,N=-1,T=5,E=-1;function D(){return!(e.unstable_now()-E<T)}function P(){if(k!==null){var R=e.unstable_now();E=R;var A=!0;try{A=k(!0,R)}finally{A?z():(j=!1,k=null)}}else j=!1}var z;if(typeof w=="function")z=function(){w(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Q=O.port2;O.port1.onmessage=P,z=function(){Q.postMessage(null)}}else z=function(){x(P,0)};function $(R){k=R,j||(j=!0,z())}function L(R,A){N=x(function(){R(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var B=f;f=A;try{return R()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,A){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=f;f=R;try{return A()}finally{f=B}},e.unstable_scheduleCallback=function(R,A,B){var ie=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ie+B:ie):B=ie,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,R={id:d++,callback:A,priorityLevel:R,startTime:B,expirationTime:X,sortIndex:-1},B>ie?(R.sortIndex=B,t(u,R),n(c)===null&&R===n(u)&&(p?(y(N),N=-1):p=!0,L(_,B-ie))):(R.sortIndex=X,t(c,R),v||m||(v=!0,$(S))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var A=f;return function(){var B=f;f=A;try{return R.apply(this,arguments)}finally{f=B}}}})(h_);d_.exports=h_;var rR=d_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR=g,on=rR;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f_=new Set,Vl={};function Ji(e,t){mo(e,t),mo(e+"Capture",t)}function mo(e,t){for(Vl[e]=t,e=0;e<t.length;e++)f_.add(t[e])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,iR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wx={},bx={};function aR(e){return jm.call(bx,e)?!0:jm.call(wx,e)?!1:iR.test(e)?bx[e]=!0:(wx[e]=!0,!1)}function oR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lR(e,t,n,r){if(t===null||typeof t>"u"||oR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vg=/[\-:]([a-z])/g;function Bg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vg,Bg);bt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vg,Bg);bt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vg,Bg);bt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function zg(e,t,n,r){var s=bt.hasOwnProperty(t)?bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lR(t,n,s,r)&&(n=null),r||s===null?aR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Br=sR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tu=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),Hg=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),Cm=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),g_=Symbol.for("react.offscreen"),_x=Symbol.iterator;function Zo(e){return e===null||typeof e!="object"?null:(e=_x&&e[_x]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,nf;function hl(e){if(nf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);nf=t&&t[1]||""}return`
`+nf+e}var rf=!1;function sf(e,t){if(!e||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hl(e):""}function cR(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=sf(e.type,!1),e;case 11:return e=sf(e.type.render,!1),e;case 1:return e=sf(e.type,!0),e;default:return""}}function Em(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ja:return"Fragment";case Sa:return"Portal";case km:return"Profiler";case Wg:return"StrictMode";case Nm:return"Suspense";case Cm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p_:return(e.displayName||"Context")+".Consumer";case m_:return(e._context.displayName||"Context")+".Provider";case Hg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qg:return t=e.displayName||null,t!==null?t:Em(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return Em(e(t))}catch{}}return null}function uR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(t);case 8:return t===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dR(e){var t=y_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nu(e){e._valueTracker||(e._valueTracker=dR(e))}function v_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=y_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ld(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tm(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Us(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x_(e,t){t=t.checked,t!=null&&zg(e,"checked",t,!1)}function Pm(e,t){x_(e,t);var n=Us(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rm(e,t.type,Us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rm(e,t,n){(t!=="number"||ld(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fl=Array.isArray;function Va(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Us(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Am(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(fl(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Us(n)}}function w_(e,t){var n=Us(t.value),r=Us(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ru,__=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ru.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hR=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){hR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function S_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function j_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=S_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var fR=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(e,t){if(t){if(fR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Dm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function Kg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lm=null,Ba=null,za=null;function Cx(e){if(e=Dc(e)){if(typeof Lm!="function")throw Error(I(280));var t=e.stateNode;t&&(t=fh(t),Lm(e.stateNode,e.type,t))}}function k_(e){Ba?za?za.push(e):za=[e]:Ba=e}function N_(){if(Ba){var e=Ba,t=za;if(za=Ba=null,Cx(e),t)for(e=0;e<t.length;e++)Cx(t[e])}}function C_(e,t){return e(t)}function E_(){}var af=!1;function T_(e,t,n){if(af)return e(t,n);af=!0;try{return C_(e,t,n)}finally{af=!1,(Ba!==null||za!==null)&&(E_(),N_())}}function zl(e,t){var n=e.stateNode;if(n===null)return null;var r=fh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var $m=!1;if(Or)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){$m=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{$m=!1}function mR(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var jl=!1,cd=null,ud=!1,Fm=null,pR={onError:function(e){jl=!0,cd=e}};function gR(e,t,n,r,s,i,a,l,c){jl=!1,cd=null,mR.apply(pR,arguments)}function yR(e,t,n,r,s,i,a,l,c){if(gR.apply(this,arguments),jl){if(jl){var u=cd;jl=!1,cd=null}else throw Error(I(198));ud||(ud=!0,Fm=u)}}function Xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function P_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ex(e){if(Xi(e)!==e)throw Error(I(188))}function vR(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ex(s),e;if(i===r)return Ex(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function R_(e){return e=vR(e),e!==null?A_(e):null}function A_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=A_(e);if(t!==null)return t;e=e.sibling}return null}var O_=on.unstable_scheduleCallback,Tx=on.unstable_cancelCallback,xR=on.unstable_shouldYield,wR=on.unstable_requestPaint,tt=on.unstable_now,bR=on.unstable_getCurrentPriorityLevel,Gg=on.unstable_ImmediatePriority,I_=on.unstable_UserBlockingPriority,dd=on.unstable_NormalPriority,_R=on.unstable_LowPriority,D_=on.unstable_IdlePriority,ch=null,ar=null;function SR(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(ch,e,void 0,(e.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:NR,jR=Math.log,kR=Math.LN2;function NR(e){return e>>>=0,e===0?32:31-(jR(e)/kR|0)|0}var su=64,iu=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ml(l):(i&=a,i!==0&&(r=ml(i)))}else a=n&~s,a!==0?r=ml(a):i!==0&&(r=ml(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qn(t),s=1<<n,r|=e[n],t&=~s;return r}function CR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ER(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-qn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=CR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Um(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function M_(){var e=su;return su<<=1,!(su&4194240)&&(su=64),e}function of(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qn(t),e[t]=n}function TR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-qn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Yg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pe=0;function L_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $_,Qg,F_,U_,V_,Vm=!1,au=[],Ts=null,Ps=null,Rs=null,Wl=new Map,Hl=new Map,cs=[],PR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Px(e,t){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function Xo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Dc(t),t!==null&&Qg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function RR(e,t,n,r,s){switch(t){case"focusin":return Ts=Xo(Ts,e,t,n,r,s),!0;case"dragenter":return Ps=Xo(Ps,e,t,n,r,s),!0;case"mouseover":return Rs=Xo(Rs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wl.set(i,Xo(Wl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hl.set(i,Xo(Hl.get(i)||null,e,t,n,r,s)),!0}return!1}function B_(e){var t=wi(e.target);if(t!==null){var n=Xi(t);if(n!==null){if(t=n.tag,t===13){if(t=P_(n),t!==null){e.blockedOn=t,V_(e.priority,function(){F_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return t=Dc(n),t!==null&&Qg(t),e.blockedOn=n,!1;t.shift()}return!0}function Rx(e,t,n){Fu(e)&&n.delete(t)}function AR(){Vm=!1,Ts!==null&&Fu(Ts)&&(Ts=null),Ps!==null&&Fu(Ps)&&(Ps=null),Rs!==null&&Fu(Rs)&&(Rs=null),Wl.forEach(Rx),Hl.forEach(Rx)}function el(e,t){e.blockedOn===t&&(e.blockedOn=null,Vm||(Vm=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,AR)))}function ql(e){function t(s){return el(s,e)}if(0<au.length){el(au[0],e);for(var n=1;n<au.length;n++){var r=au[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ts!==null&&el(Ts,e),Ps!==null&&el(Ps,e),Rs!==null&&el(Rs,e),Wl.forEach(t),Hl.forEach(t),n=0;n<cs.length;n++)r=cs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)B_(n),n.blockedOn===null&&cs.shift()}var Wa=Br.ReactCurrentBatchConfig,fd=!0;function OR(e,t,n,r){var s=Pe,i=Wa.transition;Wa.transition=null;try{Pe=1,Zg(e,t,n,r)}finally{Pe=s,Wa.transition=i}}function IR(e,t,n,r){var s=Pe,i=Wa.transition;Wa.transition=null;try{Pe=4,Zg(e,t,n,r)}finally{Pe=s,Wa.transition=i}}function Zg(e,t,n,r){if(fd){var s=Bm(e,t,n,r);if(s===null)yf(e,t,r,md,n),Px(e,r);else if(RR(s,e,t,n,r))r.stopPropagation();else if(Px(e,r),t&4&&-1<PR.indexOf(e)){for(;s!==null;){var i=Dc(s);if(i!==null&&$_(i),i=Bm(e,t,n,r),i===null&&yf(e,t,r,md,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yf(e,t,r,null,n)}}var md=null;function Bm(e,t,n,r){if(md=null,e=Kg(r),e=wi(e),e!==null)if(t=Xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=P_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return md=e,null}function z_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case Gg:return 1;case I_:return 4;case dd:case _R:return 16;case D_:return 536870912;default:return 16}default:return 16}}var _s=null,Jg=null,Uu=null;function W_(){if(Uu)return Uu;var e,t=Jg,n=t.length,r,s="value"in _s?_s.value:_s.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Uu=s.slice(e,1<r?1-r:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ou(){return!0}function Ax(){return!1}function un(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ou:Ax,this.isPropagationStopped=Ax,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ou)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ou)},persist:function(){},isPersistent:ou}),t}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=un(Ro),Ic=qe({},Ro,{view:0,detail:0}),DR=un(Ic),lf,cf,tl,uh=qe({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(lf=e.screenX-tl.screenX,cf=e.screenY-tl.screenY):cf=lf=0,tl=e),lf)},movementY:function(e){return"movementY"in e?e.movementY:cf}}),Ox=un(uh),MR=qe({},uh,{dataTransfer:0}),LR=un(MR),$R=qe({},Ic,{relatedTarget:0}),uf=un($R),FR=qe({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),UR=un(FR),VR=qe({},Ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BR=un(VR),zR=qe({},Ro,{data:0}),Ix=un(zR),WR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qR[e])?!!t[e]:!1}function ey(){return KR}var GR=qe({},Ic,{key:function(e){if(e.key){var t=WR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YR=un(GR),QR=qe({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=un(QR),ZR=qe({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),JR=un(ZR),XR=qe({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),e2=un(XR),t2=qe({},uh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n2=un(t2),r2=[9,13,27,32],ty=Or&&"CompositionEvent"in window,kl=null;Or&&"documentMode"in document&&(kl=document.documentMode);var s2=Or&&"TextEvent"in window&&!kl,H_=Or&&(!ty||kl&&8<kl&&11>=kl),Mx=" ",Lx=!1;function q_(e,t){switch(e){case"keyup":return r2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function i2(e,t){switch(e){case"compositionend":return K_(t);case"keypress":return t.which!==32?null:(Lx=!0,Mx);case"textInput":return e=t.data,e===Mx&&Lx?null:e;default:return null}}function a2(e,t){if(ka)return e==="compositionend"||!ty&&q_(e,t)?(e=W_(),Uu=Jg=_s=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return H_&&t.locale!=="ko"?null:t.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o2[e.type]:t==="textarea"}function G_(e,t,n,r){k_(r),t=pd(t,"onChange"),0<t.length&&(n=new Xg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nl=null,Kl=null;function l2(e){iS(e,0)}function dh(e){var t=Ea(e);if(v_(t))return e}function c2(e,t){if(e==="change")return t}var Y_=!1;if(Or){var df;if(Or){var hf="oninput"in document;if(!hf){var Fx=document.createElement("div");Fx.setAttribute("oninput","return;"),hf=typeof Fx.oninput=="function"}df=hf}else df=!1;Y_=df&&(!document.documentMode||9<document.documentMode)}function Ux(){Nl&&(Nl.detachEvent("onpropertychange",Q_),Kl=Nl=null)}function Q_(e){if(e.propertyName==="value"&&dh(Kl)){var t=[];G_(t,Kl,e,Kg(e)),T_(l2,t)}}function u2(e,t,n){e==="focusin"?(Ux(),Nl=t,Kl=n,Nl.attachEvent("onpropertychange",Q_)):e==="focusout"&&Ux()}function d2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dh(Kl)}function h2(e,t){if(e==="click")return dh(t)}function f2(e,t){if(e==="input"||e==="change")return dh(t)}function m2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gn=typeof Object.is=="function"?Object.is:m2;function Gl(e,t){if(Gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jm.call(t,s)||!Gn(e[s],t[s]))return!1}return!0}function Vx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bx(e,t){var n=Vx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vx(n)}}function Z_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Z_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function J_(){for(var e=window,t=ld();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ld(e.document)}return t}function ny(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p2(e){var t=J_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Z_(n.ownerDocument.documentElement,n)){if(r!==null&&ny(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Bx(n,i);var a=Bx(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g2=Or&&"documentMode"in document&&11>=document.documentMode,Na=null,zm=null,Cl=null,Wm=!1;function zx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wm||Na==null||Na!==ld(r)||(r=Na,"selectionStart"in r&&ny(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Gl(Cl,r)||(Cl=r,r=pd(zm,"onSelect"),0<r.length&&(t=new Xg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Na)))}function lu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ca={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},ff={},X_={};Or&&(X_=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function hh(e){if(ff[e])return ff[e];if(!Ca[e])return e;var t=Ca[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in X_)return ff[e]=t[n];return e}var eS=hh("animationend"),tS=hh("animationiteration"),nS=hh("animationstart"),rS=hh("transitionend"),sS=new Map,Wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(e,t){sS.set(e,t),Ji(t,[e])}for(var mf=0;mf<Wx.length;mf++){var pf=Wx[mf],y2=pf.toLowerCase(),v2=pf[0].toUpperCase()+pf.slice(1);Qs(y2,"on"+v2)}Qs(eS,"onAnimationEnd");Qs(tS,"onAnimationIteration");Qs(nS,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(rS,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x2=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Hx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yR(r,t,void 0,e),e.currentTarget=null}function iS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Hx(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Hx(s,l,u),i=c}}}if(ud)throw e=Fm,ud=!1,Fm=null,e}function Le(e,t){var n=t[Ym];n===void 0&&(n=t[Ym]=new Set);var r=e+"__bubble";n.has(r)||(aS(t,e,2,!1),n.add(r))}function gf(e,t,n){var r=0;t&&(r|=4),aS(n,e,r,t)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[cu]){e[cu]=!0,f_.forEach(function(n){n!=="selectionchange"&&(x2.has(n)||gf(n,!1,e),gf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cu]||(t[cu]=!0,gf("selectionchange",!1,t))}}function aS(e,t,n,r){switch(z_(t)){case 1:var s=OR;break;case 4:s=IR;break;default:s=Zg}n=s.bind(null,t,n,e),s=void 0,!$m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yf(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=wi(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}T_(function(){var u=i,d=Kg(n),h=[];e:{var f=sS.get(e);if(f!==void 0){var m=Xg,v=e;switch(e){case"keypress":if(Vu(n)===0)break e;case"keydown":case"keyup":m=YR;break;case"focusin":v="focus",m=uf;break;case"focusout":v="blur",m=uf;break;case"beforeblur":case"afterblur":m=uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ox;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JR;break;case eS:case tS:case nS:m=UR;break;case rS:m=e2;break;case"scroll":m=DR;break;case"wheel":m=n2;break;case"copy":case"cut":case"paste":m=BR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dx}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=zl(w,y),_!=null&&p.push(Ql(w,_,b)))),x)break;w=w.return}0<p.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Mm&&(v=n.relatedTarget||n.fromElement)&&(wi(v)||v[Ir]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?wi(v):null,v!==null&&(x=Xi(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=Ox,_="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(p=Dx,_="onPointerLeave",y="onPointerEnter",w="pointer"),x=m==null?f:Ea(m),b=v==null?f:Ea(v),f=new p(_,w+"leave",m,n,d),f.target=x,f.relatedTarget=b,_=null,wi(d)===u&&(p=new p(y,w+"enter",v,n,d),p.target=b,p.relatedTarget=x,_=p),x=_,m&&v)t:{for(p=m,y=v,w=0,b=p;b;b=la(b))w++;for(b=0,_=y;_;_=la(_))b++;for(;0<w-b;)p=la(p),w--;for(;0<b-w;)y=la(y),b--;for(;w--;){if(p===y||y!==null&&p===y.alternate)break t;p=la(p),y=la(y)}p=null}else p=null;m!==null&&qx(h,f,m,p,!1),v!==null&&x!==null&&qx(h,x,v,p,!0)}}e:{if(f=u?Ea(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=c2;else if($x(f))if(Y_)S=f2;else{S=d2;var j=u2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=h2);if(S&&(S=S(e,u))){G_(h,S,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Rm(f,"number",f.value)}switch(j=u?Ea(u):window,e){case"focusin":($x(j)||j.contentEditable==="true")&&(Na=j,zm=u,Cl=null);break;case"focusout":Cl=zm=Na=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,zx(h,n,d);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":zx(h,n,d)}var k;if(ty)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ka?q_(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(H_&&n.locale!=="ko"&&(ka||N!=="onCompositionStart"?N==="onCompositionEnd"&&ka&&(k=W_()):(_s=d,Jg="value"in _s?_s.value:_s.textContent,ka=!0)),j=pd(u,N),0<j.length&&(N=new Ix(N,e,null,n,d),h.push({event:N,listeners:j}),k?N.data=k:(k=K_(n),k!==null&&(N.data=k)))),(k=s2?i2(e,n):a2(e,n))&&(u=pd(u,"onBeforeInput"),0<u.length&&(d=new Ix("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}iS(h,t)})}function Ql(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zl(e,n),i!=null&&r.unshift(Ql(e,i,s)),i=zl(e,t),i!=null&&r.push(Ql(e,i,s))),e=e.return}return r}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qx(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=zl(n,i),c!=null&&a.unshift(Ql(n,c,l))):s||(c=zl(n,i),c!=null&&a.push(Ql(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var w2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function Kx(e){return(typeof e=="string"?e:""+e).replace(w2,`
`).replace(b2,"")}function uu(e,t,n){if(t=Kx(t),Kx(e)!==t&&n)throw Error(I(425))}function gd(){}var Hm=null,qm=null;function Km(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(e){return Gx.resolve(null).then(e).catch(j2)}:Gm;function j2(e){setTimeout(function(){throw e})}function vf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ql(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ql(t)}function As(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),rr="__reactFiber$"+Ao,Zl="__reactProps$"+Ao,Ir="__reactContainer$"+Ao,Ym="__reactEvents$"+Ao,k2="__reactListeners$"+Ao,N2="__reactHandles$"+Ao;function wi(e){var t=e[rr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ir]||n[rr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yx(e);e!==null;){if(n=e[rr])return n;e=Yx(e)}return t}e=n,n=e.parentNode}return null}function Dc(e){return e=e[rr]||e[Ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function fh(e){return e[Zl]||null}var Qm=[],Ta=-1;function Zs(e){return{current:e}}function $e(e){0>Ta||(e.current=Qm[Ta],Qm[Ta]=null,Ta--)}function Ie(e,t){Ta++,Qm[Ta]=e.current,e.current=t}var Vs={},Rt=Zs(Vs),Kt=Zs(!1),Fi=Vs;function po(e,t){var n=e.type.contextTypes;if(!n)return Vs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(e){return e=e.childContextTypes,e!=null}function yd(){$e(Kt),$e(Rt)}function Qx(e,t,n){if(Rt.current!==Vs)throw Error(I(168));Ie(Rt,t),Ie(Kt,n)}function oS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,uR(e)||"Unknown",s));return qe({},n,r)}function vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vs,Fi=Rt.current,Ie(Rt,e),Ie(Kt,Kt.current),!0}function Zx(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=oS(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,$e(Kt),$e(Rt),Ie(Rt,e)):$e(Kt),Ie(Kt,n)}var Sr=null,mh=!1,xf=!1;function lS(e){Sr===null?Sr=[e]:Sr.push(e)}function C2(e){mh=!0,lS(e)}function Js(){if(!xf&&Sr!==null){xf=!0;var e=0,t=Pe;try{var n=Sr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sr=null,mh=!1}catch(s){throw Sr!==null&&(Sr=Sr.slice(e+1)),O_(Gg,Js),s}finally{Pe=t,xf=!1}}return null}var Pa=[],Ra=0,xd=null,wd=0,yn=[],vn=0,Ui=null,Nr=1,Cr="";function fi(e,t){Pa[Ra++]=wd,Pa[Ra++]=xd,xd=e,wd=t}function cS(e,t,n){yn[vn++]=Nr,yn[vn++]=Cr,yn[vn++]=Ui,Ui=e;var r=Nr;e=Cr;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var i=32-qn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Nr=1<<32-qn(t)+s|n<<s|r,Cr=i+e}else Nr=1<<i|n<<s|r,Cr=e}function ry(e){e.return!==null&&(fi(e,1),cS(e,1,0))}function sy(e){for(;e===xd;)xd=Pa[--Ra],Pa[Ra]=null,wd=Pa[--Ra],Pa[Ra]=null;for(;e===Ui;)Ui=yn[--vn],yn[vn]=null,Cr=yn[--vn],yn[vn]=null,Nr=yn[--vn],yn[vn]=null}var sn=null,nn=null,Ue=!1,Wn=null;function uS(e,t){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,nn=As(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ui!==null?{id:Nr,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,nn=null,!0):!1;default:return!1}}function Zm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jm(e){if(Ue){var t=nn;if(t){var n=t;if(!Jx(e,t)){if(Zm(e))throw Error(I(418));t=As(n.nextSibling);var r=sn;t&&Jx(e,t)?uS(r,n):(e.flags=e.flags&-4097|2,Ue=!1,sn=e)}}else{if(Zm(e))throw Error(I(418));e.flags=e.flags&-4097|2,Ue=!1,sn=e}}}function Xx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function du(e){if(e!==sn)return!1;if(!Ue)return Xx(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Km(e.type,e.memoizedProps)),t&&(t=nn)){if(Zm(e))throw dS(),Error(I(418));for(;t;)uS(e,t),t=As(t.nextSibling)}if(Xx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nn=As(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=sn?As(e.stateNode.nextSibling):null;return!0}function dS(){for(var e=nn;e;)e=As(e.nextSibling)}function go(){nn=sn=null,Ue=!1}function iy(e){Wn===null?Wn=[e]:Wn.push(e)}var E2=Br.ReactCurrentBatchConfig;function nl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function hu(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function e0(e){var t=e._init;return t(e._payload)}function hS(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function s(y,w){return y=Ms(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,_){return w===null||w.tag!==6?(w=Nf(b,y.mode,_),w.return=y,w):(w=s(w,b),w.return=y,w)}function c(y,w,b,_){var S=b.type;return S===ja?d(y,w,b.props.children,_,b.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===is&&e0(S)===w.type)?(_=s(w,b.props),_.ref=nl(y,w,b),_.return=y,_):(_=Gu(b.type,b.key,b.props,null,y.mode,_),_.ref=nl(y,w,b),_.return=y,_)}function u(y,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Cf(b,y.mode,_),w.return=y,w):(w=s(w,b.children||[]),w.return=y,w)}function d(y,w,b,_,S){return w===null||w.tag!==7?(w=Mi(b,y.mode,_,S),w.return=y,w):(w=s(w,b),w.return=y,w)}function h(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Nf(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tu:return b=Gu(w.type,w.key,w.props,null,y.mode,b),b.ref=nl(y,null,w),b.return=y,b;case Sa:return w=Cf(w,y.mode,b),w.return=y,w;case is:var _=w._init;return h(y,_(w._payload),b)}if(fl(w)||Zo(w))return w=Mi(w,y.mode,b,null),w.return=y,w;hu(y,w)}return null}function f(y,w,b,_){var S=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(y,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tu:return b.key===S?c(y,w,b,_):null;case Sa:return b.key===S?u(y,w,b,_):null;case is:return S=b._init,f(y,w,S(b._payload),_)}if(fl(b)||Zo(b))return S!==null?null:d(y,w,b,_,null);hu(y,b)}return null}function m(y,w,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,l(w,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tu:return y=y.get(_.key===null?b:_.key)||null,c(w,y,_,S);case Sa:return y=y.get(_.key===null?b:_.key)||null,u(w,y,_,S);case is:var j=_._init;return m(y,w,b,j(_._payload),S)}if(fl(_)||Zo(_))return y=y.get(b)||null,d(w,y,_,S,null);hu(w,_)}return null}function v(y,w,b,_){for(var S=null,j=null,k=w,N=w=0,T=null;k!==null&&N<b.length;N++){k.index>N?(T=k,k=null):T=k.sibling;var E=f(y,k,b[N],_);if(E===null){k===null&&(k=T);break}e&&k&&E.alternate===null&&t(y,k),w=i(E,w,N),j===null?S=E:j.sibling=E,j=E,k=T}if(N===b.length)return n(y,k),Ue&&fi(y,N),S;if(k===null){for(;N<b.length;N++)k=h(y,b[N],_),k!==null&&(w=i(k,w,N),j===null?S=k:j.sibling=k,j=k);return Ue&&fi(y,N),S}for(k=r(y,k);N<b.length;N++)T=m(k,y,N,b[N],_),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?N:T.key),w=i(T,w,N),j===null?S=T:j.sibling=T,j=T);return e&&k.forEach(function(D){return t(y,D)}),Ue&&fi(y,N),S}function p(y,w,b,_){var S=Zo(b);if(typeof S!="function")throw Error(I(150));if(b=S.call(b),b==null)throw Error(I(151));for(var j=S=null,k=w,N=w=0,T=null,E=b.next();k!==null&&!E.done;N++,E=b.next()){k.index>N?(T=k,k=null):T=k.sibling;var D=f(y,k,E.value,_);if(D===null){k===null&&(k=T);break}e&&k&&D.alternate===null&&t(y,k),w=i(D,w,N),j===null?S=D:j.sibling=D,j=D,k=T}if(E.done)return n(y,k),Ue&&fi(y,N),S;if(k===null){for(;!E.done;N++,E=b.next())E=h(y,E.value,_),E!==null&&(w=i(E,w,N),j===null?S=E:j.sibling=E,j=E);return Ue&&fi(y,N),S}for(k=r(y,k);!E.done;N++,E=b.next())E=m(k,y,N,E.value,_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?N:E.key),w=i(E,w,N),j===null?S=E:j.sibling=E,j=E);return e&&k.forEach(function(P){return t(y,P)}),Ue&&fi(y,N),S}function x(y,w,b,_){if(typeof b=="object"&&b!==null&&b.type===ja&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case tu:e:{for(var S=b.key,j=w;j!==null;){if(j.key===S){if(S=b.type,S===ja){if(j.tag===7){n(y,j.sibling),w=s(j,b.props.children),w.return=y,y=w;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===is&&e0(S)===j.type){n(y,j.sibling),w=s(j,b.props),w.ref=nl(y,j,b),w.return=y,y=w;break e}n(y,j);break}else t(y,j);j=j.sibling}b.type===ja?(w=Mi(b.props.children,y.mode,_,b.key),w.return=y,y=w):(_=Gu(b.type,b.key,b.props,null,y.mode,_),_.ref=nl(y,w,b),_.return=y,y=_)}return a(y);case Sa:e:{for(j=b.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(y,w.sibling),w=s(w,b.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Cf(b,y.mode,_),w.return=y,y=w}return a(y);case is:return j=b._init,x(y,w,j(b._payload),_)}if(fl(b))return v(y,w,b,_);if(Zo(b))return p(y,w,b,_);hu(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(y,w.sibling),w=s(w,b),w.return=y,y=w):(n(y,w),w=Nf(b,y.mode,_),w.return=y,y=w),a(y)):n(y,w)}return x}var yo=hS(!0),fS=hS(!1),bd=Zs(null),_d=null,Aa=null,ay=null;function oy(){ay=Aa=_d=null}function ly(e){var t=bd.current;$e(bd),e._currentValue=t}function Xm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ha(e,t){_d=e,ay=Aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function jn(e){var t=e._currentValue;if(ay!==e)if(e={context:e,memoizedValue:t,next:null},Aa===null){if(_d===null)throw Error(I(308));Aa=e,_d.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var bi=null;function cy(e){bi===null?bi=[e]:bi.push(e)}function mS(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,cy(t)):(n.next=s.next,s.next=n),t.interleaved=n,Dr(e,r)}function Dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var as=!1;function uy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Dr(e,n)}return s=r.interleaved,s===null?(t.next=t,cy(r)):(t.next=s.next,s.next=t),r.interleaved=t,Dr(e,n)}function Bu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yg(e,n)}}function t0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sd(e,t,n,r){var s=e.updateQueue;as=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(f=t,m=n,p.tag){case 1:if(v=p.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=qe({},h,f);break e;case 2:as=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Bi|=a,e.lanes=a,e.memoizedState=h}}function n0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Mc={},or=Zs(Mc),Jl=Zs(Mc),Xl=Zs(Mc);function _i(e){if(e===Mc)throw Error(I(174));return e}function dy(e,t){switch(Ie(Xl,t),Ie(Jl,e),Ie(or,Mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Om(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Om(t,e)}$e(or),Ie(or,t)}function vo(){$e(or),$e(Jl),$e(Xl)}function gS(e){_i(Xl.current);var t=_i(or.current),n=Om(t,e.type);t!==n&&(Ie(Jl,e),Ie(or,n))}function hy(e){Jl.current===e&&($e(or),$e(Jl))}var ze=Zs(0);function jd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wf=[];function fy(){for(var e=0;e<wf.length;e++)wf[e]._workInProgressVersionPrimary=null;wf.length=0}var zu=Br.ReactCurrentDispatcher,bf=Br.ReactCurrentBatchConfig,Vi=0,He=null,ut=null,ft=null,kd=!1,El=!1,ec=0,T2=0;function jt(){throw Error(I(321))}function my(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function py(e,t,n,r,s,i){if(Vi=i,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zu.current=e===null||e.memoizedState===null?O2:I2,e=n(r,s),El){i=0;do{if(El=!1,ec=0,25<=i)throw Error(I(301));i+=1,ft=ut=null,t.updateQueue=null,zu.current=D2,e=n(r,s)}while(El)}if(zu.current=Nd,t=ut!==null&&ut.next!==null,Vi=0,ft=ut=He=null,kd=!1,t)throw Error(I(300));return e}function gy(){var e=ec!==0;return ec=0,e}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?He.memoizedState=ft=e:ft=ft.next=e,ft}function kn(){if(ut===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=ft===null?He.memoizedState:ft.next;if(t!==null)ft=t,ut=e;else{if(e===null)throw Error(I(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ft===null?He.memoizedState=ft=e:ft=ft.next=e}return ft}function tc(e,t){return typeof t=="function"?t(e):t}function _f(e){var t=kn(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Vi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,He.lanes|=d,Bi|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Gn(r,t.memoizedState)||(Wt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,He.lanes|=i,Bi|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sf(e){var t=kn(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Gn(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function yS(){}function vS(e,t){var n=He,r=kn(),s=t(),i=!Gn(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,yy(bS.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,nc(9,wS.bind(null,n,r,s,t),void 0,null),mt===null)throw Error(I(349));Vi&30||xS(n,t,s)}return s}function xS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wS(e,t,n,r){t.value=n,t.getSnapshot=r,_S(t)&&SS(e)}function bS(e,t,n){return n(function(){_S(t)&&SS(e)})}function _S(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch{return!0}}function SS(e){var t=Dr(e,1);t!==null&&Kn(t,e,1,-1)}function r0(e){var t=Xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:e},t.queue=e,e=e.dispatch=A2.bind(null,He,e),[t.memoizedState,e]}function nc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jS(){return kn().memoizedState}function Wu(e,t,n,r){var s=Xn();He.flags|=e,s.memoizedState=nc(1|t,n,void 0,r===void 0?null:r)}function ph(e,t,n,r){var s=kn();r=r===void 0?null:r;var i=void 0;if(ut!==null){var a=ut.memoizedState;if(i=a.destroy,r!==null&&my(r,a.deps)){s.memoizedState=nc(t,n,i,r);return}}He.flags|=e,s.memoizedState=nc(1|t,n,i,r)}function s0(e,t){return Wu(8390656,8,e,t)}function yy(e,t){return ph(2048,8,e,t)}function kS(e,t){return ph(4,2,e,t)}function NS(e,t){return ph(4,4,e,t)}function CS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ES(e,t,n){return n=n!=null?n.concat([e]):null,ph(4,4,CS.bind(null,t,e),n)}function vy(){}function TS(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&my(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function PS(e,t){var n=kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&my(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function RS(e,t,n){return Vi&21?(Gn(n,t)||(n=M_(),He.lanes|=n,Bi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=n)}function P2(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=bf.transition;bf.transition={};try{e(!1),t()}finally{Pe=n,bf.transition=r}}function AS(){return kn().memoizedState}function R2(e,t,n){var r=Ds(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OS(e))IS(t,n);else if(n=mS(e,t,n,r),n!==null){var s=Lt();Kn(n,e,r,s),DS(n,t,r)}}function A2(e,t,n){var r=Ds(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OS(e))IS(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Gn(l,a)){var c=t.interleaved;c===null?(s.next=s,cy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=mS(e,t,s,r),n!==null&&(s=Lt(),Kn(n,e,r,s),DS(n,t,r))}}function OS(e){var t=e.alternate;return e===He||t!==null&&t===He}function IS(e,t){El=kd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function DS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yg(e,n)}}var Nd={readContext:jn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},O2={readContext:jn,useCallback:function(e,t){return Xn().memoizedState=[e,t===void 0?null:t],e},useContext:jn,useEffect:s0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wu(4194308,4,CS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wu(4,2,e,t)},useMemo:function(e,t){var n=Xn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=R2.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=Xn();return e={current:e},t.memoizedState=e},useState:r0,useDebugValue:vy,useDeferredValue:function(e){return Xn().memoizedState=e},useTransition:function(){var e=r0(!1),t=e[0];return e=P2.bind(null,e[1]),Xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,s=Xn();if(Ue){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),mt===null)throw Error(I(349));Vi&30||xS(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,s0(bS.bind(null,r,i,e),[e]),r.flags|=2048,nc(9,wS.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Xn(),t=mt.identifierPrefix;if(Ue){var n=Cr,r=Nr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ec++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=T2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I2={readContext:jn,useCallback:TS,useContext:jn,useEffect:yy,useImperativeHandle:ES,useInsertionEffect:kS,useLayoutEffect:NS,useMemo:PS,useReducer:_f,useRef:jS,useState:function(){return _f(tc)},useDebugValue:vy,useDeferredValue:function(e){var t=kn();return RS(t,ut.memoizedState,e)},useTransition:function(){var e=_f(tc)[0],t=kn().memoizedState;return[e,t]},useMutableSource:yS,useSyncExternalStore:vS,useId:AS,unstable_isNewReconciler:!1},D2={readContext:jn,useCallback:TS,useContext:jn,useEffect:yy,useImperativeHandle:ES,useInsertionEffect:kS,useLayoutEffect:NS,useMemo:PS,useReducer:Sf,useRef:jS,useState:function(){return Sf(tc)},useDebugValue:vy,useDeferredValue:function(e){var t=kn();return ut===null?t.memoizedState=e:RS(t,ut.memoizedState,e)},useTransition:function(){var e=Sf(tc)[0],t=kn().memoizedState;return[e,t]},useMutableSource:yS,useSyncExternalStore:vS,useId:AS,unstable_isNewReconciler:!1};function $n(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ep(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gh={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),s=Ds(e),i=Pr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Os(e,i,s),t!==null&&(Kn(t,e,s,r),Bu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),s=Ds(e),i=Pr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Os(e,i,s),t!==null&&(Kn(t,e,s,r),Bu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Ds(e),s=Pr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Os(e,s,r),t!==null&&(Kn(t,e,r,n),Bu(t,e,r))}};function i0(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Gl(n,r)||!Gl(s,i):!0}function MS(e,t,n){var r=!1,s=Vs,i=t.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=Gt(t)?Fi:Rt.current,r=t.contextTypes,i=(r=r!=null)?po(e,s):Vs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function a0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gh.enqueueReplaceState(t,t.state,null)}function tp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},uy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=Gt(t)?Fi:Rt.current,s.context=po(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ep(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&gh.enqueueReplaceState(s,s.state,null),Sd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xo(e,t){try{var n="",r=t;do n+=cR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function np(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M2=typeof WeakMap=="function"?WeakMap:Map;function LS(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ed||(Ed=!0,hp=r),np(e,t)},n}function $S(e,t,n){n=Pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){np(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){np(e,t),typeof r!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function o0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Q2.bind(null,e,t,n),t.then(e,e))}function l0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function c0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,Os(n,t,1))),n.lanes|=1),e)}var L2=Br.ReactCurrentOwner,Wt=!1;function It(e,t,n,r){t.child=e===null?fS(t,null,n,r):yo(t,e.child,n,r)}function u0(e,t,n,r,s){n=n.render;var i=t.ref;return Ha(t,s),r=py(e,t,n,r,i,s),n=gy(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mr(e,t,s)):(Ue&&n&&ry(t),t.flags|=1,It(e,t,r,s),t.child)}function d0(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ny(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,FS(e,t,i,r,s)):(e=Gu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(a,r)&&e.ref===t.ref)return Mr(e,t,s)}return t.flags|=1,e=Ms(i,r),e.ref=t.ref,e.return=t,t.child=e}function FS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Gl(i,r)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,Mr(e,t,s)}return rp(e,t,n,r,s)}function US(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ia,Jt),Jt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Ia,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(Ia,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ie(Ia,Jt),Jt|=r;return It(e,t,s,n),t.child}function VS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rp(e,t,n,r,s){var i=Gt(n)?Fi:Rt.current;return i=po(t,i),Ha(t,s),n=py(e,t,n,r,i,s),r=gy(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mr(e,t,s)):(Ue&&r&&ry(t),t.flags|=1,It(e,t,n,s),t.child)}function h0(e,t,n,r,s){if(Gt(n)){var i=!0;vd(t)}else i=!1;if(Ha(t,s),t.stateNode===null)Hu(e,t),MS(t,n,r),tp(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=Gt(n)?Fi:Rt.current,u=po(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&a0(t,a,r,u),as=!1;var f=t.memoizedState;a.state=f,Sd(t,r,a,s),c=t.memoizedState,l!==r||f!==c||Kt.current||as?(typeof d=="function"&&(ep(t,n,d,r),c=t.memoizedState),(l=as||i0(t,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,pS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$n(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=jn(c):(c=Gt(n)?Fi:Rt.current,c=po(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&a0(t,a,r,c),as=!1,f=t.memoizedState,a.state=f,Sd(t,r,a,s);var v=t.memoizedState;l!==h||f!==v||Kt.current||as?(typeof m=="function"&&(ep(t,n,m,r),v=t.memoizedState),(u=as||i0(t,n,u,r,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sp(e,t,n,r,i,s)}function sp(e,t,n,r,s,i){VS(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Zx(t,n,!1),Mr(e,t,i);r=t.stateNode,L2.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=yo(t,e.child,null,i),t.child=yo(t,null,l,i)):It(e,t,l,i),t.memoizedState=r.state,s&&Zx(t,n,!0),t.child}function BS(e){var t=e.stateNode;t.pendingContext?Qx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qx(e,t.context,!1),dy(e,t.containerInfo)}function f0(e,t,n,r,s){return go(),iy(s),t.flags|=256,It(e,t,n,r),t.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function zS(e,t,n){var r=t.pendingProps,s=ze.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ie(ze,s&1),e===null)return Jm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xh(a,r,0,null),e=Mi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ap(n),t.memoizedState=ip,e):xy(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $2(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ms(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ms(l,i):(i=Mi(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?ap(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=ip,r}return i=e.child,e=i.sibling,r=Ms(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xy(e,t){return t=xh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fu(e,t,n,r){return r!==null&&iy(r),yo(t,e.child,null,n),e=xy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $2(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=jf(Error(I(422))),fu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xh({mode:"visible",children:r.children},s,0,null),i=Mi(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&yo(t,e.child,null,a),t.child.memoizedState=ap(a),t.memoizedState=ip,i);if(!(t.mode&1))return fu(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(I(419)),r=jf(i,r,void 0),fu(e,t,a,r)}if(l=(a&e.childLanes)!==0,Wt||l){if(r=mt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dr(e,s),Kn(r,e,s,-1))}return ky(),r=jf(Error(I(421))),fu(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Z2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nn=As(s.nextSibling),sn=t,Ue=!0,Wn=null,e!==null&&(yn[vn++]=Nr,yn[vn++]=Cr,yn[vn++]=Ui,Nr=e.id,Cr=e.overflow,Ui=t),t=xy(t,r.children),t.flags|=4096,t)}function m0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xm(e.return,t,n)}function kf(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function WS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(It(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&m0(e,n,t);else if(e.tag===19)m0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ie(ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&jd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),kf(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}kf(t,!0,n,null,i);break;case"together":kf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function F2(e,t,n){switch(t.tag){case 3:BS(t),go();break;case 5:gS(t);break;case 1:Gt(t.type)&&vd(t);break;case 4:dy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ie(bd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ie(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?zS(e,t,n):(Ie(ze,ze.current&1),e=Mr(e,t,n),e!==null?e.sibling:null);Ie(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return WS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,US(e,t,n)}return Mr(e,t,n)}var HS,op,qS,KS;HS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};qS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,_i(or.current);var i=null;switch(n){case"input":s=Tm(e,s),r=Tm(e,r),i=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),i=[];break;case"textarea":s=Am(e,s),r=Am(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gd)}Im(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};KS=function(e,t,n,r){n!==r&&(t.flags|=4)};function rl(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function U2(e,t,n){var r=t.pendingProps;switch(sy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Gt(t.type)&&yd(),kt(t),null;case 3:return r=t.stateNode,vo(),$e(Kt),$e(Rt),fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(du(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(pp(Wn),Wn=null))),op(e,t),kt(t),null;case 5:hy(t);var s=_i(Xl.current);if(n=t.type,e!==null&&t.stateNode!=null)qS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return kt(t),null}if(e=_i(or.current),du(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[rr]=t,r[Zl]=i,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<pl.length;s++)Le(pl[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Sx(r,i),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Le("invalid",r);break;case"textarea":kx(r,i),Le("invalid",r)}Im(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&uu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&uu(r.textContent,l,e),s=["children",""+l]):Vl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Le("scroll",r)}switch(n){case"input":nu(r),jx(r,i,!0);break;case"textarea":nu(r),Nx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[rr]=t,e[Zl]=r,HS(e,t,!1,!1),t.stateNode=e;e:{switch(a=Dm(n,r),n){case"dialog":Le("cancel",e),Le("close",e),s=r;break;case"iframe":case"object":case"embed":Le("load",e),s=r;break;case"video":case"audio":for(s=0;s<pl.length;s++)Le(pl[s],e);s=r;break;case"source":Le("error",e),s=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=r;break;case"details":Le("toggle",e),s=r;break;case"input":Sx(e,r),s=Tm(e,r),Le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),Le("invalid",e);break;case"textarea":kx(e,r),s=Am(e,r),Le("invalid",e);break;default:s=r}Im(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?j_(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&__(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Le("scroll",e):c!=null&&zg(e,i,c,a))}switch(n){case"input":nu(e),jx(e,r,!1);break;case"textarea":nu(e),Nx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Us(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Va(e,!!r.multiple,i,!1):r.defaultValue!=null&&Va(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)KS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=_i(Xl.current),_i(or.current),du(t)){if(r=t.stateNode,n=t.memoizedProps,r[rr]=t,(i=r.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:uu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rr]=t,t.stateNode=r}return kt(t),null;case 13:if($e(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&nn!==null&&t.mode&1&&!(t.flags&128))dS(),go(),t.flags|=98560,i=!1;else if(i=du(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[rr]=t}else go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),i=!1}else Wn!==null&&(pp(Wn),Wn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?ht===0&&(ht=3):ky())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return vo(),op(e,t),e===null&&Yl(t.stateNode.containerInfo),kt(t),null;case 10:return ly(t.type._context),kt(t),null;case 17:return Gt(t.type)&&yd(),kt(t),null;case 19:if($e(ze),i=t.memoizedState,i===null)return kt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)rl(i,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=jd(e),a!==null){for(t.flags|=128,rl(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ie(ze,ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>wo&&(t.flags|=128,r=!0,rl(i,!1),t.lanes=4194304)}else{if(!r)if(e=jd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ue)return kt(t),null}else 2*tt()-i.renderingStartTime>wo&&n!==1073741824&&(t.flags|=128,r=!0,rl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,n=ze.current,Ie(ze,r?n&1|2:n&1),t):(kt(t),null);case 22:case 23:return jy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function V2(e,t){switch(sy(t),t.tag){case 1:return Gt(t.type)&&yd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vo(),$e(Kt),$e(Rt),fy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hy(t),null;case 13:if($e(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(ze),null;case 4:return vo(),null;case 10:return ly(t.type._context),null;case 22:case 23:return jy(),null;case 24:return null;default:return null}}var mu=!1,Tt=!1,B2=typeof WeakSet=="function"?WeakSet:Set,G=null;function Oa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function lp(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var p0=!1;function z2(e,t){if(Hm=fd,e=J_(),ny(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:e,selectionRange:n},fd=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,x=v.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:$n(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(_){Xe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return v=p0,p0=!1,v}function Tl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lp(t,n,i)}s=s.next}while(s!==r)}}function yh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function GS(e){var t=e.alternate;t!==null&&(e.alternate=null,GS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[Zl],delete t[Ym],delete t[k2],delete t[N2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YS(e){return e.tag===5||e.tag===3||e.tag===4}function g0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gd));else if(r!==4&&(e=e.child,e!==null))for(up(e,t,n),e=e.sibling;e!==null;)up(e,t,n),e=e.sibling}function dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dp(e,t,n),e=e.sibling;e!==null;)dp(e,t,n),e=e.sibling}var vt=null,Bn=!1;function Yr(e,t,n){for(n=n.child;n!==null;)QS(e,t,n),n=n.sibling}function QS(e,t,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(ch,n)}catch{}switch(n.tag){case 5:Tt||Oa(n,t);case 6:var r=vt,s=Bn;vt=null,Yr(e,t,n),vt=r,Bn=s,vt!==null&&(Bn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Bn?(e=vt,n=n.stateNode,e.nodeType===8?vf(e.parentNode,n):e.nodeType===1&&vf(e,n),ql(e)):vf(vt,n.stateNode));break;case 4:r=vt,s=Bn,vt=n.stateNode.containerInfo,Bn=!0,Yr(e,t,n),vt=r,Bn=s;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lp(n,t,a),s=s.next}while(s!==r)}Yr(e,t,n);break;case 1:if(!Tt&&(Oa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xe(n,t,l)}Yr(e,t,n);break;case 21:Yr(e,t,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Yr(e,t,n),Tt=r):Yr(e,t,n);break;default:Yr(e,t,n)}}function y0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new B2),t.forEach(function(r){var s=J2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function An(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Bn=!1;break e;case 3:vt=l.stateNode.containerInfo,Bn=!0;break e;case 4:vt=l.stateNode.containerInfo,Bn=!0;break e}l=l.return}if(vt===null)throw Error(I(160));QS(i,a,s),vt=null,Bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZS(t,e),t=t.sibling}function ZS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(t,e),Jn(e),r&4){try{Tl(3,e,e.return),yh(3,e)}catch(p){Xe(e,e.return,p)}try{Tl(5,e,e.return)}catch(p){Xe(e,e.return,p)}}break;case 1:An(t,e),Jn(e),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(An(t,e),Jn(e),r&512&&n!==null&&Oa(n,n.return),e.flags&32){var s=e.stateNode;try{Bl(s,"")}catch(p){Xe(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&x_(s,i),Dm(l,a);var u=Dm(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?j_(s,h):d==="dangerouslySetInnerHTML"?__(s,h):d==="children"?Bl(s,h):zg(s,d,h,u)}switch(l){case"input":Pm(s,i);break;case"textarea":w_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Va(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Va(s,!!i.multiple,i.defaultValue,!0):Va(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zl]=i}catch(p){Xe(e,e.return,p)}}break;case 6:if(An(t,e),Jn(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){Xe(e,e.return,p)}}break;case 3:if(An(t,e),Jn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(p){Xe(e,e.return,p)}break;case 4:An(t,e),Jn(e);break;case 13:An(t,e),Jn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_y=tt())),r&4&&y0(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Tt=(u=Tt)||d,An(t,e),Tt=u):An(t,e),Jn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,m=f.child,f.tag){case 0:case 11:case 14:case 15:Tl(4,f,f.return);break;case 1:Oa(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Xe(r,n,p)}}break;case 5:Oa(f,f.return);break;case 22:if(f.memoizedState!==null){x0(h);continue}}m!==null?(m.return=f,G=m):x0(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=S_("display",a))}catch(p){Xe(e,e.return,p)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){Xe(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:An(t,e),Jn(e),r&4&&y0(e);break;case 21:break;default:An(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YS(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bl(s,""),r.flags&=-33);var i=g0(e);dp(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=g0(e);up(e,l,a);break;default:throw Error(I(161))}}catch(c){Xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W2(e,t,n){G=e,JS(e)}function JS(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||mu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Tt;l=mu;var u=Tt;if(mu=a,(Tt=c)&&!u)for(G=s;G!==null;)a=G,c=a.child,a.tag===22&&a.memoizedState!==null?w0(s):c!==null?(c.return=a,G=c):w0(s);for(;i!==null;)G=i,JS(i),i=i.sibling;G=s,mu=l,Tt=u}v0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):v0(e)}}function v0(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tt||yh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:$n(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&n0(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}n0(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ql(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Tt||t.flags&512&&cp(t)}catch(f){Xe(t,t.return,f)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function x0(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function w0(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yh(4,t)}catch(c){Xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Xe(t,s,c)}}var i=t.return;try{cp(t)}catch(c){Xe(t,i,c)}break;case 5:var a=t.return;try{cp(t)}catch(c){Xe(t,a,c)}}}catch(c){Xe(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var H2=Math.ceil,Cd=Br.ReactCurrentDispatcher,wy=Br.ReactCurrentOwner,bn=Br.ReactCurrentBatchConfig,be=0,mt=null,at=null,wt=0,Jt=0,Ia=Zs(0),ht=0,rc=null,Bi=0,vh=0,by=0,Pl=null,zt=null,_y=0,wo=1/0,xr=null,Ed=!1,hp=null,Is=null,pu=!1,Ss=null,Td=0,Rl=0,fp=null,qu=-1,Ku=0;function Lt(){return be&6?tt():qu!==-1?qu:qu=tt()}function Ds(e){return e.mode&1?be&2&&wt!==0?wt&-wt:E2.transition!==null?(Ku===0&&(Ku=M_()),Ku):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:z_(e.type)),e):1}function Kn(e,t,n,r){if(50<Rl)throw Rl=0,fp=null,Error(I(185));Oc(e,n,r),(!(be&2)||e!==mt)&&(e===mt&&(!(be&2)&&(vh|=n),ht===4&&us(e,wt)),Yt(e,r),n===1&&be===0&&!(t.mode&1)&&(wo=tt()+500,mh&&Js()))}function Yt(e,t){var n=e.callbackNode;ER(e,t);var r=hd(e,e===mt?wt:0);if(r===0)n!==null&&Tx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Tx(n),t===1)e.tag===0?C2(b0.bind(null,e)):lS(b0.bind(null,e)),S2(function(){!(be&6)&&Js()}),n=null;else{switch(L_(r)){case 1:n=Gg;break;case 4:n=I_;break;case 16:n=dd;break;case 536870912:n=D_;break;default:n=dd}n=aj(n,XS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function XS(e,t){if(qu=-1,Ku=0,be&6)throw Error(I(327));var n=e.callbackNode;if(qa()&&e.callbackNode!==n)return null;var r=hd(e,e===mt?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pd(e,r);else{t=r;var s=be;be|=2;var i=tj();(mt!==e||wt!==t)&&(xr=null,wo=tt()+500,Di(e,t));do try{G2();break}catch(l){ej(e,l)}while(!0);oy(),Cd.current=i,be=s,at!==null?t=0:(mt=null,wt=0,t=ht)}if(t!==0){if(t===2&&(s=Um(e),s!==0&&(r=s,t=mp(e,s))),t===1)throw n=rc,Di(e,0),us(e,r),Yt(e,tt()),n;if(t===6)us(e,r);else{if(s=e.current.alternate,!(r&30)&&!q2(s)&&(t=Pd(e,r),t===2&&(i=Um(e),i!==0&&(r=i,t=mp(e,i))),t===1))throw n=rc,Di(e,0),us(e,r),Yt(e,tt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:mi(e,zt,xr);break;case 3:if(us(e,r),(r&130023424)===r&&(t=_y+500-tt(),10<t)){if(hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gm(mi.bind(null,e,zt,xr),t);break}mi(e,zt,xr);break;case 4:if(us(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-qn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*H2(r/1960))-r,10<r){e.timeoutHandle=Gm(mi.bind(null,e,zt,xr),r);break}mi(e,zt,xr);break;case 5:mi(e,zt,xr);break;default:throw Error(I(329))}}}return Yt(e,tt()),e.callbackNode===n?XS.bind(null,e):null}function mp(e,t){var n=Pl;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=Pd(e,t),e!==2&&(t=zt,zt=n,t!==null&&pp(t)),e}function pp(e){zt===null?zt=e:zt.push.apply(zt,e)}function q2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~by,t&=~vh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qn(t),r=1<<n;e[n]=-1,t&=~r}}function b0(e){if(be&6)throw Error(I(327));qa();var t=hd(e,0);if(!(t&1))return Yt(e,tt()),null;var n=Pd(e,t);if(e.tag!==0&&n===2){var r=Um(e);r!==0&&(t=r,n=mp(e,r))}if(n===1)throw n=rc,Di(e,0),us(e,t),Yt(e,tt()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mi(e,zt,xr),Yt(e,tt()),null}function Sy(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(wo=tt()+500,mh&&Js())}}function zi(e){Ss!==null&&Ss.tag===0&&!(be&6)&&qa();var t=be;be|=1;var n=bn.transition,r=Pe;try{if(bn.transition=null,Pe=1,e)return e()}finally{Pe=r,bn.transition=n,be=t,!(be&6)&&Js()}}function jy(){Jt=Ia.current,$e(Ia)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_2(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(sy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:vo(),$e(Kt),$e(Rt),fy();break;case 5:hy(r);break;case 4:vo();break;case 13:$e(ze);break;case 19:$e(ze);break;case 10:ly(r.type._context);break;case 22:case 23:jy()}n=n.return}if(mt=e,at=e=Ms(e.current,null),wt=Jt=t,ht=0,rc=null,by=vh=Bi=0,zt=Pl=null,bi!==null){for(t=0;t<bi.length;t++)if(n=bi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}bi=null}return e}function ej(e,t){do{var n=at;try{if(oy(),zu.current=Nd,kd){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kd=!1}if(Vi=0,ft=ut=He=null,El=!1,ec=0,wy.current=null,n===null||n.return===null){ht=1,rc=t,at=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=l0(a);if(m!==null){m.flags&=-257,c0(m,a,l,i,t),m.mode&1&&o0(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){o0(i,u,t),ky();break e}c=Error(I(426))}}else if(Ue&&l.mode&1){var x=l0(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),c0(x,a,l,i,t),iy(xo(c,l));break e}}i=c=xo(c,l),ht!==4&&(ht=2),Pl===null?Pl=[i]:Pl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=LS(i,c,t);t0(i,y);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Is===null||!Is.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=$S(i,l,t);t0(i,_);break e}}i=i.return}while(i!==null)}rj(n)}catch(S){t=S,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function tj(){var e=Cd.current;return Cd.current=Nd,e===null?Nd:e}function ky(){(ht===0||ht===3||ht===2)&&(ht=4),mt===null||!(Bi&268435455)&&!(vh&268435455)||us(mt,wt)}function Pd(e,t){var n=be;be|=2;var r=tj();(mt!==e||wt!==t)&&(xr=null,Di(e,t));do try{K2();break}catch(s){ej(e,s)}while(!0);if(oy(),be=n,Cd.current=r,at!==null)throw Error(I(261));return mt=null,wt=0,ht}function K2(){for(;at!==null;)nj(at)}function G2(){for(;at!==null&&!xR();)nj(at)}function nj(e){var t=ij(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?rj(e):at=t,wy.current=null}function rj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=V2(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,at=null;return}}else if(n=U2(n,t,Jt),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ht===0&&(ht=5)}function mi(e,t,n){var r=Pe,s=bn.transition;try{bn.transition=null,Pe=1,Y2(e,t,n,r)}finally{bn.transition=s,Pe=r}return null}function Y2(e,t,n,r){do qa();while(Ss!==null);if(be&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(TR(e,i),e===mt&&(at=mt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,aj(dd,function(){return qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bn.transition,bn.transition=null;var a=Pe;Pe=1;var l=be;be|=4,wy.current=null,z2(e,n),ZS(n,e),p2(qm),fd=!!Hm,qm=Hm=null,e.current=n,W2(n),wR(),be=l,Pe=a,bn.transition=i}else e.current=n;if(pu&&(pu=!1,Ss=e,Td=s),i=e.pendingLanes,i===0&&(Is=null),SR(n.stateNode),Yt(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ed)throw Ed=!1,e=hp,hp=null,e;return Td&1&&e.tag!==0&&qa(),i=e.pendingLanes,i&1?e===fp?Rl++:(Rl=0,fp=e):Rl=0,Js(),null}function qa(){if(Ss!==null){var e=L_(Td),t=bn.transition,n=Pe;try{if(bn.transition=null,Pe=16>e?16:e,Ss===null)var r=!1;else{if(e=Ss,Ss=null,Td=0,be&6)throw Error(I(331));var s=be;for(be|=4,G=e.current;G!==null;){var i=G,a=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Tl(8,d,i)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,m=d.return;if(GS(d),d===u){G=null;break}if(f!==null){f.return=m,G=f;break}G=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}G=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,G=a;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,G=y;break e}G=i.return}}var w=e.current;for(G=w;G!==null;){a=G;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,G=b;else e:for(a=w;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yh(9,l)}}catch(S){Xe(l,l.return,S)}if(l===a){G=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,G=_;break e}G=l.return}}if(be=s,Js(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(ch,e)}catch{}r=!0}return r}finally{Pe=n,bn.transition=t}}return!1}function _0(e,t,n){t=xo(n,t),t=LS(e,t,1),e=Os(e,t,1),t=Lt(),e!==null&&(Oc(e,1,t),Yt(e,t))}function Xe(e,t,n){if(e.tag===3)_0(e,e,n);else for(;t!==null;){if(t.tag===3){_0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){e=xo(n,e),e=$S(t,e,1),t=Os(t,e,1),e=Lt(),t!==null&&(Oc(t,1,e),Yt(t,e));break}}t=t.return}}function Q2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(wt&n)===n&&(ht===4||ht===3&&(wt&130023424)===wt&&500>tt()-_y?Di(e,0):by|=n),Yt(e,t)}function sj(e,t){t===0&&(e.mode&1?(t=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):t=1);var n=Lt();e=Dr(e,t),e!==null&&(Oc(e,t,n),Yt(e,n))}function Z2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sj(e,n)}function J2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),sj(e,n)}var ij;ij=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kt.current)Wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wt=!1,F2(e,t,n);Wt=!!(e.flags&131072)}else Wt=!1,Ue&&t.flags&1048576&&cS(t,wd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var s=po(t,Rt.current);Ha(t,n),s=py(null,t,r,e,s,n);var i=gy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(r)?(i=!0,vd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uy(t),s.updater=gh,t.stateNode=s,s._reactInternals=t,tp(t,r,e,n),t=sp(null,t,r,!0,i,n)):(t.tag=0,Ue&&i&&ry(t),It(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=eA(r),e=$n(r,e),s){case 0:t=rp(null,t,r,e,n);break e;case 1:t=h0(null,t,r,e,n);break e;case 11:t=u0(null,t,r,e,n);break e;case 14:t=d0(null,t,r,$n(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),rp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),h0(e,t,r,s,n);case 3:e:{if(BS(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,pS(e,t),Sd(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xo(Error(I(423)),t),t=f0(e,t,r,n,s);break e}else if(r!==s){s=xo(Error(I(424)),t),t=f0(e,t,r,n,s);break e}else for(nn=As(t.stateNode.containerInfo.firstChild),sn=t,Ue=!0,Wn=null,n=fS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===s){t=Mr(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return gS(t),e===null&&Jm(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Km(r,s)?a=null:i!==null&&Km(r,i)&&(t.flags|=32),VS(e,t),It(e,t,a,n),t.child;case 6:return e===null&&Jm(t),null;case 13:return zS(e,t,n);case 4:return dy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yo(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),u0(e,t,r,s,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Ie(bd,r._currentValue),r._currentValue=a,i!==null)if(Gn(i.value,a)){if(i.children===s.children&&!Kt.current){t=Mr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Pr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Xm(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xm(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}It(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ha(t,n),s=jn(s),r=r(s),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,s=$n(r,t.pendingProps),s=$n(r.type,s),d0(e,t,r,s,n);case 15:return FS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$n(r,s),Hu(e,t),t.tag=1,Gt(r)?(e=!0,vd(t)):e=!1,Ha(t,n),MS(t,r,s),tp(t,r,s,n),sp(null,t,r,!0,e,n);case 19:return WS(e,t,n);case 22:return US(e,t,n)}throw Error(I(156,t.tag))};function aj(e,t){return O_(e,t)}function X2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,r){return new X2(e,t,n,r)}function Ny(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eA(e){if(typeof e=="function")return Ny(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hg)return 11;if(e===qg)return 14}return 2}function Ms(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Ny(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ja:return Mi(n.children,s,i,t);case Wg:a=8,s|=8;break;case km:return e=xn(12,n,t,s|2),e.elementType=km,e.lanes=i,e;case Nm:return e=xn(13,n,t,s),e.elementType=Nm,e.lanes=i,e;case Cm:return e=xn(19,n,t,s),e.elementType=Cm,e.lanes=i,e;case g_:return xh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m_:a=10;break e;case p_:a=9;break e;case Hg:a=11;break e;case qg:a=14;break e;case is:a=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=xn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mi(e,t,n,r){return e=xn(7,e,r,t),e.lanes=n,e}function xh(e,t,n,r){return e=xn(22,e,r,t),e.elementType=g_,e.lanes=n,e.stateNode={isHidden:!1},e}function Nf(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Cf(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cy(e,t,n,r,s,i,a,l,c){return e=new tA(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(i),e}function nA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function oj(e){if(!e)return Vs;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Gt(n))return oS(e,n,t)}return t}function lj(e,t,n,r,s,i,a,l,c){return e=Cy(n,r,!0,e,s,i,a,l,c),e.context=oj(null),n=e.current,r=Lt(),s=Ds(n),i=Pr(r,s),i.callback=t??null,Os(n,i,s),e.current.lanes=s,Oc(e,s,r),Yt(e,r),e}function wh(e,t,n,r){var s=t.current,i=Lt(),a=Ds(s);return n=oj(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Os(s,t,a),e!==null&&(Kn(e,s,a,i),Bu(e,s,a)),a}function Rd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ey(e,t){S0(e,t),(e=e.alternate)&&S0(e,t)}function rA(){return null}var cj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ty(e){this._internalRoot=e}bh.prototype.render=Ty.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));wh(e,t,null,null)};bh.prototype.unmount=Ty.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zi(function(){wh(null,e,null,null)}),t[Ir]=null}};function bh(e){this._internalRoot=e}bh.prototype.unstable_scheduleHydration=function(e){if(e){var t=U_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cs.length&&t!==0&&t<cs[n].priority;n++);cs.splice(n,0,e),n===0&&B_(e)}};function Py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function j0(){}function sA(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Rd(a);i.call(u)}}var a=lj(t,r,e,0,null,!1,!1,"",j0);return e._reactRootContainer=a,e[Ir]=a.current,Yl(e.nodeType===8?e.parentNode:e),zi(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Rd(c);l.call(u)}}var c=Cy(e,0,!1,null,null,!1,!1,"",j0);return e._reactRootContainer=c,e[Ir]=c.current,Yl(e.nodeType===8?e.parentNode:e),zi(function(){wh(t,c,n,r)}),c}function Sh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Rd(a);l.call(c)}}wh(t,a,e,s)}else a=sA(n,t,e,s,r);return Rd(a)}$_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ml(t.pendingLanes);n!==0&&(Yg(t,n|1),Yt(t,tt()),!(be&6)&&(wo=tt()+500,Js()))}break;case 13:zi(function(){var r=Dr(e,1);if(r!==null){var s=Lt();Kn(r,e,1,s)}}),Ey(e,1)}};Qg=function(e){if(e.tag===13){var t=Dr(e,134217728);if(t!==null){var n=Lt();Kn(t,e,134217728,n)}Ey(e,134217728)}};F_=function(e){if(e.tag===13){var t=Ds(e),n=Dr(e,t);if(n!==null){var r=Lt();Kn(n,e,t,r)}Ey(e,t)}};U_=function(){return Pe};V_=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Lm=function(e,t,n){switch(t){case"input":if(Pm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fh(r);if(!s)throw Error(I(90));v_(r),Pm(r,s)}}}break;case"textarea":w_(e,n);break;case"select":t=n.value,t!=null&&Va(e,!!n.multiple,t,!1)}};C_=Sy;E_=zi;var iA={usingClientEntryPoint:!1,Events:[Dc,Ea,fh,k_,N_,Sy]},sl={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aA={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R_(e),e===null?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||rA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{ch=gu.inject(aA),ar=gu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iA;cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Py(t))throw Error(I(200));return nA(e,t,null,n)};cn.createRoot=function(e,t){if(!Py(e))throw Error(I(299));var n=!1,r="",s=cj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cy(e,1,!1,null,null,n,!1,r,s),e[Ir]=t.current,Yl(e.nodeType===8?e.parentNode:e),new Ty(t)};cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=R_(t),e=e===null?null:e.stateNode,e};cn.flushSync=function(e){return zi(e)};cn.hydrate=function(e,t,n){if(!_h(t))throw Error(I(200));return Sh(null,e,t,!0,n)};cn.hydrateRoot=function(e,t,n){if(!Py(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=cj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=lj(t,null,e,1,n??null,s,!1,i,a),e[Ir]=t.current,Yl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new bh(t)};cn.render=function(e,t,n){if(!_h(t))throw Error(I(200));return Sh(null,e,t,!1,n)};cn.unmountComponentAtNode=function(e){if(!_h(e))throw Error(I(40));return e._reactRootContainer?(zi(function(){Sh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ir]=null})}),!0):!1};cn.unstable_batchedUpdates=Sy;cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_h(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Sh(e,t,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function uj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uj)}catch(e){console.error(e)}}uj(),u_.exports=cn;var ea=u_.exports;const dj=J1(ea);var hj,k0=ea;hj=k0.createRoot,k0.hydrateRoot;const oA=1,lA=1e6;let Ef=0;function cA(){return Ef=(Ef+1)%Number.MAX_SAFE_INTEGER,Ef.toString()}const Tf=new Map,N0=e=>{if(Tf.has(e))return;const t=setTimeout(()=>{Tf.delete(e),Al({type:"REMOVE_TOAST",toastId:e})},lA);Tf.set(e,t)},uA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,oA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?N0(n):e.toasts.forEach(r=>{N0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Yu=[];let Qu={toasts:[]};function Al(e){Qu=uA(Qu,e),Yu.forEach(t=>{t(Qu)})}function dA({...e}){const t=cA(),n=s=>Al({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Al({type:"DISMISS_TOAST",toastId:t});return Al({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function mr(){const[e,t]=g.useState(Qu);return g.useEffect(()=>(Yu.push(t),()=>{const n=Yu.indexOf(t);n>-1&&Yu.splice(n,1)}),[e]),{...e,toast:dA,dismiss:n=>Al({type:"DISMISS_TOAST",toastId:n})}}function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function C0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fj(...e){return t=>{let n=!1;const r=e.map(s=>{const i=C0(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():C0(e[s],null)}}}}function Ce(...e){return g.useCallback(fj(...e),e)}function hA(e,t){const n=g.createContext(t),r=i=>{const{children:a,...l}=i,c=g.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=g.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function pr(e,t=[]){let n=[];function r(i,a){const l=g.createContext(a),c=n.length;n=[...n,a];const u=h=>{var y;const{scope:f,children:m,...v}=h,p=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,x=g.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(h,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,v=g.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,fA(s,...t)]}function fA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Wi(e){const t=pA(e),n=g.forwardRef((r,s)=>{const{children:i,...a}=r,l=g.Children.toArray(i),c=l.find(yA);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var mA=Wi("Slot");function pA(e){const t=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const a=xA(s),l=vA(i,s.props);return s.type!==g.Fragment&&(l.ref=r?fj(r,a):a),g.cloneElement(s,l)}return g.Children.count(s)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mj=Symbol("radix.slottable");function gA(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=mj,t}function yA(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mj}function vA(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function xA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ry(e){const t=e+"CollectionProvider",[n,r]=pr(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:x,children:y}=p,w=U.useRef(null),b=U.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:b,collectionRef:w,children:y})};a.displayName=t;const l=e+"CollectionSlot",c=Wi(l),u=U.forwardRef((p,x)=>{const{scope:y,children:w}=p,b=i(l,y),_=Ce(x,b.collectionRef);return o.jsx(c,{ref:_,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Wi(d),m=U.forwardRef((p,x)=>{const{scope:y,children:w,...b}=p,_=U.useRef(null),S=Ce(x,_),j=i(d,y);return U.useEffect(()=>(j.itemMap.set(_,{ref:_,...b}),()=>void j.itemMap.delete(_))),o.jsx(f,{[h]:"",ref:S,children:w})});m.displayName=d;function v(p){const x=i(e+"CollectionConsumer",p);return U.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((j,k)=>b.indexOf(j.ref.current)-b.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},v,r]}var wA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=wA.reduce((e,t)=>{const n=Wi(`Primitive.${t}`),r=g.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function pj(e,t){e&&ea.flushSync(()=>e.dispatchEvent(t))}function Nn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function bA(e,t=globalThis==null?void 0:globalThis.document){const n=Nn(e);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _A="DismissableLayer",gp="dismissableLayer.update",SA="dismissableLayer.pointerDownOutside",jA="dismissableLayer.focusOutside",E0,gj=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oo=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=g.useContext(gj),[d,h]=g.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),v=Ce(t,k=>h(k)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),w=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=y,S=NA(k=>{const N=k.target,T=[...u.branches].some(E=>E.contains(N));!_||T||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},f),j=CA(k=>{const N=k.target;[...u.branches].some(E=>E.contains(N))||(i==null||i(k),a==null||a(k),k.defaultPrevented||l==null||l())},f);return bA(k=>{w===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(E0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),T0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=E0)}},[d,f,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),T0())},[d,u]),g.useEffect(()=>{const k=()=>m({});return document.addEventListener(gp,k),()=>document.removeEventListener(gp,k)},[]),o.jsx(ue.div,{...c,ref:v,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,S.onPointerDownCapture)})});Oo.displayName=_A;var kA="DismissableLayerBranch",yj=g.forwardRef((e,t)=>{const n=g.useContext(gj),r=g.useRef(null),s=Ce(t,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ue.div,{...e,ref:s})});yj.displayName=kA;function NA(e,t=globalThis==null?void 0:globalThis.document){const n=Nn(e),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){vj(SA,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function CA(e,t=globalThis==null?void 0:globalThis.document){const n=Nn(e),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&vj(jA,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T0(){const e=new CustomEvent(gp);document.dispatchEvent(e)}function vj(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?pj(s,i):s.dispatchEvent(i)}var EA=Oo,TA=yj,_t=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},PA="Portal",Lc=g.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=g.useState(!1);_t(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?dj.createPortal(o.jsx(ue.div,{...r,ref:t}),a):null});Lc.displayName=PA;function RA(e,t){return g.useReducer((n,r)=>t[n][r]??n,e)}var zr=e=>{const{present:t,children:n}=e,r=AA(t),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Ce(r.ref,OA(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};zr.displayName="Presence";function AA(e){const[t,n]=g.useState(),r=g.useRef(null),s=g.useRef(e),i=g.useRef("none"),a=e?"mounted":"unmounted",[l,c]=RA(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=yu(r.current);i.current=l==="mounted"?u:"none"},[l]),_t(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,m=yu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),_t(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const p=yu(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=m=>{m.target===t&&(i.current=yu(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function yu(e){return(e==null?void 0:e.animationName)||"none"}function OA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IA=Ug[" useInsertionEffect ".trim().toString()]||_t;function Bs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=DA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=g.useCallback(d=>{var h;if(l){const f=MA(d)?d(e):d;f!==e&&((h=a.current)==null||h.call(a,f))}else i(d)},[l,e,i,a]);return[c,u]}function DA({defaultProp:e,onChange:t}){const[n,r]=g.useState(e),s=g.useRef(n),i=g.useRef(t);return IA(()=>{i.current=t},[t]),g.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function MA(e){return typeof e=="function"}var xj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LA="VisuallyHidden",jh=g.forwardRef((e,t)=>o.jsx(ue.span,{...e,ref:t,style:{...xj,...e.style}}));jh.displayName=LA;var $A=jh,Ay="ToastProvider",[Oy,FA,UA]=Ry("Toast"),[wj,ZW]=pr("Toast",[UA]),[VA,kh]=wj(Ay),bj=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ay}\`. Expected non-empty \`string\`.`),o.jsx(Oy.Provider,{scope:t,children:o.jsx(VA,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};bj.displayName=Ay;var _j="ToastViewport",BA=["F8"],yp="toast.viewportPause",vp="toast.viewportResume",Sj=g.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=BA,label:s="Notifications ({hotkey})",...i}=e,a=kh(_j,n),l=FA(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=Ce(t,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;g.useEffect(()=>{const x=y=>{var b;r.length!==0&&r.every(_=>y[_]||y.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),g.useEffect(()=>{const x=c.current,y=h.current;if(v&&x&&y){const w=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(yp);y.dispatchEvent(j),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(vp);y.dispatchEvent(j),a.isClosePausedRef.current=!1}},_=j=>{!x.contains(j.relatedTarget)&&b()},S=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",w),x.addEventListener("focusout",_),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[v,a.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:x})=>{const w=l().map(b=>{const _=b.ref.current,S=[_,...tO(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return g.useEffect(()=>{const x=h.current;if(x){const y=w=>{var S,j,k;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const N=document.activeElement,T=w.shiftKey;if(w.target===x&&T){(S=u.current)==null||S.focus();return}const P=p({tabbingDirection:T?"backwards":"forwards"}),z=P.findIndex(O=>O===N);Pf(P.slice(z+1))?w.preventDefault():T?(j=u.current)==null||j.focus():(k=d.current)==null||k.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),o.jsxs(TA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(xp,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Pf(x)}}),o.jsx(Oy.Slot,{scope:n,children:o.jsx(ue.ol,{tabIndex:-1,...i,ref:f})}),v&&o.jsx(xp,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Pf(x)}})]})});Sj.displayName=_j;var jj="ToastFocusProxy",xp=g.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=kh(jj,n);return o.jsx(jh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});xp.displayName=jj;var $c="Toast",zA="toast.swipeStart",WA="toast.swipeMove",HA="toast.swipeCancel",qA="toast.swipeEnd",kj=g.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l,c]=Bs({prop:r,defaultProp:s??!0,onChange:i,caller:$c});return o.jsx(zr,{present:n||l,children:o.jsx(YA,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Nn(e.onPause),onResume:Nn(e.onResume),onSwipeStart:ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});kj.displayName=$c;var[KA,GA]=wj($c,{onClose(){}}),YA=g.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...v}=e,p=kh($c,n),[x,y]=g.useState(null),w=Ce(t,O=>y(O)),b=g.useRef(null),_=g.useRef(null),S=s||p.duration,j=g.useRef(0),k=g.useRef(S),N=g.useRef(0),{onToastAdd:T,onToastRemove:E}=p,D=Nn(()=>{var Q;(x==null?void 0:x.contains(document.activeElement))&&((Q=p.viewport)==null||Q.focus()),a()}),P=g.useCallback(O=>{!O||O===1/0||(window.clearTimeout(N.current),j.current=new Date().getTime(),N.current=window.setTimeout(D,O))},[D]);g.useEffect(()=>{const O=p.viewport;if(O){const Q=()=>{P(k.current),u==null||u()},$=()=>{const L=new Date().getTime()-j.current;k.current=k.current-L,window.clearTimeout(N.current),c==null||c()};return O.addEventListener(yp,$),O.addEventListener(vp,Q),()=>{O.removeEventListener(yp,$),O.removeEventListener(vp,Q)}}},[p.viewport,S,c,u,P]),g.useEffect(()=>{i&&!p.isClosePausedRef.current&&P(S)},[i,S,p.isClosePausedRef,P]),g.useEffect(()=>(T(),()=>E()),[T,E]);const z=g.useMemo(()=>x?Aj(x):null,[x]);return p.viewport?o.jsxs(o.Fragment,{children:[z&&o.jsx(QA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),o.jsx(KA,{scope:n,onClose:D,children:ea.createPortal(o.jsx(Oy.ItemSlot,{scope:n,children:o.jsx(EA,{asChild:!0,onEscapeKeyDown:ee(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||D(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ee(e.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:ee(e.onPointerMove,O=>{if(!b.current)return;const Q=O.clientX-b.current.x,$=O.clientY-b.current.y,L=!!_.current,R=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,B=R?A(0,Q):0,ie=R?0:A(0,$),X=O.pointerType==="touch"?10:2,fe={x:B,y:ie},de={originalEvent:O,delta:fe};L?(_.current=fe,vu(WA,h,de,{discrete:!1})):P0(fe,p.swipeDirection,X)?(_.current=fe,vu(zA,d,de,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(Q)>X||Math.abs($)>X)&&(b.current=null)}),onPointerUp:ee(e.onPointerUp,O=>{const Q=_.current,$=O.target;if($.hasPointerCapture(O.pointerId)&&$.releasePointerCapture(O.pointerId),_.current=null,b.current=null,Q){const L=O.currentTarget,R={originalEvent:O,delta:Q};P0(Q,p.swipeDirection,p.swipeThreshold)?vu(qA,m,R,{discrete:!0}):vu(HA,f,R,{discrete:!0}),L.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),QA=e=>{const{__scopeToast:t,children:n,...r}=e,s=kh($c,t),[i,a]=g.useState(!1),[l,c]=g.useState(!1);return XA(()=>a(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Lc,{asChild:!0,children:o.jsx(jh,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},ZA="ToastTitle",Nj=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ue.div,{...r,ref:t})});Nj.displayName=ZA;var JA="ToastDescription",Cj=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ue.div,{...r,ref:t})});Cj.displayName=JA;var Ej="ToastAction",Tj=g.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(Rj,{altText:n,asChild:!0,children:o.jsx(Iy,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ej}\`. Expected non-empty \`string\`.`),null)});Tj.displayName=Ej;var Pj="ToastClose",Iy=g.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=GA(Pj,n);return o.jsx(Rj,{asChild:!0,children:o.jsx(ue.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,s.onClose)})})});Iy.displayName=Pj;var Rj=g.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Aj(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),eO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...Aj(r))}}),t}function vu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?pj(s,i):s.dispatchEvent(i)}var P0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function XA(e=()=>{}){const t=Nn(e);_t(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function eO(e){return e.nodeType===e.ELEMENT_NODE}function tO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var nO=bj,Oj=Sj,Ij=kj,Dj=Nj,Mj=Cj,Lj=Tj,$j=Iy;function Fj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Fj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Uj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Fj(e))&&(r&&(r+=" "),r+=t);return r}const R0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,A0=Uj,Nh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return A0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=R0(d)||R0(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(v=>{let[p,x]=v;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,h,f]:u},[]);return A0(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...sO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Vj("lucide",s),...l},[...a.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(iO,{ref:i,iconNode:t,className:Vj(`lucide-${rO(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=ne("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ne("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ne("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ne("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=ne("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=ne("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ne("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Uy="-",kO=e=>{const t=CO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Uy);return l[0]===""&&l.length!==1&&l.shift(),Jj(l,t)||NO(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},Jj=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Jj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Uy);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},D0=/^\[(.+)\]$/,NO=e=>{if(D0.test(e)){const t=D0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},CO=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return TO(Object.entries(e.classGroups),n).forEach(([i,a])=>{Sp(a,r,i,t)}),r},Sp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:M0(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(EO(s)){Sp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Sp(a,M0(t,i),n,r)})})},M0=(e,t)=>{let n=e;return t.split(Uy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EO=e=>e.isThemeGetter,TO=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,PO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Xj="!",RO=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let y=l[x];if(u===0){if(y===s&&(r||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(y==="/"){h=x;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(Xj),v=m?f.substring(1):f,p=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:a}):a},AO=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},OO=e=>({cache:PO(e.cacheSize),parseClassName:RO(e),...kO(e)}),IO=/\s+/,DO=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(IO);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let v=!!m,p=r(v?f.substring(0,m):f);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=AO(d).join(":"),y=h?x+Xj:x,w=y+p;if(i.includes(w))continue;i.push(w);const b=s(p,v);for(let _=0;_<b.length;++_){const S=b[_];i.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function MO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ek(t))&&(r&&(r+=" "),r+=n);return r}const ek=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ek(e[r]))&&(n&&(n+=" "),n+=t);return n};function LO(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=OO(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=DO(c,n);return s(c,d),d}return function(){return i(MO.apply(null,arguments))}}const Me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},tk=/^\[(?:([a-z-]+):)?(.+)\]$/i,$O=/^\d+\/\d+$/,FO=new Set(["px","full","screen"]),UO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yr=e=>Ka(e)||FO.has(e)||$O.test(e),Qr=e=>Lo(e,"length",JO),Ka=e=>!!e&&!Number.isNaN(Number(e)),Rf=e=>Lo(e,"number",Ka),il=e=>!!e&&Number.isInteger(Number(e)),HO=e=>e.endsWith("%")&&Ka(e.slice(0,-1)),me=e=>tk.test(e),Zr=e=>UO.test(e),qO=new Set(["length","size","percentage"]),KO=e=>Lo(e,qO,nk),GO=e=>Lo(e,"position",nk),YO=new Set(["image","url"]),QO=e=>Lo(e,YO,eI),ZO=e=>Lo(e,"",XO),al=()=>!0,Lo=(e,t,n)=>{const r=tk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},JO=e=>VO.test(e)&&!BO.test(e),nk=()=>!1,XO=e=>zO.test(e),eI=e=>WO.test(e),tI=()=>{const e=Me("colors"),t=Me("spacing"),n=Me("blur"),r=Me("brightness"),s=Me("borderColor"),i=Me("borderRadius"),a=Me("borderSpacing"),l=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),h=Me("invert"),f=Me("gap"),m=Me("gradientColorStops"),v=Me("gradientColorStopPositions"),p=Me("inset"),x=Me("margin"),y=Me("opacity"),w=Me("padding"),b=Me("saturate"),_=Me("scale"),S=Me("sepia"),j=Me("skew"),k=Me("space"),N=Me("translate"),T=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",me,t],P=()=>[me,t],z=()=>["",yr,Qr],O=()=>["auto",Ka,me],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",me],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Ka,me];return{cacheSize:500,separator:":",theme:{colors:[al],spacing:[yr,Qr],blur:["none","",Zr,me],brightness:ie(),borderColor:[e],borderRadius:["none","","full",Zr,me],borderSpacing:P(),borderWidth:z(),contrast:ie(),grayscale:A(),hueRotate:ie(),invert:A(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[HO,Qr],inset:D(),margin:D(),opacity:ie(),padding:P(),saturate:ie(),scale:ie(),sepia:A(),skew:ie(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Zr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),me]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",il,me]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",il,me]}],"grid-cols":[{"grid-cols":[al]}],"col-start-end":[{col:["auto",{span:["full",il,me]},me]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[al]}],"row-start-end":[{row:["auto",{span:[il,me]},me]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[Zr]},Zr]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Zr,Qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rf]}],"font-family":[{font:[al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Ka,Rf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yr,Qr]}],"underline-offset":[{"underline-offset":["auto",yr,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),GO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[yr,me]}],"outline-w":[{outline:[yr,Qr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[yr,Qr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Zr,ZO]}],"shadow-color":[{shadow:[al]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zr,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[il,me]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,Qr,Rf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nI=LO(tI);function oe(...e){return nI(Uj(e))}const rI=nO,rk=g.forwardRef(({className:e,...t},n)=>o.jsx(Oj,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));rk.displayName=Oj.displayName;const sI=Nh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sk=g.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(Ij,{ref:r,className:oe(sI({variant:t}),e),...n}));sk.displayName=Ij.displayName;const iI=g.forwardRef(({className:e,...t},n)=>o.jsx(Lj,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));iI.displayName=Lj.displayName;const ik=g.forwardRef(({className:e,...t},n)=>o.jsx($j,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Mo,{className:"h-4 w-4"})}));ik.displayName=$j.displayName;const ak=g.forwardRef(({className:e,...t},n)=>o.jsx(Dj,{ref:n,className:oe("text-sm font-semibold",e),...t}));ak.displayName=Dj.displayName;const ok=g.forwardRef(({className:e,...t},n)=>o.jsx(Mj,{ref:n,className:oe("text-sm opacity-90",e),...t}));ok.displayName=Mj.displayName;function aI(){const{toasts:e}=mr();return o.jsxs(rI,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(sk,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(ak,{children:n}),r&&o.jsx(ok,{children:r})]}),s,o.jsx(ik,{})]},t)}),o.jsx(rk,{})]})}var L0=["light","dark"],oI="(prefers-color-scheme: dark)",lI=g.createContext(void 0),cI={setTheme:e=>{},themes:[]},uI=()=>{var e;return(e=g.useContext(lI))!=null?e:cI};g.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?L0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,p=!1,x=!0)=>{let y=a?a[v]:v,w=p?v+"|| ''":`'${y}'`,b="";return s&&x&&!p&&L0.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),n==="class"?p||y?b+=`c.add(${w})`:b+="null":y&&(b+=`d[s](n,${w})`),b},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${oI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var dI=e=>{switch(e){case"success":return mI;case"info":return gI;case"warning":return pI;case"error":return yI;default:return null}},hI=Array(12).fill(0),fI=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},hI.map((n,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),mI=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pI=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gI=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yI=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vI=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xI=()=>{let[e,t]=U.useState(document.hidden);return U.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},jp=1,wI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jp++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],U.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(_I(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||jp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bt=new wI,bI=(e,t)=>{let n=(t==null?void 0:t.id)||jp++;return Bt.addToast({title:e,...t,id:n}),n},_I=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",SI=bI,jI=()=>Bt.toasts,kI=()=>Bt.getActiveToasts();Object.assign(SI,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:jI,getToasts:kI});function NI(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}NI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xu(e){return e.label!==void 0}var CI=3,EI="32px",TI="16px",$0=4e3,PI=356,RI=14,AI=20,OI=200;function On(...e){return e.filter(Boolean).join(" ")}function II(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var DI=e=>{var t,n,r,s,i,a,l,c,u,d,h;let{invert:f,toast:m,unstyled:v,interacting:p,setHeights:x,visibleToasts:y,heights:w,index:b,toasts:_,expanded:S,removeToast:j,defaultRichColors:k,closeButton:N,style:T,cancelButtonStyle:E,actionButtonStyle:D,className:P="",descriptionClassName:z="",duration:O,position:Q,gap:$,loadingIcon:L,expandByDefault:R,classNames:A,icons:B,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:X}=e,[fe,de]=U.useState(null),[De,Ke]=U.useState(null),[W,Ee]=U.useState(!1),[Ge,ke]=U.useState(!1),[xe,Se]=U.useState(!1),[St,hn]=U.useState(!1),[ii,Hr]=U.useState(!1),[ai,Yo]=U.useState(0),[sa,ux]=U.useState(0),Qo=U.useRef(m.duration||O||$0),dx=U.useRef(null),oi=U.useRef(null),NP=b===0,CP=b+1<=y,fn=m.type,ia=m.dismissible!==!1,EP=m.className||"",TP=m.descriptionClassName||"",Jc=U.useMemo(()=>w.findIndex(he=>he.toastId===m.id)||0,[w,m.id]),PP=U.useMemo(()=>{var he;return(he=m.closeButton)!=null?he:N},[m.closeButton,N]),hx=U.useMemo(()=>m.duration||O||$0,[m.duration,O]),Jh=U.useRef(0),aa=U.useRef(0),fx=U.useRef(0),oa=U.useRef(null),[RP,AP]=Q.split("-"),mx=U.useMemo(()=>w.reduce((he,Re,Fe)=>Fe>=Jc?he:he+Re.height,0),[w,Jc]),px=xI(),OP=m.invert||f,Xh=fn==="loading";aa.current=U.useMemo(()=>Jc*$+mx,[Jc,mx]),U.useEffect(()=>{Qo.current=hx},[hx]),U.useEffect(()=>{Ee(!0)},[]),U.useEffect(()=>{let he=oi.current;if(he){let Re=he.getBoundingClientRect().height;return ux(Re),x(Fe=>[{toastId:m.id,height:Re,position:m.position},...Fe]),()=>x(Fe=>Fe.filter(Tn=>Tn.toastId!==m.id))}},[x,m.id]),U.useLayoutEffect(()=>{if(!W)return;let he=oi.current,Re=he.style.height;he.style.height="auto";let Fe=he.getBoundingClientRect().height;he.style.height=Re,ux(Fe),x(Tn=>Tn.find(Pn=>Pn.toastId===m.id)?Tn.map(Pn=>Pn.toastId===m.id?{...Pn,height:Fe}:Pn):[{toastId:m.id,height:Fe,position:m.position},...Tn])},[W,m.title,m.description,x,m.id]);let qr=U.useCallback(()=>{ke(!0),Yo(aa.current),x(he=>he.filter(Re=>Re.toastId!==m.id)),setTimeout(()=>{j(m)},OI)},[m,j,x,aa]);U.useEffect(()=>{if(m.promise&&fn==="loading"||m.duration===1/0||m.type==="loading")return;let he;return S||p||X&&px?(()=>{if(fx.current<Jh.current){let Re=new Date().getTime()-Jh.current;Qo.current=Qo.current-Re}fx.current=new Date().getTime()})():Qo.current!==1/0&&(Jh.current=new Date().getTime(),he=setTimeout(()=>{var Re;(Re=m.onAutoClose)==null||Re.call(m,m),qr()},Qo.current)),()=>clearTimeout(he)},[S,p,m,fn,X,px,qr]),U.useEffect(()=>{m.delete&&qr()},[qr,m.delete]);function IP(){var he,Re,Fe;return B!=null&&B.loading?U.createElement("div",{className:On(A==null?void 0:A.loader,(he=m==null?void 0:m.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":fn==="loading"},B.loading):L?U.createElement("div",{className:On(A==null?void 0:A.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":fn==="loading"},L):U.createElement(fI,{className:On(A==null?void 0:A.loader,(Fe=m==null?void 0:m.classNames)==null?void 0:Fe.loader),visible:fn==="loading"})}return U.createElement("li",{tabIndex:0,ref:oi,className:On(P,EP,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[fn],(n=m==null?void 0:m.classNames)==null?void 0:n[fn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:k,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":ii,"data-removed":Ge,"data-visible":CP,"data-y-position":RP,"data-x-position":AP,"data-index":b,"data-front":NP,"data-swiping":xe,"data-dismissible":ia,"data-type":fn,"data-invert":OP,"data-swipe-out":St,"data-swipe-direction":De,"data-expanded":!!(S||R&&W),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Ge?ai:aa.current}px`,"--initial-height":R?"auto":`${sa}px`,...T,...m.style},onDragEnd:()=>{Se(!1),de(null),oa.current=null},onPointerDown:he=>{Xh||!ia||(dx.current=new Date,Yo(aa.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(Se(!0),oa.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Re,Fe,Tn;if(St||!ia)return;oa.current=null;let Pn=Number(((he=oi.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Kr=Number(((Re=oi.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),li=new Date().getTime()-((Fe=dx.current)==null?void 0:Fe.getTime()),Rn=fe==="x"?Pn:Kr,Gr=Math.abs(Rn)/li;if(Math.abs(Rn)>=AI||Gr>.11){Yo(aa.current),(Tn=m.onDismiss)==null||Tn.call(m,m),Ke(fe==="x"?Pn>0?"right":"left":Kr>0?"down":"up"),qr(),hn(!0),Hr(!1);return}Se(!1),de(null)},onPointerMove:he=>{var Re,Fe,Tn,Pn;if(!oa.current||!ia||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Kr=he.clientY-oa.current.y,li=he.clientX-oa.current.x,Rn=(Fe=e.swipeDirections)!=null?Fe:II(Q);!fe&&(Math.abs(li)>1||Math.abs(Kr)>1)&&de(Math.abs(li)>Math.abs(Kr)?"x":"y");let Gr={x:0,y:0};fe==="y"?(Rn.includes("top")||Rn.includes("bottom"))&&(Rn.includes("top")&&Kr<0||Rn.includes("bottom")&&Kr>0)&&(Gr.y=Kr):fe==="x"&&(Rn.includes("left")||Rn.includes("right"))&&(Rn.includes("left")&&li<0||Rn.includes("right")&&li>0)&&(Gr.x=li),(Math.abs(Gr.x)>0||Math.abs(Gr.y)>0)&&Hr(!0),(Tn=oi.current)==null||Tn.style.setProperty("--swipe-amount-x",`${Gr.x}px`),(Pn=oi.current)==null||Pn.style.setProperty("--swipe-amount-y",`${Gr.y}px`)}},PP&&!m.jsx?U.createElement("button",{"aria-label":ie,"data-disabled":Xh,"data-close-button":!0,onClick:Xh||!ia?()=>{}:()=>{var he;qr(),(he=m.onDismiss)==null||he.call(m,m)},className:On(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=B==null?void 0:B.close)!=null?i:vI):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:U.createElement(U.Fragment,null,fn||m.icon||m.promise?U.createElement("div",{"data-icon":"",className:On(A==null?void 0:A.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||IP():null,m.type!=="loading"?m.icon||(B==null?void 0:B[fn])||dI(fn):null):null,U.createElement("div",{"data-content":"",className:On(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},U.createElement("div",{"data-title":"",className:On(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?U.createElement("div",{"data-description":"",className:On(z,TP,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&xu(m.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:he=>{var Re,Fe;xu(m.cancel)&&ia&&((Fe=(Re=m.cancel).onClick)==null||Fe.call(Re,he),qr())},className:On(A==null?void 0:A.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&xu(m.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:he=>{var Re,Fe;xu(m.action)&&((Fe=(Re=m.action).onClick)==null||Fe.call(Re,he),!he.defaultPrevented&&qr())},className:On(A==null?void 0:A.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function F0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function MI(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?TI:EI;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var LI=g.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:v=CI,toastOptions:p,dir:x=F0(),gap:y=RI,loadingIcon:w,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[j,k]=U.useState([]),N=U.useMemo(()=>Array.from(new Set([r].concat(j.filter(X=>X.position).map(X=>X.position)))),[j,r]),[T,E]=U.useState([]),[D,P]=U.useState(!1),[z,O]=U.useState(!1),[Q,$]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=U.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=U.useRef(null),B=U.useRef(!1),ie=U.useCallback(X=>{k(fe=>{var de;return(de=fe.find(De=>De.id===X.id))!=null&&de.delete||Bt.dismiss(X.id),fe.filter(({id:De})=>De!==X.id)})},[]);return U.useEffect(()=>Bt.subscribe(X=>{if(X.dismiss){k(fe=>fe.map(de=>de.id===X.id?{...de,delete:!0}:de));return}setTimeout(()=>{dj.flushSync(()=>{k(fe=>{let de=fe.findIndex(De=>De.id===X.id);return de!==-1?[...fe.slice(0,de),{...fe[de],...X},...fe.slice(de+1)]:[X,...fe]})})})}),[]),U.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:fe})=>{$(fe?"dark":"light")})}catch{X.addListener(({matches:de})=>{try{$(de?"dark":"light")}catch(De){console.error(De)}})}},[d]),U.useEffect(()=>{j.length<=1&&P(!1)},[j]),U.useEffect(()=>{let X=fe=>{var de,De;s.every(Ke=>fe[Ke]||fe.code===Ke)&&(P(!0),(de=L.current)==null||de.focus()),fe.code==="Escape"&&(document.activeElement===L.current||(De=L.current)!=null&&De.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),U.useEffect(()=>{if(L.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,B.current=!1)}},[L.current]),U.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((X,fe)=>{var de;let[De,Ke]=X.split("-");return j.length?U.createElement("ol",{key:X,dir:x==="auto"?F0():x,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":De,"data-lifted":D&&j.length>1&&!i,"data-x-position":Ke,style:{"--front-toast-height":`${((de=T[0])==null?void 0:de.height)||0}px`,"--width":`${PI}px`,"--gap":`${y}px`,...m,...MI(c,u)},onBlur:W=>{B.current&&!W.currentTarget.contains(W.relatedTarget)&&(B.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||B.current||(B.current=!0,A.current=W.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{z||P(!1)},onDragEnd:()=>P(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},j.filter(W=>!W.position&&fe===0||W.position===X).map((W,Ee)=>{var Ge,ke;return U.createElement(DI,{key:W.id,icons:b,index:Ee,toast:W,defaultRichColors:h,duration:(Ge=p==null?void 0:p.duration)!=null?Ge:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:v,closeButton:(ke=p==null?void 0:p.closeButton)!=null?ke:a,interacting:z,position:X,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ie,toasts:j.filter(xe=>xe.position==W.position),heights:T.filter(xe=>xe.position==W.position),setHeights:E,expandByDefault:i,gap:y,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const $I=({...e})=>{const{theme:t="system"}=uI();return o.jsx(LI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var FI=Ug[" useId ".trim().toString()]||(()=>{}),UI=0;function Rr(e){const[t,n]=g.useState(FI());return _t(()=>{e||n(r=>r??String(UI++))},[e]),e||(t?`radix-${t}`:"")}const VI=["top","right","bottom","left"],zs=Math.min,Xt=Math.max,Dd=Math.round,wu=Math.floor,lr=e=>({x:e,y:e}),BI={left:"right",right:"left",bottom:"top",top:"bottom"},zI={start:"end",end:"start"};function kp(e,t,n){return Xt(e,zs(t,n))}function Lr(e,t){return typeof e=="function"?e(t):e}function $r(e){return e.split("-")[0]}function $o(e){return e.split("-")[1]}function Vy(e){return e==="x"?"y":"x"}function By(e){return e==="y"?"height":"width"}const WI=new Set(["top","bottom"]);function ir(e){return WI.has($r(e))?"y":"x"}function zy(e){return Vy(ir(e))}function HI(e,t,n){n===void 0&&(n=!1);const r=$o(e),s=zy(e),i=By(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Md(a)),[a,Md(a)]}function qI(e){const t=Md(e);return[Np(e),t,Np(t)]}function Np(e){return e.replace(/start|end/g,t=>zI[t])}const U0=["left","right"],V0=["right","left"],KI=["top","bottom"],GI=["bottom","top"];function YI(e,t,n){switch(e){case"top":case"bottom":return n?t?V0:U0:t?U0:V0;case"left":case"right":return t?KI:GI;default:return[]}}function QI(e,t,n,r){const s=$o(e);let i=YI($r(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Np)))),i}function Md(e){return e.replace(/left|right|bottom|top/g,t=>BI[t])}function ZI(e){return{top:0,right:0,bottom:0,left:0,...e}}function lk(e){return typeof e!="number"?ZI(e):{top:e,right:e,bottom:e,left:e}}function Ld(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function B0(e,t,n){let{reference:r,floating:s}=e;const i=ir(t),a=zy(t),l=By(a),c=$r(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch($o(t)){case"start":m[a]-=f*(n&&u?-1:1);break;case"end":m[a]+=f*(n&&u?-1:1);break}return m}const JI=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=B0(u,r,c),f=r,m={},v=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:w,y:b,data:_,reset:S}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=w??d,h=b??h,m={...m,[x]:{...m[x],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=B0(u,f,c)),p=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function ic(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Lr(t,e),v=lk(m),x=l[f?h==="floating"?"reference":"floating":h],y=Ld(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(y.top-S.top+v.top)/_.y,bottom:(S.bottom-y.bottom+v.bottom)/_.y,left:(y.left-S.left+v.left)/_.x,right:(S.right-y.right+v.right)/_.x}}const XI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Lr(e,t)||{};if(u==null)return{};const h=lk(d),f={x:n,y:r},m=zy(s),v=By(m),p=await a.getDimensions(u),x=m==="y",y=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[m]-f[m]-i.floating[v],S=f[m]-i.reference[m],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=j?j[b]:0;(!k||!await(a.isElement==null?void 0:a.isElement(j)))&&(k=l.floating[b]||i.floating[v]);const N=_/2-S/2,T=k/2-p[v]/2-1,E=zs(h[y],T),D=zs(h[w],T),P=E,z=k-p[v]-D,O=k/2-p[v]/2+N,Q=kp(P,O,z),$=!c.arrow&&$o(s)!=null&&O!==Q&&i.reference[v]/2-(O<P?E:D)-p[v]/2<0,L=$?O<P?O-P:O-z:0;return{[m]:f[m]+L,data:{[m]:Q,centerOffset:O-Q-L,...$&&{alignmentOffset:L}},reset:$}}}),eD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...x}=Lr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=$r(s),w=ir(l),b=$r(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(b||!p?[Md(l)]:qI(l)),j=v!=="none";!f&&j&&S.push(...QI(l,p,v,_));const k=[l,...S],N=await ic(t,x),T=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(N[y]),h){const O=HI(s,a,_);T.push(N[O[0]],N[O[1]])}if(E=[...E,{placement:s,overflows:T}],!T.every(O=>O<=0)){var D,P;const O=(((D=i.flip)==null?void 0:D.index)||0)+1,Q=k[O];if(Q&&(!(h==="alignment"?w!==ir(Q):!1)||E.every(R=>R.overflows[0]>0&&ir(R.placement)===w)))return{data:{index:O,overflows:E},reset:{placement:Q}};let $=(P=E.filter(L=>L.overflows[0]<=0).sort((L,R)=>L.overflows[1]-R.overflows[1])[0])==null?void 0:P.placement;if(!$)switch(m){case"bestFit":{var z;const L=(z=E.filter(R=>{if(j){const A=ir(R.placement);return A===w||A==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(A=>A>0).reduce((A,B)=>A+B,0)]).sort((R,A)=>R[1]-A[1])[0])==null?void 0:z[0];L&&($=L);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function z0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function W0(e){return VI.some(t=>e[t]>=0)}const tD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Lr(e,t);switch(r){case"referenceHidden":{const i=await ic(t,{...s,elementContext:"reference"}),a=z0(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:W0(a)}}}case"escaped":{const i=await ic(t,{...s,altBoundary:!0}),a=z0(i,n.floating);return{data:{escapedOffsets:a,escaped:W0(a)}}}default:return{}}}}},ck=new Set(["left","top"]);async function nD(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=$r(n),l=$o(n),c=ir(n)==="y",u=ck.has(a)?-1:1,d=i&&c?-1:1,h=Lr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const rD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await nD(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},sD=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...c}=Lr(e,t),u={x:n,y:r},d=await ic(t,c),h=ir($r(s)),f=Vy(h);let m=u[f],v=u[h];if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=m+d[x],b=m-d[y];m=kp(w,m,b)}if(a){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=v+d[x],b=v-d[y];v=kp(w,v,b)}const p=l.fn({...t,[f]:m,[h]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:a}}}}}},iD=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Lr(e,t),d={x:n,y:r},h=ir(s),f=Vy(h);let m=d[f],v=d[h];const p=Lr(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=f==="y"?"height":"width",_=i.reference[f]-i.floating[b]+x.mainAxis,S=i.reference[f]+i.reference[b]-x.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var y,w;const b=f==="y"?"width":"height",_=ck.has($r(s)),S=i.reference[h]-i.floating[b]+(_&&((y=a.offset)==null?void 0:y[h])||0)+(_?0:x.crossAxis),j=i.reference[h]+i.reference[b]+(_?0:((w=a.offset)==null?void 0:w[h])||0)-(_?x.crossAxis:0);v<S?v=S:v>j&&(v=j)}return{[f]:m,[h]:v}}}},aD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=Lr(e,t),d=await ic(t,u),h=$r(s),f=$o(s),m=ir(s)==="y",{width:v,height:p}=i.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=f==="end"?"top":"bottom");const w=p-d.top-d.bottom,b=v-d.left-d.right,_=zs(p-d[x],w),S=zs(v-d[y],b),j=!t.middlewareData.shift;let k=_,N=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=w),j&&!f){const E=Xt(d.left,0),D=Xt(d.right,0),P=Xt(d.top,0),z=Xt(d.bottom,0);m?N=v-2*(E!==0||D!==0?E+D:Xt(d.left,d.right)):k=p-2*(P!==0||z!==0?P+z:Xt(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:k});const T=await a.getDimensions(l.floating);return v!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function Fo(e){return uk(e)?(e.nodeName||"").toLowerCase():"#document"}function an(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function gr(e){var t;return(t=(uk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uk(e){return Ch()?e instanceof Node||e instanceof an(e).Node:!1}function Yn(e){return Ch()?e instanceof Element||e instanceof an(e).Element:!1}function hr(e){return Ch()?e instanceof HTMLElement||e instanceof an(e).HTMLElement:!1}function H0(e){return!Ch()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof an(e).ShadowRoot}const oD=new Set(["inline","contents"]);function Uc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!oD.has(s)}const lD=new Set(["table","td","th"]);function cD(e){return lD.has(Fo(e))}const uD=[":popover-open",":modal"];function Eh(e){return uD.some(t=>{try{return e.matches(t)}catch{return!1}})}const dD=["transform","translate","scale","rotate","perspective"],hD=["transform","translate","scale","rotate","perspective","filter"],fD=["paint","layout","strict","content"];function Wy(e){const t=Hy(),n=Yn(e)?Qn(e):e;return dD.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||hD.some(r=>(n.willChange||"").includes(r))||fD.some(r=>(n.contain||"").includes(r))}function mD(e){let t=Ws(e);for(;hr(t)&&!bo(t);){if(Wy(t))return t;if(Eh(t))return null;t=Ws(t)}return null}function Hy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pD=new Set(["html","body","#document"]);function bo(e){return pD.has(Fo(e))}function Qn(e){return an(e).getComputedStyle(e)}function Th(e){return Yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if(Fo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||H0(e)&&e.host||gr(e);return H0(t)?t.host:t}function dk(e){const t=Ws(e);return bo(t)?e.ownerDocument?e.ownerDocument.body:e.body:hr(t)&&Uc(t)?t:dk(t)}function ac(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=dk(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=an(s);if(i){const l=Cp(a);return t.concat(a,a.visualViewport||[],Uc(s)?s:[],l&&n?ac(l):[])}return t.concat(s,ac(s,[],n))}function Cp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hk(e){const t=Qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=hr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=Dd(n)!==i||Dd(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function qy(e){return Yn(e)?e:e.contextElement}function Ga(e){const t=qy(e);if(!hr(t))return lr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=hk(t);let a=(i?Dd(n.width):n.width)/r,l=(i?Dd(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const gD=lr(0);function fk(e){const t=an(e);return!Hy()||!t.visualViewport?gD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yD(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==an(e)?!1:t}function Hi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=qy(e);let a=lr(1);t&&(r?Yn(r)&&(a=Ga(r)):a=Ga(e));const l=yD(i,n,r)?fk(i):lr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=an(i),m=r&&Yn(r)?an(r):r;let v=f,p=Cp(v);for(;p&&r&&m!==v;){const x=Ga(p),y=p.getBoundingClientRect(),w=Qn(p),b=y.left+(p.clientLeft+parseFloat(w.paddingLeft))*x.x,_=y.top+(p.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=b,u+=_,v=an(p),p=Cp(v)}}return Ld({width:d,height:h,x:c,y:u})}function Ky(e,t){const n=Th(e).scrollLeft;return t?t.left+n:Hi(gr(e)).left+n}function mk(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Ky(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function vD(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=gr(r),l=t?Eh(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=lr(1);const d=lr(0),h=hr(r);if((h||!h&&!i)&&((Fo(r)!=="body"||Uc(a))&&(c=Th(r)),hr(r))){const m=Hi(r);u=Ga(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=a&&!h&&!i?mk(a,c,!0):lr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function xD(e){return Array.from(e.getClientRects())}function wD(e){const t=gr(e),n=Th(e),r=e.ownerDocument.body,s=Xt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ky(e);const l=-n.scrollTop;return Qn(r).direction==="rtl"&&(a+=Xt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function bD(e,t){const n=an(e),r=gr(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Hy();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const _D=new Set(["absolute","fixed"]);function SD(e,t){const n=Hi(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=hr(e)?Ga(e):lr(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function q0(e,t,n){let r;if(t==="viewport")r=bD(e,n);else if(t==="document")r=wD(gr(e));else if(Yn(t))r=SD(t,n);else{const s=fk(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ld(r)}function pk(e,t){const n=Ws(e);return n===t||!Yn(n)||bo(n)?!1:Qn(n).position==="fixed"||pk(n,t)}function jD(e,t){const n=t.get(e);if(n)return n;let r=ac(e,[],!1).filter(l=>Yn(l)&&Fo(l)!=="body"),s=null;const i=Qn(e).position==="fixed";let a=i?Ws(e):e;for(;Yn(a)&&!bo(a);){const l=Qn(a),c=Wy(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&_D.has(s.position)||Uc(a)&&!c&&pk(e,a))?r=r.filter(d=>d!==a):s=l,a=Ws(a)}return t.set(e,r),r}function kD(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Eh(t)?[]:jD(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const h=q0(t,d,s);return u.top=Xt(h.top,u.top),u.right=zs(h.right,u.right),u.bottom=zs(h.bottom,u.bottom),u.left=Xt(h.left,u.left),u},q0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ND(e){const{width:t,height:n}=hk(e);return{width:t,height:n}}function CD(e,t,n){const r=hr(t),s=gr(t),i=n==="fixed",a=Hi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=lr(0);function u(){c.x=Ky(s)}if(r||!r&&!i)if((Fo(t)!=="body"||Uc(s))&&(l=Th(t)),r){const m=Hi(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?mk(s,l):lr(0),h=a.left+l.scrollLeft-c.x-d.x,f=a.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function Af(e){return Qn(e).position==="static"}function K0(e,t){if(!hr(e)||Qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return gr(e)===n&&(n=n.ownerDocument.body),n}function gk(e,t){const n=an(e);if(Eh(e))return n;if(!hr(e)){let s=Ws(e);for(;s&&!bo(s);){if(Yn(s)&&!Af(s))return s;s=Ws(s)}return n}let r=K0(e,t);for(;r&&cD(r)&&Af(r);)r=K0(r,t);return r&&bo(r)&&Af(r)&&!Wy(r)?n:r||mD(e)||n}const ED=async function(e){const t=this.getOffsetParent||gk,n=this.getDimensions,r=await n(e.floating);return{reference:CD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TD(e){return Qn(e).direction==="rtl"}const PD={convertOffsetParentRelativeRectToViewportRelativeRect:vD,getDocumentElement:gr,getClippingRect:kD,getOffsetParent:gk,getElementRects:ED,getClientRects:xD,getDimensions:ND,getScale:Ga,isElement:Yn,isRTL:TD};function yk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RD(e,t){let n=null,r;const s=gr(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const v=wu(h),p=wu(s.clientWidth-(d+f)),x=wu(s.clientHeight-(h+m)),y=wu(d),b={rootMargin:-v+"px "+-p+"px "+-x+"px "+-y+"px",threshold:Xt(0,zs(1,c))||1};let _=!0;function S(j){const k=j[0].intersectionRatio;if(k!==c){if(!_)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!yk(u,e.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(e)}return a(!0),i}function AD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qy(e),d=s||i?[...u?ac(u):[],...ac(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&l?RD(u,n):null;let f=-1,m=null;a&&(m=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?Hi(e):null;c&&x();function x(){const y=Hi(e);p&&!yk(p,y)&&n(),p=y,v=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const OD=rD,ID=sD,DD=eD,MD=aD,LD=tD,G0=XI,$D=iD,FD=(e,t,n)=>{const r=new Map,s={platform:PD,...n},i={...s.platform,_c:r};return JI(e,t,{...s,platform:i})};var UD=typeof document<"u",VD=function(){},Ju=UD?g.useLayoutEffect:VD;function $d(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$d(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!$d(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function vk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Y0(e,t){const n=vk(e);return Math.round(t*n)/n}function Of(e){const t=g.useRef(e);return Ju(()=>{t.current=e}),t}function BD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=g.useState(r);$d(f,r)||m(r);const[v,p]=g.useState(null),[x,y]=g.useState(null),w=g.useCallback(R=>{R!==j.current&&(j.current=R,p(R))},[]),b=g.useCallback(R=>{R!==k.current&&(k.current=R,y(R))},[]),_=i||v,S=a||x,j=g.useRef(null),k=g.useRef(null),N=g.useRef(d),T=c!=null,E=Of(c),D=Of(s),P=Of(u),z=g.useCallback(()=>{if(!j.current||!k.current)return;const R={placement:t,strategy:n,middleware:f};D.current&&(R.platform=D.current),FD(j.current,k.current,R).then(A=>{const B={...A,isPositioned:P.current!==!1};O.current&&!$d(N.current,B)&&(N.current=B,ea.flushSync(()=>{h(B)}))})},[f,t,n,D,P]);Ju(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const O=g.useRef(!1);Ju(()=>(O.current=!0,()=>{O.current=!1}),[]),Ju(()=>{if(_&&(j.current=_),S&&(k.current=S),_&&S){if(E.current)return E.current(_,S,z);z()}},[_,S,z,E,T]);const Q=g.useMemo(()=>({reference:j,floating:k,setReference:w,setFloating:b}),[w,b]),$=g.useMemo(()=>({reference:_,floating:S}),[_,S]),L=g.useMemo(()=>{const R={position:n,left:0,top:0};if(!$.floating)return R;const A=Y0($.floating,d.x),B=Y0($.floating,d.y);return l?{...R,transform:"translate("+A+"px, "+B+"px)",...vk($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:B}},[n,l,$.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:z,refs:Q,elements:$,floatingStyles:L}),[d,z,Q,$,L])}const zD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?G0({element:r.current,padding:s}).fn(n):{}:r?G0({element:r,padding:s}).fn(n):{}}}},WD=(e,t)=>({...OD(e),options:[e,t]}),HD=(e,t)=>({...ID(e),options:[e,t]}),qD=(e,t)=>({...$D(e),options:[e,t]}),KD=(e,t)=>({...DD(e),options:[e,t]}),GD=(e,t)=>({...MD(e),options:[e,t]}),YD=(e,t)=>({...LD(e),options:[e,t]}),QD=(e,t)=>({...zD(e),options:[e,t]});var ZD="Arrow",xk=g.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(ue.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});xk.displayName=ZD;var JD=xk;function wk(e){const[t,n]=g.useState(void 0);return _t(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gy="Popper",[bk,Uo]=pr(Gy),[XD,_k]=bk(Gy),Sk=e=>{const{__scopePopper:t,children:n}=e,[r,s]=g.useState(null);return o.jsx(XD,{scope:t,anchor:r,onAnchorChange:s,children:n})};Sk.displayName=Gy;var jk="PopperAnchor",kk=g.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=_k(jk,n),a=g.useRef(null),l=Ce(t,a);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ue.div,{...s,ref:l})});kk.displayName=jk;var Yy="PopperContent",[eM,tM]=bk(Yy),Nk=g.forwardRef((e,t)=>{var W,Ee,Ge,ke,xe,Se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,x=_k(Yy,n),[y,w]=g.useState(null),b=Ce(t,St=>w(St)),[_,S]=g.useState(null),j=wk(_),k=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,T=r+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],P=D.length>0,z={padding:E,boundary:D.filter(rM),altBoundary:P},{refs:O,floatingStyles:Q,placement:$,isPositioned:L,middlewareData:R}=BD({strategy:"fixed",placement:T,whileElementsMounted:(...St)=>AD(...St,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[WD({mainAxis:s+N,alignmentAxis:a}),c&&HD({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?qD():void 0,...z}),c&&KD({...z}),GD({...z,apply:({elements:St,rects:hn,availableWidth:ii,availableHeight:Hr})=>{const{width:ai,height:Yo}=hn.reference,sa=St.floating.style;sa.setProperty("--radix-popper-available-width",`${ii}px`),sa.setProperty("--radix-popper-available-height",`${Hr}px`),sa.setProperty("--radix-popper-anchor-width",`${ai}px`),sa.setProperty("--radix-popper-anchor-height",`${Yo}px`)}}),_&&QD({element:_,padding:l}),sM({arrowWidth:k,arrowHeight:N}),f&&YD({strategy:"referenceHidden",...z})]}),[A,B]=Tk($),ie=Nn(v);_t(()=>{L&&(ie==null||ie())},[L,ie]);const X=(W=R.arrow)==null?void 0:W.x,fe=(Ee=R.arrow)==null?void 0:Ee.y,de=((Ge=R.arrow)==null?void 0:Ge.centerOffset)!==0,[De,Ke]=g.useState();return _t(()=>{y&&Ke(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:L?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(ke=R.transformOrigin)==null?void 0:ke.x,(xe=R.transformOrigin)==null?void 0:xe.y].join(" "),...((Se=R.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(eM,{scope:n,placedSide:A,onArrowChange:S,arrowX:X,arrowY:fe,shouldHideArrow:de,children:o.jsx(ue.div,{"data-side":A,"data-align":B,...p,ref:b,style:{...p.style,animation:L?void 0:"none"}})})})});Nk.displayName=Yy;var Ck="PopperArrow",nM={top:"bottom",right:"left",bottom:"top",left:"right"},Ek=g.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=tM(Ck,r),a=nM[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(JD,{...s,ref:n,style:{...s.style,display:"block"}})})});Ek.displayName=Ck;function rM(e){return e!==null}var sM=e=>({name:"transformOrigin",options:e,fn(t){var x,y,w;const{placement:n,rects:r,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=Tk(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=a?h:`${f}px`,p=`${-c}px`):u==="top"?(v=a?h:`${f}px`,p=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=a?h:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,p=a?h:`${m}px`),{data:{x:v,y:p}}}});function Tk(e){const[t,n="center"]=e.split("-");return[t,n]}var Pk=Sk,Ph=kk,Qy=Nk,Zy=Ek,[Rh,JW]=pr("Tooltip",[Uo]),Jy=Uo(),Rk="TooltipProvider",iM=700,Q0="tooltip.open",[aM,Ak]=Rh(Rk),Ok=e=>{const{__scopeTooltip:t,delayDuration:n=iM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(aM,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};Ok.displayName=Rk;var Ik="Tooltip",[XW,Ah]=Rh(Ik),Ep="TooltipTrigger",oM=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ah(Ep,n),i=Ak(Ep,n),a=Jy(n),l=g.useRef(null),c=Ce(t,l,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(Ph,{asChild:!0,...a,children:o.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ee(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ee(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ee(e.onBlur,s.onClose),onClick:ee(e.onClick,s.onClose)})})});oM.displayName=Ep;var lM="TooltipPortal",[e7,cM]=Rh(lM,{forceMount:void 0}),_o="TooltipContent",Dk=g.forwardRef((e,t)=>{const n=cM(_o,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Ah(_o,e.__scopeTooltip);return o.jsx(zr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(Mk,{side:s,...i,ref:t}):o.jsx(uM,{side:s,...i,ref:t})})}),uM=g.forwardRef((e,t)=>{const n=Ah(_o,e.__scopeTooltip),r=Ak(_o,e.__scopeTooltip),s=g.useRef(null),i=Ce(t,s),[a,l]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=g.useCallback(()=>{l(null),h(!1)},[h]),m=g.useCallback((v,p)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},w=pM(y,x.getBoundingClientRect()),b=gM(y,w),_=yM(p.getBoundingClientRect()),S=xM([...b,..._]);l(S),h(!0)},[h]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(c&&d){const v=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,m,f]),g.useEffect(()=>{if(a){const v=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!vM(y,a);w?f():b&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,f]),o.jsx(Mk,{...e,ref:i})}),[dM,hM]=Rh(Ik,{isInside:!1}),fM=gA("TooltipContent"),Mk=g.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Ah(_o,n),u=Jy(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(Q0,d),()=>document.removeEventListener(Q0,d)),[d]),g.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Oo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(Qy,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(fM,{children:r}),o.jsx(dM,{scope:n,isInside:!0,children:o.jsx($A,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Dk.displayName=_o;var Lk="TooltipArrow",mM=g.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Jy(n);return hM(Lk,n).isInside?null:o.jsx(Zy,{...s,...r,ref:t})});mM.displayName=Lk;function pM(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function gM(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function yM(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function vM(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function xM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wM(t)}function wM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var bM=Ok,$k=Dk;const _M=bM,SM=g.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx($k,{ref:r,sideOffset:t,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));SM.displayName=$k.displayName;var Vo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qi=typeof window>"u"||"Deno"in globalThis;function Dt(){}function jM(e,t){return typeof e=="function"?e(t):e}function Tp(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ls(e,t){return typeof e=="function"?e(t):e}function gn(e,t){return typeof e=="function"?e(t):e}function Z0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Xy(a,t.options))return!1}else if(!oc(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function J0(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ki(t.options.mutationKey)!==Ki(i))return!1}else if(!oc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Xy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ki)(e)}function Ki(e){return JSON.stringify(e,(t,n)=>Pp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function oc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>oc(e[n],t[n])):!1}function Uk(e,t){if(e===t)return e;const n=X0(e)&&X0(t);if(n||Pp(e)&&Pp(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=Uk(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function Fd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function X0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pp(e){if(!ew(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ew(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ew(e){return Object.prototype.toString.call(e)==="[object Object]"}function kM(e){return new Promise(t=>{setTimeout(t,e)})}function Rp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Uk(e,t):t}function NM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function CM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ev=Symbol();function Vk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ev?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Bk(e,t){return typeof e=="function"?e(...t):!!e}var Ni,hs,to,B1,EM=(B1=class extends Vo{constructor(){super();te(this,Ni);te(this,hs);te(this,to);H(this,to,t=>{if(!qi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){C(this,hs)||this.setEventListener(C(this,to))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,hs))==null||t.call(this),H(this,hs,void 0))}setEventListener(t){var n;H(this,to,t),(n=C(this,hs))==null||n.call(this),H(this,hs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){C(this,Ni)!==t&&(H(this,Ni,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof C(this,Ni)=="boolean"?C(this,Ni):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ni=new WeakMap,hs=new WeakMap,to=new WeakMap,B1),tv=new EM,no,fs,ro,z1,TM=(z1=class extends Vo{constructor(){super();te(this,no,!0);te(this,fs);te(this,ro);H(this,ro,t=>{if(!qi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,fs)||this.setEventListener(C(this,ro))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,fs))==null||t.call(this),H(this,fs,void 0))}setEventListener(t){var n;H(this,ro,t),(n=C(this,fs))==null||n.call(this),H(this,fs,t(this.setOnline.bind(this)))}setOnline(t){C(this,no)!==t&&(H(this,no,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return C(this,no)}},no=new WeakMap,fs=new WeakMap,ro=new WeakMap,z1),Ud=new TM;function Ap(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function PM(e){return Math.min(1e3*2**e,3e4)}function zk(e){return(e??"online")==="online"?Ud.isOnline():!0}var Wk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function If(e){return e instanceof Wk}function Hk(e){let t=!1,n=0,r=!1,s;const i=Ap(),a=p=>{var x;r||(f(new Wk(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>tv.isFocused()&&(e.networkMode==="always"||Ud.isOnline())&&e.canRun(),d=()=>zk(e.networkMode)&&e.canRun(),h=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),i.resolve(p))},f=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),i.reject(p))},m=()=>new Promise(p=>{var x;s=y=>{(r||u())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var j;if(r)return;const w=e.retry??(qi?0:3),b=e.retryDelay??PM,_=typeof b=="function"?b(n,y):b,S=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!S){f(y);return}n++,(j=e.onFail)==null||j.call(e,n,y),kM(_).then(()=>u()?void 0:m()).then(()=>{t?f(y):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),i)}}var RM=e=>setTimeout(e,0);function AM(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=RM;const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var dt=AM(),Ci,W1,qk=(W1=class{constructor(){te(this,Ci)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tp(this.gcTime)&&H(this,Ci,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qi?1/0:5*60*1e3))}clearGcTimeout(){C(this,Ci)&&(clearTimeout(C(this,Ci)),H(this,Ci,void 0))}},Ci=new WeakMap,W1),so,Ei,pn,Ti,Nt,Ec,Pi,Un,vr,H1,OM=(H1=class extends qk{constructor(t){super();te(this,Un);te(this,so);te(this,Ei);te(this,pn);te(this,Ti);te(this,Nt);te(this,Ec);te(this,Pi);H(this,Pi,!1),H(this,Ec,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,Ti,t.client),H(this,pn,C(this,Ti).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,so,IM(this.options)),this.state=t.state??C(this,so),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Nt))==null?void 0:t.promise}setOptions(t){this.options={...C(this,Ec),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,pn).remove(this)}setData(t,n){const r=Rp(this.state.data,t,this.options);return pe(this,Un,vr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){pe(this,Un,vr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=C(this,Nt))==null?void 0:r.promise;return(s=C(this,Nt))==null||s.cancel(t),n?n.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,so))}isActive(){return this.observers.some(t=>gn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ev||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ls(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Fk(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,Nt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,Nt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,pn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(C(this,Nt)&&(C(this,Pi)?C(this,Nt).cancel({revert:!0}):C(this,Nt).cancelRetry()),this.scheduleGc()),C(this,pn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,Un,vr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(C(this,Nt))return C(this,Nt).continueRetry(),C(this,Nt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(H(this,Pi,!0),r.signal)})},i=()=>{const f=Vk(this.options,n),v=(()=>{const p={client:C(this,Ti),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return H(this,Pi,!1),this.options.persister?this.options.persister(f,v,this):f(v)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:C(this,Ti),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),H(this,Ei,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&pe(this,Un,vr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,v,p,x;If(f)&&f.silent||pe(this,Un,vr).call(this,{type:"error",error:f}),If(f)||((v=(m=C(this,pn).config).onError)==null||v.call(m,f,this),(x=(p=C(this,pn).config).onSettled)==null||x.call(p,this.state.data,f,this)),this.scheduleGc()};return H(this,Nt,Hk({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,v,p,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(v=(m=C(this,pn).config).onSuccess)==null||v.call(m,f,this),(x=(p=C(this,pn).config).onSettled)==null||x.call(p,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{pe(this,Un,vr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{pe(this,Un,vr).call(this,{type:"pause"})},onContinue:()=>{pe(this,Un,vr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),C(this,Nt).start()}},so=new WeakMap,Ei=new WeakMap,pn=new WeakMap,Ti=new WeakMap,Nt=new WeakMap,Ec=new WeakMap,Pi=new WeakMap,Un=new WeakSet,vr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Kk(r.data,this.options),fetchMeta:t.meta??null};case"success":return H(this,Ei,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return If(s)&&s.revert&&C(this,Ei)?{...C(this,Ei),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),dt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,pn).notify({query:this,type:"updated",action:t})})},H1);function Kk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function IM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var er,q1,DM=(q1=class extends Vo{constructor(t={}){super();te(this,er);this.config=t,H(this,er,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Xy(s,n);let a=this.get(i);return a||(a=new OM({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){C(this,er).has(t.queryHash)||(C(this,er).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=C(this,er).get(t.queryHash);n&&(t.destroy(),n===t&&C(this,er).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,er).get(t)}getAll(){return[...C(this,er).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Z0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Z0(t,r)):n}notify(t){dt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},er=new WeakMap,q1),tr,At,Ri,nr,es,K1,MM=(K1=class extends qk{constructor(t){super();te(this,nr);te(this,tr);te(this,At);te(this,Ri);this.mutationId=t.mutationId,H(this,At,t.mutationCache),H(this,tr,[]),this.state=t.state||Gk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,tr).includes(t)||(C(this,tr).push(t),this.clearGcTimeout(),C(this,At).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,tr,C(this,tr).filter(n=>n!==t)),this.scheduleGc(),C(this,At).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,tr).length||(this.state.status==="pending"?this.scheduleGc():C(this,At).remove(this))}continue(){var t;return((t=C(this,Ri))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,c,u,d,h,f,m,v,p,x,y,w,b,_,S,j,k,N;const n=()=>{pe(this,nr,es).call(this,{type:"continue"})};H(this,Ri,Hk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,E)=>{pe(this,nr,es).call(this,{type:"failed",failureCount:T,error:E})},onPause:()=>{pe(this,nr,es).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,At).canRun(this)}));const r=this.state.status==="pending",s=!C(this,Ri).canStart();try{if(r)n();else{pe(this,nr,es).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=C(this,At).config).onMutate)==null?void 0:a.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&pe(this,nr,es).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const T=await C(this,Ri).start();return await((d=(u=C(this,At).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,T,t,this.state.context)),await((v=(m=C(this,At).config).onSettled)==null?void 0:v.call(m,T,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,T,null,t,this.state.context)),pe(this,nr,es).call(this,{type:"success",data:T}),T}catch(T){try{throw await((w=(y=C(this,At).config).onError)==null?void 0:w.call(y,T,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,T,t,this.state.context)),await((j=(S=C(this,At).config).onSettled)==null?void 0:j.call(S,void 0,T,this.state.variables,this.state.context,this)),await((N=(k=this.options).onSettled)==null?void 0:N.call(k,void 0,T,t,this.state.context)),T}finally{pe(this,nr,es).call(this,{type:"error",error:T})}}finally{C(this,At).runNext(this)}}},tr=new WeakMap,At=new WeakMap,Ri=new WeakMap,nr=new WeakSet,es=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dt.batch(()=>{C(this,tr).forEach(r=>{r.onMutationUpdate(t)}),C(this,At).notify({mutation:this,type:"updated",action:t})})},K1);function Gk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jr,Vn,Tc,G1,LM=(G1=class extends Vo{constructor(t={}){super();te(this,jr);te(this,Vn);te(this,Tc);this.config=t,H(this,jr,new Set),H(this,Vn,new Map),H(this,Tc,0)}build(t,n,r){const s=new MM({mutationCache:this,mutationId:++Xc(this,Tc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){C(this,jr).add(t);const n=bu(t);if(typeof n=="string"){const r=C(this,Vn).get(n);r?r.push(t):C(this,Vn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,jr).delete(t)){const n=bu(t);if(typeof n=="string"){const r=C(this,Vn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&C(this,Vn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=bu(t);if(typeof n=="string"){const r=C(this,Vn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=bu(t);if(typeof n=="string"){const s=(r=C(this,Vn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{C(this,jr).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,jr).clear(),C(this,Vn).clear()})}getAll(){return Array.from(C(this,jr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>J0(n,r))}findAll(t={}){return this.getAll().filter(n=>J0(t,n))}notify(t){dt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Dt))))}},jr=new WeakMap,Vn=new WeakMap,Tc=new WeakMap,G1);function bu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function tw(e){return{onFetch:(t,n)=>{var d,h,f,m,v;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=Vk(t.options,t.fetchOptions),w=async(b,_,S)=>{if(p)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return x(D),D})(),N=await y(k),{maxPages:T}=t.options,E=S?CM:NM;return{pages:E(b.pages,N,T),pageParams:E(b.pageParams,_,T)}};if(s&&i.length){const b=s==="backward",_=b?$M:nw,S={pages:i,pageParams:a},j=_(r,S);l=await w(S,j,b)}else{const b=e??i.length;do{const _=c===0?a[0]??r.initialPageParam:nw(r,l);if(c>0&&_==null)break;l=await w(l,_),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function nw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function $M(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ye,ms,ps,io,ao,gs,oo,lo,Y1,FM=(Y1=class{constructor(e={}){te(this,Ye);te(this,ms);te(this,ps);te(this,io);te(this,ao);te(this,gs);te(this,oo);te(this,lo);H(this,Ye,e.queryCache||new DM),H(this,ms,e.mutationCache||new LM),H(this,ps,e.defaultOptions||{}),H(this,io,new Map),H(this,ao,new Map),H(this,gs,0)}mount(){Xc(this,gs)._++,C(this,gs)===1&&(H(this,oo,tv.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ye).onFocus())})),H(this,lo,Ud.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ye).onOnline())})))}unmount(){var e,t;Xc(this,gs)._--,C(this,gs)===0&&((e=C(this,oo))==null||e.call(this),H(this,oo,void 0),(t=C(this,lo))==null||t.call(this),H(this,lo,void 0))}isFetching(e){return C(this,Ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,ms).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,Ye).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=C(this,Ye).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ls(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return C(this,Ye).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=C(this,Ye).get(r.queryHash),i=s==null?void 0:s.state.data,a=jM(t,i);if(a!==void 0)return C(this,Ye).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return dt.batch(()=>C(this,Ye).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,Ye).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=C(this,Ye);dt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=C(this,Ye);return dt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=dt.batch(()=>C(this,Ye).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Dt).catch(Dt)}invalidateQueries(e,t={}){return dt.batch(()=>(C(this,Ye).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=dt.batch(()=>C(this,Ye).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Dt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=C(this,Ye).build(this,t);return n.isStaleByTime(Ls(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=tw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=tw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ud.isOnline()?C(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Ye)}getMutationCache(){return C(this,ms)}getDefaultOptions(){return C(this,ps)}setDefaultOptions(e){H(this,ps,e)}setQueryDefaults(e,t){C(this,io).set(Ki(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,io).values()],n={};return t.forEach(r=>{oc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){C(this,ao).set(Ki(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,ao).values()],n={};return t.forEach(r=>{oc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,ps).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ev&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,ps).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Ye).clear(),C(this,ms).clear()}},Ye=new WeakMap,ms=new WeakMap,ps=new WeakMap,io=new WeakMap,ao=new WeakMap,gs=new WeakMap,oo=new WeakMap,lo=new WeakMap,Y1),Ut,ve,Pc,Ot,Ai,co,ys,vs,Rc,uo,ho,Oi,Ii,xs,fo,Ne,gl,Op,Ip,Dp,Mp,Lp,$p,Fp,Yk,Q1,UM=(Q1=class extends Vo{constructor(t,n){super();te(this,Ne);te(this,Ut);te(this,ve);te(this,Pc);te(this,Ot);te(this,Ai);te(this,co);te(this,ys);te(this,vs);te(this,Rc);te(this,uo);te(this,ho);te(this,Oi);te(this,Ii);te(this,xs);te(this,fo,new Set);this.options=n,H(this,Ut,t),H(this,vs,null),H(this,ys,Ap()),this.options.experimental_prefetchInRender||C(this,ys).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,ve).addObserver(this),rw(C(this,ve),this.options)?pe(this,Ne,gl).call(this):this.updateResult(),pe(this,Ne,Mp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Up(C(this,ve),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Up(C(this,ve),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Ne,Lp).call(this),pe(this,Ne,$p).call(this),C(this,ve).removeObserver(this)}setOptions(t){const n=this.options,r=C(this,ve);if(this.options=C(this,Ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gn(this.options.enabled,C(this,ve))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Ne,Fp).call(this),C(this,ve).setOptions(this.options),n._defaulted&&!Fd(this.options,n)&&C(this,Ut).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,ve),observer:this});const s=this.hasListeners();s&&sw(C(this,ve),r,this.options,n)&&pe(this,Ne,gl).call(this),this.updateResult(),s&&(C(this,ve)!==r||gn(this.options.enabled,C(this,ve))!==gn(n.enabled,C(this,ve))||Ls(this.options.staleTime,C(this,ve))!==Ls(n.staleTime,C(this,ve)))&&pe(this,Ne,Op).call(this);const i=pe(this,Ne,Ip).call(this);s&&(C(this,ve)!==r||gn(this.options.enabled,C(this,ve))!==gn(n.enabled,C(this,ve))||i!==C(this,xs))&&pe(this,Ne,Dp).call(this,i)}getOptimisticResult(t){const n=C(this,Ut).getQueryCache().build(C(this,Ut),t),r=this.createResult(n,t);return BM(this,r)&&(H(this,Ot,r),H(this,co,this.options),H(this,Ai,C(this,ve).state)),r}getCurrentResult(){return C(this,Ot)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){C(this,fo).add(t)}getCurrentQuery(){return C(this,ve)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=C(this,Ut).defaultQueryOptions(t),r=C(this,Ut).getQueryCache().build(C(this,Ut),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return pe(this,Ne,gl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Ot)))}createResult(t,n){var T;const r=C(this,ve),s=this.options,i=C(this,Ot),a=C(this,Ai),l=C(this,co),u=t!==r?t.state:C(this,Pc),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const E=this.hasListeners(),D=!E&&rw(t,n),P=E&&sw(t,r,n,s);(D||P)&&(h={...h,...Kk(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:x}=h;m=h.data;let y=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let E;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,y=!0):E=typeof n.placeholderData=="function"?n.placeholderData((T=C(this,ho))==null?void 0:T.state.data,C(this,ho)):n.placeholderData,E!==void 0&&(x="success",m=Rp(i==null?void 0:i.data,E,n),f=!0)}if(n.select&&m!==void 0&&!y)if(i&&m===(a==null?void 0:a.data)&&n.select===C(this,Rc))m=C(this,uo);else try{H(this,Rc,n.select),m=n.select(m),m=Rp(i==null?void 0:i.data,m,n),H(this,uo,m),H(this,vs,null)}catch(E){H(this,vs,E)}C(this,vs)&&(v=C(this,vs),m=C(this,uo),p=Date.now(),x="error");const w=h.fetchStatus==="fetching",b=x==="pending",_=x==="error",S=b&&w,j=m!==void 0,N={status:x,fetchStatus:h.fetchStatus,isPending:b,isSuccess:x==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:_&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&j,isStale:nv(t,n),refetch:this.refetch,promise:C(this,ys),isEnabled:gn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=z=>{N.status==="error"?z.reject(N.error):N.data!==void 0&&z.resolve(N.data)},D=()=>{const z=H(this,ys,N.promise=Ap());E(z)},P=C(this,ys);switch(P.status){case"pending":t.queryHash===r.queryHash&&E(P);break;case"fulfilled":(N.status==="error"||N.data!==P.value)&&D();break;case"rejected":(N.status!=="error"||N.error!==P.reason)&&D();break}}return N}updateResult(){const t=C(this,Ot),n=this.createResult(C(this,ve),this.options);if(H(this,Ai,C(this,ve).state),H(this,co,this.options),C(this,Ai).data!==void 0&&H(this,ho,C(this,ve)),Fd(n,t))return;H(this,Ot,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!C(this,fo).size)return!0;const a=new Set(i??C(this,fo));return this.options.throwOnError&&a.add("error"),Object.keys(C(this,Ot)).some(l=>{const c=l;return C(this,Ot)[c]!==t[c]&&a.has(c)})};pe(this,Ne,Yk).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Ne,Mp).call(this)}},Ut=new WeakMap,ve=new WeakMap,Pc=new WeakMap,Ot=new WeakMap,Ai=new WeakMap,co=new WeakMap,ys=new WeakMap,vs=new WeakMap,Rc=new WeakMap,uo=new WeakMap,ho=new WeakMap,Oi=new WeakMap,Ii=new WeakMap,xs=new WeakMap,fo=new WeakMap,Ne=new WeakSet,gl=function(t){pe(this,Ne,Fp).call(this);let n=C(this,ve).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Dt)),n},Op=function(){pe(this,Ne,Lp).call(this);const t=Ls(this.options.staleTime,C(this,ve));if(qi||C(this,Ot).isStale||!Tp(t))return;const r=Fk(C(this,Ot).dataUpdatedAt,t)+1;H(this,Oi,setTimeout(()=>{C(this,Ot).isStale||this.updateResult()},r))},Ip=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,ve)):this.options.refetchInterval)??!1},Dp=function(t){pe(this,Ne,$p).call(this),H(this,xs,t),!(qi||gn(this.options.enabled,C(this,ve))===!1||!Tp(C(this,xs))||C(this,xs)===0)&&H(this,Ii,setInterval(()=>{(this.options.refetchIntervalInBackground||tv.isFocused())&&pe(this,Ne,gl).call(this)},C(this,xs)))},Mp=function(){pe(this,Ne,Op).call(this),pe(this,Ne,Dp).call(this,pe(this,Ne,Ip).call(this))},Lp=function(){C(this,Oi)&&(clearTimeout(C(this,Oi)),H(this,Oi,void 0))},$p=function(){C(this,Ii)&&(clearInterval(C(this,Ii)),H(this,Ii,void 0))},Fp=function(){const t=C(this,Ut).getQueryCache().build(C(this,Ut),this.options);if(t===C(this,ve))return;const n=C(this,ve);H(this,ve,t),H(this,Pc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Yk=function(t){dt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(C(this,Ot))}),C(this,Ut).getQueryCache().notify({query:C(this,ve),type:"observerResultsUpdated"})})},Q1);function VM(e,t){return gn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rw(e,t){return VM(e,t)||e.state.data!==void 0&&Up(e,t,t.refetchOnMount)}function Up(e,t,n){if(gn(t.enabled,e)!==!1&&Ls(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&nv(e,t)}return!1}function sw(e,t,n,r){return(e!==t||gn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nv(e,n)}function nv(e,t){return gn(t.enabled,e)!==!1&&e.isStaleByTime(Ls(t.staleTime,e))}function BM(e,t){return!Fd(e.getCurrentResult(),t)}var ws,bs,Vt,kr,Ar,Xu,Vp,Z1,zM=(Z1=class extends Vo{constructor(n,r){super();te(this,Ar);te(this,ws);te(this,bs);te(this,Vt);te(this,kr);H(this,ws,n),this.setOptions(r),this.bindMethods(),pe(this,Ar,Xu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=C(this,ws).defaultMutationOptions(n),Fd(this.options,r)||C(this,ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,Vt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ki(r.mutationKey)!==Ki(this.options.mutationKey)?this.reset():((s=C(this,Vt))==null?void 0:s.state.status)==="pending"&&C(this,Vt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=C(this,Vt))==null||n.removeObserver(this)}onMutationUpdate(n){pe(this,Ar,Xu).call(this),pe(this,Ar,Vp).call(this,n)}getCurrentResult(){return C(this,bs)}reset(){var n;(n=C(this,Vt))==null||n.removeObserver(this),H(this,Vt,void 0),pe(this,Ar,Xu).call(this),pe(this,Ar,Vp).call(this)}mutate(n,r){var s;return H(this,kr,r),(s=C(this,Vt))==null||s.removeObserver(this),H(this,Vt,C(this,ws).getMutationCache().build(C(this,ws),this.options)),C(this,Vt).addObserver(this),C(this,Vt).execute(n)}},ws=new WeakMap,bs=new WeakMap,Vt=new WeakMap,kr=new WeakMap,Ar=new WeakSet,Xu=function(){var r;const n=((r=C(this,Vt))==null?void 0:r.state)??Gk();H(this,bs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Vp=function(n){dt.batch(()=>{var r,s,i,a,l,c,u,d;if(C(this,kr)&&this.hasListeners()){const h=C(this,bs).variables,f=C(this,bs).context;(n==null?void 0:n.type)==="success"?((s=(r=C(this,kr)).onSuccess)==null||s.call(r,n.data,h,f),(a=(i=C(this,kr)).onSettled)==null||a.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=C(this,kr)).onError)==null||c.call(l,n.error,h,f),(d=(u=C(this,kr)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(C(this,bs))})})},Z1),Qk=g.createContext(void 0),Cn=e=>{const t=g.useContext(Qk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},WM=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Qk.Provider,{value:e,children:t})),Zk=g.createContext(!1),HM=()=>g.useContext(Zk);Zk.Provider;function qM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KM=g.createContext(qM()),GM=()=>g.useContext(KM),YM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},QM=e=>{g.useEffect(()=>{e.clearReset()},[e])},ZM=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Bk(n,[e.error,r])),JM=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},XM=(e,t)=>e.isLoading&&e.isFetching&&!t,e4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,iw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function t4(e,t,n){var h,f,m,v,p;const r=HM(),s=GM(),i=Cn(),a=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",JM(a),YM(a,s),QM(s);const l=!i.getQueryCache().get(a.queryHash),[c]=g.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(x=>{const y=d?c.subscribe(dt.batchCalls(x)):Dt;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),g.useEffect(()=>{c.setOptions(a)},[a,c]),e4(a,u))throw iw(a,c,s);if(ZM({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,a,u),a.experimental_prefetchInRender&&!qi&&XM(u,r)){const x=l?iw(a,c,s):(p=i.getQueryCache().get(a.queryHash))==null?void 0:p.promise;x==null||x.catch(Dt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function dn(e,t){return t4(e,UM)}function fr(e,t){const n=Cn(),[r]=g.useState(()=>new zM(n,e));g.useEffect(()=>{r.setOptions(e)},[r,e]);const s=g.useSyncExternalStore(g.useCallback(a=>r.subscribe(dt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=g.useCallback((a,l)=>{r.mutate(a,l).catch(Dt)},[r]);if(s.error&&Bk(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}var ks;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ks||(ks={}));const aw="popstate";function n4(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Bp("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vd(s)}return s4(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jk(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function r4(){return Math.random().toString(36).substr(2,8)}function ow(e,t){return{usr:e.state,key:e.key,idx:t}}function Bp(e,t,n,r){return n===void 0&&(n=null),lc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bo(t):t,{state:n,key:t&&t.key||r||r4()})}function Vd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function s4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=ks.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(lc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=ks.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:y})}function f(x,y){l=ks.Push;let w=Bp(p.location,x,y);u=d()+1;let b=ow(w,u),_=p.createHref(w);try{a.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,y){l=ks.Replace;let w=Bp(p.location,x,y);u=d();let b=ow(w,u),_=p.createHref(w);a.replaceState(b,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function v(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:Vd(x);return w=w.replace(/ $/,"%20"),nt(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let p={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(aw,h),c=x,()=>{s.removeEventListener(aw,h),c=null}},createHref(x){return t(s,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(x){return a.go(x)}};return p}var lw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lw||(lw={}));function i4(e,t,n){return n===void 0&&(n="/"),a4(e,t,n,!1)}function a4(e,t,n,r){let s=typeof t=="string"?Bo(t):t,i=rv(s.pathname||"/",n);if(i==null)return null;let a=Xk(e);o4(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=v4(i);l=g4(a[c],u,r)}return l}function Xk(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=$s([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xk(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:m4(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of eN(i.path))s(i,a,c)}),t}function eN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=eN(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function o4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:p4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l4=/^:[\w-]+$/,c4=3,u4=2,d4=1,h4=10,f4=-2,cw=e=>e==="*";function m4(e,t){let n=e.split("/"),r=n.length;return n.some(cw)&&(r+=f4),t&&(r+=u4),n.filter(s=>!cw(s)).reduce((s,i)=>s+(l4.test(i)?c4:i===""?d4:h4),r)}function p4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function g4(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=uw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=uw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:$s([i,h.pathname]),pathnameBase:_4($s([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=$s([i,h.pathnameBase]))}return a}function uw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=y4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let p=l[h]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function y4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jk(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function v4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jk(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function x4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Bo(e):e;return{pathname:n?n.startsWith("/")?n:w4(n,t):t,search:S4(r),hash:j4(s)}}function w4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Df(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sv(e,t){let n=b4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Bo(e):(s=lc({},e),nt(!s.pathname||!s.pathname.includes("?"),Df("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Df("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Df("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=x4(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),_4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),S4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function k4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tN=["post","put","patch","delete"];new Set(tN);const N4=["get",...tN];new Set(N4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(this,arguments)}const av=g.createContext(null),C4=g.createContext(null),Xs=g.createContext(null),Oh=g.createContext(null),ei=g.createContext({outlet:null,matches:[],isDataRoute:!1}),nN=g.createContext(null);function E4(e,t){let{relative:n}=t===void 0?{}:t;zo()||nt(!1);let{basename:r,navigator:s}=g.useContext(Xs),{hash:i,pathname:a,search:l}=sN(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:$s([r,a])),s.createHref({pathname:c,search:l,hash:i})}function zo(){return g.useContext(Oh)!=null}function na(){return zo()||nt(!1),g.useContext(Oh).location}function rN(e){g.useContext(Xs).static||g.useLayoutEffect(e)}function ot(){let{isDataRoute:e}=g.useContext(ei);return e?V4():T4()}function T4(){zo()||nt(!1);let e=g.useContext(av),{basename:t,future:n,navigator:r}=g.useContext(Xs),{matches:s}=g.useContext(ei),{pathname:i}=na(),a=JSON.stringify(sv(s,n.v7_relativeSplatPath)),l=g.useRef(!1);return rN(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=iv(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$s([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}function sN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=g.useContext(Xs),{matches:s}=g.useContext(ei),{pathname:i}=na(),a=JSON.stringify(sv(s,r.v7_relativeSplatPath));return g.useMemo(()=>iv(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function P4(e,t){return R4(e,t)}function R4(e,t,n,r){zo()||nt(!1);let{navigator:s}=g.useContext(Xs),{matches:i}=g.useContext(ei),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=na(),d;if(t){var h;let x=typeof t=="string"?Bo(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||nt(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=i4(e,{pathname:m}),p=M4(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:$s([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:$s([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&p?g.createElement(Oh.Provider,{value:{location:cc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ks.Pop}},p):p}function A4(){let e=U4(),t=k4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,null)}const O4=g.createElement(A4,null);class I4 extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?g.createElement(ei.Provider,{value:this.props.routeContext},g.createElement(nN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D4(e){let{routeContext:t,match:n,children:r}=e,s=g.useContext(av);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(ei.Provider,{value:t},r)}function M4(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,v=!1,p=null,x=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,p=h.route.errorElement||O4,c&&(u<0&&f===0?(v=!0,x=null):u===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,f+1)),w=()=>{let b;return m?b=p:v?b=x:h.route.Component?b=g.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,g.createElement(D4,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?g.createElement(I4,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var iN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iN||{}),Bd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bd||{});function L4(e){let t=g.useContext(av);return t||nt(!1),t}function $4(e){let t=g.useContext(C4);return t||nt(!1),t}function F4(e){let t=g.useContext(ei);return t||nt(!1),t}function aN(e){let t=F4(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function U4(){var e;let t=g.useContext(nN),n=$4(Bd.UseRouteError),r=aN(Bd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function V4(){let{router:e}=L4(iN.UseNavigateStable),t=aN(Bd.UseNavigateStable),n=g.useRef(!1);return rN(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,cc({fromRouteId:t},i)))},[e,t])}function B4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dw(e){let{to:t,replace:n,state:r,relative:s}=e;zo()||nt(!1);let{future:i,static:a}=g.useContext(Xs),{matches:l}=g.useContext(ei),{pathname:c}=na(),u=ot(),d=iv(t,sv(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function rt(e){nt(!1)}function z4(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ks.Pop,navigator:i,static:a=!1,future:l}=e;zo()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:a,future:cc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Bo(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,p=g.useMemo(()=>{let x=rv(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:v},navigationType:s}},[c,d,h,f,m,v,s]);return p==null?null:g.createElement(Xs.Provider,{value:u},g.createElement(Oh.Provider,{children:n,value:p}))}function W4(e){let{children:t,location:n}=e;return P4(zp(t),n)}new Promise(()=>{});function zp(e,t){t===void 0&&(t=[]);let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let i=[...t,s];if(r.type===g.Fragment){n.push.apply(n,zp(r.props.children,i));return}r.type!==rt&&nt(!1),!r.props.index||!r.props.children||nt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=zp(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wp.apply(this,arguments)}function H4(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function q4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K4(e,t){return e.button===0&&(!t||t==="_self")&&!q4(e)}const G4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y4="6";try{window.__reactRouterVersion=Y4}catch{}const Q4="startTransition",hw=Ug[Q4];function Z4(e){let{basename:t,children:n,future:r,window:s}=e,i=g.useRef();i.current==null&&(i.current=n4({window:s,v5Compat:!0}));let a=i.current,[l,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=g.useCallback(h=>{u&&hw?hw(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>a.listen(d),[a,d]),g.useEffect(()=>B4(r),[r]),g.createElement(z4,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const J4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=g.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=H4(t,G4),{basename:m}=g.useContext(Xs),v,p=!1;if(typeof u=="string"&&X4.test(u)&&(v=u,J4))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=rv(_.pathname,m);_.origin===b.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let x=E4(u,{relative:s}),y=eL(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||y(b)}return g.createElement("a",Wp({},f,{href:v||x,onClick:p||i?r:w,ref:n,target:c}))});var fw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var mw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mw||(mw={}));function eL(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=ot(),u=na(),d=sN(e,{relative:a});return g.useCallback(h=>{if(K4(h,n)){h.preventDefault();let f=r!==void 0?r:Vd(u)===Vd(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}var sr=function(){return sr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sr.apply(this,arguments)};function Wo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function tL(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function nL(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const rL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ov extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class sL extends ov{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pw extends ov{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gw extends ov{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hp||(Hp={}));class iL{constructor(t,{headers:n={},customFetch:r,region:s=Hp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=rL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tL(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(f["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(f["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let x=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const y=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:p,signal:x}).catch(S=>{throw new sL(S)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new pw(y);if(!y.ok)throw new gw(y);let b=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield y.json():b==="application/octet-stream"||b==="application/pdf"?_=yield y.blob():b==="text/event-stream"?_=y:b==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof gw||l instanceof pw?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var aL=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},oL=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const y=await i.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const p=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const p=await i.text();try{a=JSON.parse(p),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):a={message:p}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new aL(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${v}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},lL=class extends oL{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yw=new RegExp("[,()]");var xa=class extends lL{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&yw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},cL=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new xa({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new xa({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new xa({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new xa({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new xa({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},uL=class oN{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new cL(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new oN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(l="POST",u=n):r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{c.searchParams.append(m,v)})):(l="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new xa({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class dL{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hL="2.90.0",fL=`realtime-js/${hL}`,lN="1.0.0",mL="2.0.0",vw=lN,qp=1e4,pL=1e3,gL=100;var os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(os||(os={}));var lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(lt||(lt={}));var zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zn||(zn={}));var Kp;(function(e){e.websocket="websocket"})(Kp||(Kp={}));var vi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vi||(vi={}));class yL{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(m),p=0;v.setUint8(p++,this.KINDS.userBroadcastPush),v.setUint8(p++,c.length),v.setUint8(p++,l.length),v.setUint8(p++,a.length),v.setUint8(p++,u.length),v.setUint8(p++,h.length),v.setUint8(p++,n),Array.from(c,y=>v.setUint8(p++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>v.setUint8(p++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(p++,y.charCodeAt(0))),Array.from(h,y=>v.setUint8(p++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,l,c]=r;return n({join_ref:s,ref:i,topic:a,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class cN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const xw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=vL(a,e,t,s),i),{}):{}},vL=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?uN(i,a):Gp(a)},uN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return _L(t,n)}switch(e){case Oe.bool:return xL(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return wL(t);case Oe.json:case Oe.jsonb:return bL(t);case Oe.timestamp:return SL(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Gp(t);default:return Gp(t)}},Gp=e=>e,xL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},_L=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>uN(t,l))}return e},SL=e=>typeof e=="string"?e.replace(" ","T"):e,dN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mf{constructor(t,n,r={},s=qp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ww;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ww||(ww={}));class Ol{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ol.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ol.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),v=d.filter(x=>m.indexOf(x.presence_ref)<0),p=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bw||(bw={}));var Il;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Il||(Il={}));var wr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class Da{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mf(this,zn.join,this.params,this.timeout),this.rejoinTimer=new cN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Ol(this),this.broadcastEndpointURL=dN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Il.PRESENCE]&&this.bindings[Il.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(wr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(wr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(wr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,y=[];for(let w=0;w<x;w++){const b=p[w],{filter:{event:_,schema:S,table:j,filter:k}}=b,N=m&&m[w];if(N&&N.event===_&&Da.isFilterValueEqual(N.schema,S)&&Da.isFilterValueEqual(N.table,j)&&Da.isFilterValueEqual(N.filter,k))y.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=lt.errored,t==null||t(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(wr.SUBSCRIBED);return}}).receive("error",m=>{this.state=lt.errored,t==null||t(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===lt.joined&&t===Il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Mf(this,zn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=zn;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,p,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,p,x,y,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((p=n.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(w=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:p,table:x,commit_timestamp:y,type:w,errors:b}=v;f=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Da.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zn.close,{},t)}_onError(t){this._on(zn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xw(t.columns,t.old_record)),n}}const Lf=()=>{},_u={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jL=[1e3,2e3,5e3,1e4],kL=1e4,NL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qp,this.transport=null,this.heartbeatIntervalMs=_u.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lf,this.ref=0,this.reconnectTimer=null,this.vsn=vw,this.logger=Lf,this.conn=null,this.sendBuffer=[],this.serializer=new yL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Kp.websocket}`,this.httpEndpoint=dN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return vi.Connecting;case os.open:return vi.Open;case os.closing:return vi.Closing;default:return vi.Closed}}isConnected(){return this.connectionState()===vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Da(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_u.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===os.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===os.open||this.conn.readyState===os.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([NL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:fL};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(zn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_u.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,l,c,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:qp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:_u.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Lf,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:vw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>jL[v-1]||kL,this.vsn){case lN:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,p)=>p(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,p)=>p(JSON.parse(v));break;case mL:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var uc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function EL(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function TL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function PL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const l=EL(e.baseUrl,r,s),c=await TL(e.auth),u=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,v=m==null?void 0:m.error;throw new uc((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Su(e){return e.join("")}var RL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Su(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Su(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Su(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Su(e.namespace)}`}),!0}catch(t){if(t instanceof uc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof uc&&n.status===409)return;throw n}}};function ca(e){return e.join("")}var AL=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof uc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof uc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},OL=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=PL({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new RL(this.client,t),this.tableOps=new AL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ih=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var IL=class extends Ih{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yp=class extends Ih{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const lv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DL=()=>Response,Qp=e=>{if(Array.isArray(e))return e.map(n=>Qp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Qp(r)}),t},ML=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},LL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function $L(e,t){if(dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FL(e){var t=$L(e,"string");return dc(t)=="symbol"?t:t+""}function UL(e,t,n){return(t=FL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(n),!0).forEach(function(r){UL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const $f=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},VL=async(e,t,n)=>{e instanceof await DL()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new IL($f(r),s,i))}).catch(r=>{t(new Yp($f(r),r))}):t(new Yp($f(e),e))},BL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(ML(r)?(s.headers=se({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),se(se({},s),n))};async function Vc(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,BL(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>VL(c,l,r))})}async function hc(e,t,n,r){return Vc(e,"GET",t,n,r)}async function Fn(e,t,n,r,s){return Vc(e,"POST",t,r,s,n)}async function Zp(e,t,n,r,s){return Vc(e,"PUT",t,r,s,n)}async function zL(e,t,n,r){return Vc(e,"HEAD",t,se(se({},n),{},{noResolveJson:!0}),r)}async function cv(e,t,n,r,s){return Vc(e,"DELETE",t,r,s,n)}var WL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Be(t))return{data:null,error:t};throw t}}};let hN;hN=Symbol.toStringTag;var HL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hN]="BlobDownloadBuilder",this.promise=null}asStream(){return new WL(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Be(t))return{data:null,error:t};throw t}}};const qL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var KL=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=lv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const a=se(se({},Sw),r);let l=se(se({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(l=se(se({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Zp:Fn)(s.fetch,`${s.url}/object/${d}`,i,se({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=se({upsert:Sw.upsert},r),d=se(se({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Zp(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Be(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=se({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Fn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),l=a.searchParams.get("token");if(!l)throw new Ih("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Fn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await Fn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await Fn(r.fetch,`${r.url}/object/sign/${s}`,se({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await Fn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>se(se({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>hc(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new HL(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Qp(await hc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await zL(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Be(r)&&r instanceof Yp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await cv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=se(se(se({},qL),t),{},{prefix:e||""});return{data:await Fn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=se({},e);return{data:await Fn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const fN="2.90.0",mN={"X-Client-Info":`storage-js/${fN}`};var GL=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=se(se({},mN),t),this.fetch=lv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await hc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await hc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Fn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Zp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await cv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},YL=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=se(se({},mN),t),this.fetch=lv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Fn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await hc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await cv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!LL(e))throw new Ih("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new OL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const uv={"X-Client-Info":`storage-js/${fN}`,"Content-Type":"application/json"};var pN=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function en(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ff=class extends pN{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},QL=class extends pN{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const dv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ZL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JL=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Ff(jw(i),r,a))}).catch(()=>{const i=r+"";t(new Ff(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Ff(s.statusText||`HTTP ${r} error`,r,i))}}else t(new QL(jw(e),e))},XL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(ZL(r)?(s.headers=se({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,se(se({},s),n)):s};async function e$(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,XL(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>JL(c,l,r))})}async function tn(e,t,n,r,s){return e$(e,"POST",t,r,s,n)}var t$=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=se(se({},uv),t),this.fetch=dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await tn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await tn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}},n$=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=se(se({},uv),t),this.fetch=dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await tn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},r$=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=se(se({},uv),t),this.fetch=dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await tn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},s$=class extends r${constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new i$(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},i$=class extends t${constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new a$(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},a$=class extends n${constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},o$=class extends GL{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new KL(this.url,this.headers,e,this.fetch)}get vectors(){return new s$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new YL(this.url+"/iceberg",this.headers,this.fetch)}};const gN="2.90.0",wa=30*1e3,Jp=3,Uf=Jp*wa,l$="http://localhost:9999",c$="supabase.auth.token",u$={"X-Client-Info":`gotrue-js/${gN}`},Xp="X-Supabase-Api-Version",yN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h$=10*60*1e3;class fc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class f$ extends fc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function m$(e){return J(e)&&e.name==="AuthApiError"}class xi extends fc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wr extends fc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Zt extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p$(e){return J(e)&&e.name==="AuthSessionMissingError"}class ua extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ju extends Wr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ku extends Wr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g$(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class kw extends Wr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y$ extends Wr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class eg extends Wr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Vf(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Nw extends Wr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class tg extends Wr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cw=` 	
\r=`.split(""),v$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cw.length;t+=1)e[Cw[t].charCodeAt(0)]=-2;for(let t=0;t<zd.length;t+=1)e[zd[t].charCodeAt(0)]=t;return e})();function Ew(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(zd[r]),t.queuedBits-=6}}function vN(e,t,n){const r=v$[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Tw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{b$(a,r,n)};for(let a=0;a<e.length;a+=1)vN(e.charCodeAt(a),s,i);return t.join("")}function x$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function w$(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}x$(r,t)}}function b$(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ya(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vN(e.charCodeAt(s),n,r);return new Uint8Array(t)}function _$(e){const t=[];return w$(e,n=>t.push(n)),new Uint8Array(t)}function Si(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ew(s,n,r)),Ew(null,n,r),t.join("")}function S$(e){return Math.round(Date.now()/1e3)+e}function j$(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",ci={tested:!1,writable:!1},xN=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ci.tested)return ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ci.tested=!0,ci.writable=!0}catch{ci.tested=!0,ci.writable=!1}return ci.writable};function k$(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const wN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),N$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ba=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ui=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(e,t)=>{await e.removeItem(t)};class Dh{constructor(){this.promise=new Dh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Dh.promiseConstructor=Promise;function Bf(e){const t=e.split(".");if(t.length!==3)throw new tg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!d$.test(t[r]))throw new tg("JWT not in base64url format");return{header:JSON.parse(Tw(t[0])),payload:JSON.parse(Tw(t[1])),signature:Ya(t[2]),raw:{header:t[0],payload:t[1]}}}async function C$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E$(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function T$(e){return("0"+e.toString(16)).substr(-2)}function P$(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,T$).join("")}async function R$(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function A$(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await R$(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function da(e,t,n=!1){const r=P$();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ba(e,`${t}-code-verifier`,s);const i=await A$(r);return[i,r===i?"plain":"s256"]}const O$=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I$(e){const t=e.headers.get(Xp);if(!t||!t.match(O$))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function D$(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function M$(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const L$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ha(e){if(!L$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $$(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Pw(e){return JSON.parse(JSON.stringify(e))}const pi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F$=[502,503,504];async function Rw(e){var t;if(!N$(e))throw new eg(pi(e),0);if(F$.includes(e.status))throw new eg(pi(e),e.status);let n;try{n=await e.json()}catch(i){throw new xi(pi(i),i)}let r;const s=I$(e);if(s&&s.getTime()>=yN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Nw(pi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Nw(pi(n),e.status,n.weak_password.reasons);throw new f$(pi(n),e.status||500,r)}const U$=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function re(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Xp]||(i[Xp]=yN["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await V$(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function V$(e,t,n,r,s,i){const a=U$(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new eg(pi(c),0)}if(l.ok||await Rw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Rw(c)}}function Dn(e){var t;let n=null;W$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=S$(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Aw(e){const t=Dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function B$(e){return{data:e,error:null}}function z$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Wo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ow(e){return e}function W$(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wf=["global","local","others"];class H${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=wN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Wf[0]){if(Wf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wf.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ds})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Wo(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:z$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ow});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ha(t);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ha(t);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ds})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ha(t);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ds})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ha(t.userId);try{const{data:n,error:r}=await re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ha(t.userId),ha(t.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ow});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function Iw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const fa={debug:!!(globalThis&&xN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class q$ extends bN{}async function K$(e,t,n){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new q$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function G$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _N(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Y$(e){return parseInt(e,16)}function Q$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Z$(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=_N(e.address),v=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}y+=w}return`${x}
${y}`}class st extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Wd extends st{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function J$({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(SN(a)){if(i.rp.id!==a)return new st({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function X$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(SN(r)){if(n.rpId!==r)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class e5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const t5=new e5;function n5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Wo(e,["challenge","user","excludeCredentials"]),i=Ya(t).buffer,a=Object.assign(Object.assign({},n),{id:Ya(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ya(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function r5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Wo(e,["challenge","allowCredentials"]),s=Ya(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Ya(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function s5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Si(new Uint8Array(e.response.attestationObject)),clientDataJSON:Si(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function i5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Si(new Uint8Array(s.authenticatorData)),clientDataJSON:Si(new Uint8Array(s.clientDataJSON)),signature:Si(new Uint8Array(s.signature)),userHandle:s.userHandle?Si(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Dw(){var e,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function a5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:J$({error:t,options:e})}}}async function o5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:X$({error:t,options:e})}}}const l5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},c5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const l=r[i];t(l)?r[i]=Hd(l,a):r[i]=Hd(a)}else r[i]=a}return r}function u5(e,t){return Hd(l5,e,t||{})}function d5(e,t){return Hd(c5,e,t||{})}class h5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=s??t5.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=u5(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await a5({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=d5(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await o5(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return J(a)?{data:null,error:a}:{data:null,error:new xi("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new fc("rpId is required for WebAuthn authentication")};try{if(!Dw())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return J(a)?{data:null,error:a}:{data:null,error:new xi("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new fc("rpId is required for WebAuthn registration")};try{if(!Dw())return{data:null,error:new xi("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return J(a)?{data:null,error:a}:{data:null,error:new xi("Unexpected error in register",a)}}}}G$();const f5={url:l$,storageKey:c$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mw(e,t,n){return await n()}const ma={};class mc{get jwks(){var t,n;return(n=(t=ma[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ma[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},f5),t);if(this.storageKey=i.storageKey,this.instanceID=(n=mc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,mc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&yt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new H$({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wN(i.fetch),this.lock=i.lock||Mw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=K$:this.lock=Mw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:xN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yt()&&(n=k$(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),g$(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?this._returnResult({error:n}):this._returnResult({error:new xi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Dn}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(J(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await da(this.storage,this.storageKey)),i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:Dn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Dn})}else throw new ju("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Aw})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Aw})}else throw new ju("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new ua;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,l,c,u,d,h,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:p,wallet:x,statement:y,options:w}=t;let b;if(yt())if(typeof x=="object")b=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")b=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=_N(S[0]);let k=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const T=await b.request({method:"eth_chainId"});k=Y$(T)}const N={domain:_.host,address:j,statement:y,uri:_.href,version:"1",chainId:k,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=Z$(N),v=await b.request({method:"personal_sign",params:[Q$(m),j]})}try{const{data:p,error:x}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Dn});if(x)throw x;if(!p||!p.session||!p.user){const y=new ua;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(J(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,i,a,l,c,u,d,h,f,m;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:w,options:b}=t;let _;if(yt())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:y}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Si(p)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Dn});if(y)throw y;if(!x||!x.session||!x.user){const w=new ua;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(J(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await ui(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new y$;const{data:i,error:a}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Dn});if(await gt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new ua;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ua;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await da(this.storage,this.storageKey));const{error:h}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ju("You must provide either an email or phone number.")}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Dn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await da(this.storage,this.storageKey));const u=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:B$});return!((i=u.data)===null||i===void 0)&&i.url&&yt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Zt;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(J(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await re(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await re(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new ju("You must provide either an email or phone number and a type")}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Uf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ui(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=zf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=$$(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ds})})}catch(n){if(J(n))return p$(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Zt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await da(this.storage,this.storageKey));const{data:u,error:d}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ds});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Bf(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(J(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Zt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yt())throw new ku("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ku(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ku("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kw("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new ku("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(J(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(m$(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=j$(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await da(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return yt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(J(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Dn}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ua}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await E$(async s=>(s>0&&await C$(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Vf(i)&&Date.now()+a-r<wa})}catch(r){if(this._debug(n,"error",r),J(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ui(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ba(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:zf()}else if(s&&!s.user&&!s.user){const a=await ui(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await gt(this.storage,this.storageKey+"-user"),await ba(this.storage,this.storageKey,s)):s.user=zf()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Uf;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Uf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Vf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dh;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Zt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),J(i)){const a={data:null,error:i};return Vf(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ba(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Pw(s);await ba(this.storage,this.storageKey,i)}else{const s=Pw(n);await ba(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wa}ms, refresh threshold is ${Jp} ticks`),s<=Jp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await da(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await re(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?s5(t.webauthn.credential_response):i5(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:n5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:r5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bf(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Zt});const a=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Zt});const a=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(t){if(J(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+h$>s)return r;const{data:i,error:a}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Bf(r);n!=null&&n.allowExpired||D$(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=M$(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,_$(`${l}.${c}`)))throw new tg("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}}mc.nextInstanceID={};const m5=mc,p5="2.90.0";let yl="";typeof Deno<"u"?yl="deno":typeof document<"u"?yl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yl="react-native":yl="node";const g5={"X-Client-Info":`supabase-js-${yl}/${p5}`},y5={headers:g5},v5={schema:"public"},x5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w5={};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function b5(e,t){if(pc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _5(e){var t=b5(e,"string");return pc(t)=="symbol"?t:t+""}function S5(e,t,n){return(t=_5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){S5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const j5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k5=()=>Headers,N5=(e,t,n)=>{const r=j5(n),s=k5();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Qe(Qe({},a),{},{headers:u}))}};function C5(e){return e.endsWith("/")?e:e+"/"}function E5(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Qe(Qe({},c),s),auth:Qe(Qe({},u),i),realtime:Qe(Qe({},d),a),storage:{},global:Qe(Qe(Qe({},h),l),{},{headers:Qe(Qe({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function T5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var P5=class extends m5{constructor(e){super(e)}},R5=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=T5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:v5,realtime:w5,auth:Qe(Qe({},x5),{},{storageKey:a}),global:y5},c=E5(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=N5(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new uL(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new o$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new iL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new P5({url:this.authUrl.href,headers:Qe(Qe({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new CL(this.realtimeUrl.href,Qe(Qe({},e),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const A5=(e,t,n)=>new R5(e,t,n);function O5(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}O5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I5="https://umisnhxwtsiaokwspnjh.supabase.co",D5="sb_publishable_uMzHyyA544OO-4gAl6ouKQ_9TToD6eu",K=A5(I5,D5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),jN=g.createContext(void 0);function M5({children:e}){const[t,n]=g.useState(null),[r,s]=g.useState(null),[i,a]=g.useState(null),[l,c]=g.useState(!0),u=async v=>{const{data:p,error:x}=await K.from("profiles").select("*").eq("user_id",v).maybeSingle();!x&&p&&a(p)};g.useEffect(()=>{const{data:{subscription:v}}=K.auth.onAuthStateChange((p,x)=>{s(x),n((x==null?void 0:x.user)??null),x!=null&&x.user?setTimeout(()=>{u(x.user.id)},0):a(null),c(!1)});return K.auth.getSession().then(({data:{session:p}})=>{s(p),n((p==null?void 0:p.user)??null),p!=null&&p.user&&u(p.user.id),c(!1)}),()=>v.unsubscribe()},[]);const d=async(v,p,x,y="adult")=>{const w=`${window.location.origin}/`,{data:b,error:_}=await K.auth.signUp({email:v,password:p,options:{emailRedirectTo:w,data:{full_name:x,registration_type:y}}});return _?{error:_}:{error:null}},h=async(v,p)=>{const{error:x}=await K.auth.signInWithPassword({email:v,password:p});return{error:x}},f=async()=>{await K.auth.signOut(),a(null)},m=async()=>{t&&await u(t.id)};return o.jsx(jN.Provider,{value:{user:t,session:r,profile:i,loading:l,signUp:d,signIn:h,signOut:f,refreshProfile:m},children:e})}function pt(){const e=g.useContext(jN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const L5=Nh("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-semibold uppercase tracking-wider transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg hover:shadow-primary/30 rounded-none",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 rounded-none",outline:"border-2 border-foreground bg-transparent text-foreground hover:bg-foreground hover:text-background rounded-none",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-none",ghost:"hover:bg-secondary hover:text-foreground rounded-none",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground font-bold hover:shadow-xl hover:shadow-primary/40 hover:scale-105 hover-shake rounded-none",dark:"bg-background text-foreground border-2 border-foreground hover:bg-foreground hover:text-background rounded-none",gold:"bg-gold text-gold-foreground font-bold hover:shadow-lg hover:shadow-gold/40 rounded-none",glow:"bg-primary text-primary-foreground animate-pulse-glow hover:scale-105 rounded-none"},size:{default:"h-12 px-6 py-3",sm:"h-10 px-4 py-2 text-xs",lg:"h-14 px-8 py-4",xl:"h-16 px-10 py-5 text-base",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),F=g.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?mA:"button";return o.jsx(a,{className:oe(L5({variant:t,size:n,className:e})),ref:i,...s})});F.displayName="Button";const hv=g.createContext({});function fv(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const mv=typeof window<"u",kN=mv?g.useLayoutEffect:g.useEffect,Mh=g.createContext(null);function pv(e,t){e.indexOf(t)===-1&&e.push(t)}function gv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Fr=(e,t,n)=>n>t?t:n<e?e:n;let qd=()=>{};const Ur={},NN=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function CN(e){return typeof e=="object"&&e!==null}const EN=e=>/^0[^.\s]+$/u.test(e);function yv(e){let t;return()=>(t===void 0&&(t=e()),t)}const _n=e=>e,$5=(e,t)=>n=>t(e(n)),Bc=(...e)=>e.reduce($5),gc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class vv{constructor(){this.subscriptions=[]}add(t){return pv(this.subscriptions,t),()=>gv(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cr=e=>e*1e3,wn=e=>e/1e3;function TN(e,t){return t?e*(1e3/t):0}const PN=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,F5=1e-7,U5=12;function V5(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=PN(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>F5&&++l<U5);return a}function zc(e,t,n,r){if(e===t&&n===r)return _n;const s=i=>V5(i,0,1,e,n);return i=>i===0||i===1?i:PN(s(i),t,r)}const RN=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,AN=e=>t=>1-e(1-t),ON=zc(.33,1.53,.69,.99),xv=AN(ON),IN=RN(xv),DN=e=>(e*=2)<1?.5*xv(e):.5*(2-Math.pow(2,-10*(e-1))),wv=e=>1-Math.sin(Math.acos(e)),MN=AN(wv),LN=RN(wv),B5=zc(.42,0,1,1),z5=zc(0,0,.58,1),$N=zc(.42,0,.58,1),W5=e=>Array.isArray(e)&&typeof e[0]!="number",FN=e=>Array.isArray(e)&&typeof e[0]=="number",$w={linear:_n,easeIn:B5,easeInOut:$N,easeOut:z5,circIn:wv,circInOut:LN,circOut:MN,backIn:xv,backInOut:IN,backOut:ON,anticipate:DN},H5=e=>typeof e=="string",Fw=e=>{if(FN(e)){qd(e.length===4);const[t,n,r,s]=e;return zc(t,n,r,s)}else if(H5(e))return qd($w[e]!==void 0),$w[e];return e},Nu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Uw={value:null,addProjectionMetrics:null};function q5(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){a.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const p=m&&s?n:r;return f&&a.add(h),p.has(h)||p.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&Uw.value&&Uw.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const K5=40;function UN(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Nu.reduce((b,_)=>(b[_]=q5(i,t?_:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:v}=a,p=()=>{const b=Ur.useManualTiming?s.timestamp:performance.now();n=!1,Ur.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,K5),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Nu.reduce((b,_)=>{const S=a[_];return b[_]=(j,k=!1,N=!1)=>(n||x(),S.schedule(j,k,N)),b},{}),cancel:b=>{for(let _=0;_<Nu.length;_++)a[Nu[_]].cancel(b)},state:s,steps:a}}const{schedule:Ve,cancel:Hs,state:xt,steps:Hf}=UN(typeof requestAnimationFrame<"u"?requestAnimationFrame:_n,!0);let ed;function G5(){ed=void 0}const Ht={now:()=>(ed===void 0&&Ht.set(xt.isProcessing||Ur.useManualTiming?xt.timestamp:performance.now()),ed),set:e=>{ed=e,queueMicrotask(G5)}},VN=e=>t=>typeof t=="string"&&t.startsWith(e),BN=VN("--"),Y5=VN("var(--"),bv=e=>Y5(e)?Q5.test(e.split("/*")[0].trim()):!1,Q5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ho={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yc={...Ho,transform:e=>Fr(0,1,e)},Cu={...Ho,default:1},Dl=e=>Math.round(e*1e5)/1e5,_v=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z5(e){return e==null}const J5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sv=(e,t)=>n=>!!(typeof n=="string"&&J5.test(n)&&n.startsWith(e)||t&&!Z5(n)&&Object.prototype.hasOwnProperty.call(n,t)),zN=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(_v);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},X5=e=>Fr(0,255,e),qf={...Ho,transform:e=>Math.round(X5(e))},ji={test:Sv("rgb","red"),parse:zN("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qf.transform(e)+", "+qf.transform(t)+", "+qf.transform(n)+", "+Dl(yc.transform(r))+")"};function eF(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ng={test:Sv("#"),parse:eF,transform:ji.transform},Wc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ts=Wc("deg"),ur=Wc("%"),ae=Wc("px"),tF=Wc("vh"),nF=Wc("vw"),Vw={...ur,parse:e=>ur.parse(e)/100,transform:e=>ur.transform(e*100)},Ma={test:Sv("hsl","hue"),parse:zN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ur.transform(Dl(t))+", "+ur.transform(Dl(n))+", "+Dl(yc.transform(r))+")"},it={test:e=>ji.test(e)||ng.test(e)||Ma.test(e),parse:e=>ji.test(e)?ji.parse(e):Ma.test(e)?Ma.parse(e):ng.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ji.transform(e):Ma.transform(e),getAnimatableNone:e=>{const t=it.parse(e);return t.alpha=0,it.transform(t)}},rF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_v))==null?void 0:t.length)||0)+(((n=e.match(rF))==null?void 0:n.length)||0)>0}const WN="number",HN="color",iF="var",aF="var(",Bw="${}",oF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(oF,c=>(it.test(c)?(r.color.push(i),s.push(HN),n.push(it.parse(c))):c.startsWith(aF)?(r.var.push(i),s.push(iF),n.push(c)):(r.number.push(i),s.push(WN),n.push(parseFloat(c))),++i,Bw)).split(Bw);return{values:n,split:l,indexes:r,types:s}}function qN(e){return vc(e).values}function KN(e){const{split:t,types:n}=vc(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const l=n[a];l===WN?i+=Dl(s[a]):l===HN?i+=it.transform(s[a]):i+=s[a]}return i}}const lF=e=>typeof e=="number"?0:it.test(e)?it.getAnimatableNone(e):e;function cF(e){const t=qN(e);return KN(e)(t.map(lF))}const qs={test:sF,parse:qN,createTransformer:KN,getAnimatableNone:cF};function Kf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Kf(c,l,e+1/3),i=Kf(c,l,e),a=Kf(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Kd(e,t){return n=>n>0?t:e}const We=(e,t,n)=>e+(t-e)*n,Gf=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},dF=[ng,ji,Ma],hF=e=>dF.find(t=>t.test(e));function zw(e){const t=hF(e);if(!t)return!1;let n=t.parse(e);return t===Ma&&(n=uF(n)),n}const Ww=(e,t)=>{const n=zw(e),r=zw(t);if(!n||!r)return Kd(e,t);const s={...n};return i=>(s.red=Gf(n.red,r.red,i),s.green=Gf(n.green,r.green,i),s.blue=Gf(n.blue,r.blue,i),s.alpha=We(n.alpha,r.alpha,i),ji.transform(s))},rg=new Set(["none","hidden"]);function fF(e,t){return rg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mF(e,t){return n=>We(e,t,n)}function jv(e){return typeof e=="number"?mF:typeof e=="string"?bv(e)?Kd:it.test(e)?Ww:yF:Array.isArray(e)?GN:typeof e=="object"?it.test(e)?Ww:pF:Kd}function GN(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>jv(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function pF(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=jv(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function gF(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],l=e.values[a]??0;n[s]=l,r[i]++}return n}const yF=(e,t)=>{const n=qs.createTransformer(t),r=vc(e),s=vc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?rg.has(e)&&!s.values.length||rg.has(t)&&!r.values.length?fF(e,t):Bc(GN(gF(r,s),s.values),n):Kd(e,t)};function YN(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?We(e,t,n):jv(e)(e,t)}const vF=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ve.update(t,n),stop:()=>Hs(t),now:()=>xt.isProcessing?xt.timestamp:Ht.now()}},QN=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gd=2e4;function kv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Gd;)t+=n,r=e.next(t);return t>=Gd?1/0:t}function xF(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(kv(r),Gd);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:wn(s)}}const wF=5;function ZN(e,t,n){const r=Math.max(t-wF,0);return TN(n-e(r),t-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yf=.001;function bF({duration:e=Ze.duration,bounce:t=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let s,i,a=1-t;a=Fr(Ze.minDamping,Ze.maxDamping,a),e=Fr(Ze.minDuration,Ze.maxDuration,wn(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-n,m=sg(u,a),v=Math.exp(-h);return Yf-f/m*v},i=u=>{const h=u*a*e,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-h),p=sg(Math.pow(u,2),a);return(-s(u)+Yf>0?-1:1)*((f-m)*v)/p}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Yf+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=SF(s,i,l);if(e=cr(e),isNaN(c))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const _F=12;function SF(e,t,n){let r=n;for(let s=1;s<_F;s++)r=r-e(r)/t(r);return r}function sg(e,t){return e*Math.sqrt(1-t*t)}const jF=["duration","bounce"],kF=["stiffness","damping","mass"];function Hw(e,t){return t.some(n=>e[n]!==void 0)}function NF(e){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...e};if(!Hw(e,kF)&&Hw(e,jF))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Fr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ze.mass,stiffness:s,damping:i}}else{const n=bF(e);t={...t,...n,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function Yd(e=Ze.visualDuration,t=Ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=NF({...n,velocity:-wn(n.velocity||0)}),v=f||0,p=u/(2*Math.sqrt(c*d)),x=a-i,y=wn(Math.sqrt(c/d)),w=Math.abs(x)<5;r||(r=w?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=w?Ze.restDelta.granular:Ze.restDelta.default);let b;if(p<1){const S=sg(y,p);b=j=>{const k=Math.exp(-p*y*j);return a-k*((v+p*y*x)/S*Math.sin(S*j)+x*Math.cos(S*j))}}else if(p===1)b=S=>a-Math.exp(-y*S)*(x+(v+y*x)*S);else{const S=y*Math.sqrt(p*p-1);b=j=>{const k=Math.exp(-p*y*j),N=Math.min(S*j,300);return a-k*((v+p*y*x)*Math.sinh(N)+S*x*Math.cosh(N))/S}}const _={calculatedDuration:m&&h||null,next:S=>{const j=b(S);if(m)l.done=S>=h;else{let k=S===0?v:0;p<1&&(k=S===0?cr(v):ZN(b,S,j));const N=Math.abs(k)<=r,T=Math.abs(a-j)<=s;l.done=N&&T}return l.value=l.done?a:j,l},toString:()=>{const S=Math.min(kv(_),Gd),j=QN(k=>_.next(S*k).value,S,30);return S+"ms "+j},toTransition:()=>{}};return _}Yd.applyToOptions=e=>{const t=xF(e,100,Yd);return e.ease=t.ease,e.duration=cr(t.duration),e.type="keyframes",e};function ig({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,v=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let p=n*t;const x=h+p,y=a===void 0?x:a(x);y!==x&&(p=y-h);const w=N=>-p*Math.exp(-N/r),b=N=>y+w(N),_=N=>{const T=w(N),E=b(N);f.done=Math.abs(T)<=u,f.value=f.done?y:E};let S,j;const k=N=>{m(f.value)&&(S=N,j=Yd({keyframes:[f.value,v(f.value)],velocity:ZN(b,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:N=>{let T=!1;return!j&&S===void 0&&(T=!0,_(N),k(N)),S!==void 0&&N>=S?j.next(N-S):(!T&&_(N),f)}}}function CF(e,t,n){const r=[],s=n||Ur.mix||YN,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||_n:t;l=Bc(c,l)}r.push(l)}return r}function EF(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(qd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=CF(t,r,s),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=gc(e[h],e[h+1],d);return l[h](f)};return n?d=>u(Fr(e[0],e[i-1],d)):u}function TF(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=gc(0,t,r);e.push(We(n,1,s))}}function PF(e){const t=[0];return TF(t,e.length-1),t}function RF(e,t){return e.map(n=>n*t)}function AF(e,t){return e.map(()=>t||$N).splice(0,e.length-1)}function Ml({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=W5(r)?r.map(Fw):Fw(r),i={done:!1,value:t[0]},a=RF(n&&n.length===t.length?n:PF(t),e),l=EF(a,t,{ease:Array.isArray(s)?s:AF(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const OF=e=>e!==null;function Nv(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(OF),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const IF={decay:ig,inertia:ig,tween:Ml,keyframes:Ml,spring:Yd};function JN(e){typeof e.type=="string"&&(e.type=IF[e.type])}class Cv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const DF=e=>e/100;class Ev extends Cv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ht.now()&&this.tick(Ht.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;JN(t);const{type:n=Ml,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=n||Ml;c!==Ml&&typeof l[0]!="number"&&(this.mixKeyframes=Bc(DF,YN(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=kv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:v,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,_=r;if(h){const N=Math.min(this.currentTime,s)/l;let T=Math.floor(N),E=N%1;!E&&N>=1&&(E=1),E===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(f==="reverse"?(E=1-E,m&&(E-=m/l)):f==="mirror"&&(_=a)),b=Fr(0,1,E)*l}const S=w?{done:!1,value:d[0]}:_.next(b);i&&(S.value=i(S.value));let{done:j}=S;!w&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return k&&v!==ig&&(S.value=Nv(d,this.options,x,this.speed)),p&&p(S.value),k&&this.finish(),S}then(t,n){return this.finished.then(t,n)}get duration(){return wn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wn(t)}get time(){return wn(this.currentTime)}set time(t){var n;t=cr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ht.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=wn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=vF,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ht.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function MF(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ki=e=>e*180/Math.PI,ag=e=>{const t=ki(Math.atan2(e[1],e[0]));return og(t)},LF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ag,rotateZ:ag,skewX:e=>ki(Math.atan(e[1])),skewY:e=>ki(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},og=e=>(e=e%360,e<0&&(e+=360),e),qw=ag,Kw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Gw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$F={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kw,scaleY:Gw,scale:e=>(Kw(e)+Gw(e))/2,rotateX:e=>og(ki(Math.atan2(e[6],e[5]))),rotateY:e=>og(ki(Math.atan2(-e[2],e[0]))),rotateZ:qw,rotate:qw,skewX:e=>ki(Math.atan(e[4])),skewY:e=>ki(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function lg(e){return e.includes("scale")?1:0}function cg(e,t){if(!e||e==="none")return lg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=$F,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=LF,s=l}if(!s)return lg(t);const i=r[t],a=s[1].split(",").map(UF);return typeof i=="function"?i(a):a[i]}const FF=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return cg(n,t)};function UF(e){return parseFloat(e.trim())}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ko=new Set(qo),Yw=e=>e===Ho||e===ae,VF=new Set(["x","y","z"]),BF=qo.filter(e=>!VF.has(e));function zF(e){const t=[];return BF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Li={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>cg(t,"x"),y:(e,{transform:t})=>cg(t,"y")};Li.translateX=Li.x;Li.translateY=Li.y;const $i=new Set;let ug=!1,dg=!1,hg=!1;function XN(){if(dg){const e=Array.from($i).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=zF(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))==null||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dg=!1,ug=!1,$i.forEach(e=>e.complete(hg)),$i.clear()}function eC(){$i.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(dg=!0)})}function WF(){hg=!0,eC(),XN(),hg=!1}class Tv{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?($i.add(this),ug||(ug=!0,Ve.read(eC),Ve.resolveKeyframes(XN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}MF(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$i.delete(this)}cancel(){this.state==="scheduled"&&($i.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HF=e=>e.startsWith("--");function qF(e,t,n){HF(t)?e.style.setProperty(t,n):e.style[t]=n}const KF=yv(()=>window.ScrollTimeline!==void 0),GF={};function YF(e,t){const n=yv(e);return()=>GF[t]??n()}const tC=YF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vl([0,.65,.55,1]),circOut:vl([.55,0,1,.45]),backIn:vl([.31,.01,.66,-.59]),backOut:vl([.33,1.53,.69,.99])};function nC(e,t){if(e)return typeof e=="function"?tC()?QN(e,t):"ease-out":FN(e)?vl(e):Array.isArray(e)?e.map(n=>nC(n,t)||Qw.easeOut):Qw[e]}function QF(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=nC(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function rC(e){return typeof e=="function"&&"applyToOptions"in e}function ZF({type:e,...t}){return rC(e)&&tC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class JF extends Cv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,qd(typeof t.type!="string");const u=ZF(t);this.animation=QF(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Nv(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):qF(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return wn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+wn(t)}get time(){return wn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=cr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KF()?(this.animation.timeline=t,_n):n(this)}}const sC={anticipate:DN,backInOut:IN,circInOut:LN};function XF(e){return e in sC}function e3(e){typeof e.ease=="string"&&XF(e.ease)&&(e.ease=sC[e.ease])}const Zw=10;class t3 extends JF{constructor(t){e3(t),JN(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Ev({...a,autoplay:!1}),c=cr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Zw).value,l.sample(c).value,Zw),l.stop()}}const Jw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qs.test(e)||e==="0")&&!e.startsWith("url("));function n3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function r3(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Jw(s,t),l=Jw(i,t);return!a||!l?!1:n3(e)||(n==="spring"||rC(n))&&r}function fg(e){e.duration=0,e.type="keyframes"}const s3=new Set(["opacity","clipPath","filter","transform"]),i3=yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a3(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return i3()&&n&&s3.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const o3=40;class l3 extends Cv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var p,x;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ht.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Tv;this.keyframeResolver=new m(l,(p,x,y)=>this.onKeyframesResolved(p,x,f,!y),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ht.now(),r3(t,i,a,l)||((Ur.instantAnimations||!c)&&(d==null||d(Nv(t,r,n))),t[0]=t[t.length-1],fg(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>o3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&a3(f)?new t3({...f,element:f.motionValue.owner.current}):new Ev(f);m.finished.then(()=>this.notifyFinished()).catch(_n),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),WF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const c3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function u3(e){const t=c3.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function iC(e,t,n=1){const[r,s]=u3(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return NN(a)?parseFloat(a):a}return bv(s)?iC(s,t,n+1):s}function Pv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const aC=new Set(["width","height","top","left","right","bottom",...qo]),d3={test:e=>e==="auto",parse:e=>e},oC=e=>t=>t.test(e),lC=[Ho,ae,ur,ts,nF,tF,d3],Xw=e=>lC.find(oC(e));function h3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||EN(e):!0}const f3=new Set(["brightness","contrast","saturate","opacity"]);function m3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_v)||[];if(!r)return e;const s=n.replace(r,"");let i=f3.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const p3=/\b([a-z-]*)\(.*?\)/gu,mg={...qs,getAnimatableNone:e=>{const t=e.match(p3);return t?t.map(m3).join(" "):e}},eb={...Ho,transform:Math.round},g3={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:Cu,scaleX:Cu,scaleY:Cu,scaleZ:Cu,skew:ts,skewX:ts,skewY:ts,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:yc,originX:Vw,originY:Vw,originZ:ae},Rv={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...g3,zIndex:eb,fillOpacity:yc,strokeOpacity:yc,numOctaves:eb},y3={...Rv,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:mg,WebkitFilter:mg},cC=e=>y3[e];function uC(e,t){let n=cC(e);return n!==mg&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const v3=new Set(["auto","none","0"]);function x3(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!v3.has(i)&&vc(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=uC(n,s)}class w3 extends Tv{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),bv(u))){const d=iC(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!aC.has(r)||t.length!==2)return;const[s,i]=t,a=Xw(s),l=Xw(i);if(a!==l)if(Yw(a)&&Yw(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Li[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||h3(t[s]))&&r.push(s);r.length&&x3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Li[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Li[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function dC(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const hC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fC(e){return CN(e)&&"offsetHeight"in e}const tb=30,b3=e=>!isNaN(parseFloat(e));class _3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Ht.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ht.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=b3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vv);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ht.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tb);return TN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function So(e,t){return new _3(e,t)}const{schedule:Av,cancel:n7}=UN(queueMicrotask,!1),Mn={x:!1,y:!1};function mC(){return Mn.x||Mn.y}function S3(e){return e==="x"||e==="y"?Mn[e]?null:(Mn[e]=!0,()=>{Mn[e]=!1}):Mn.x||Mn.y?null:(Mn.x=Mn.y=!0,()=>{Mn.x=Mn.y=!1})}function pC(e,t){const n=dC(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function nb(e){return!(e.pointerType==="touch"||mC())}function j3(e,t,n={}){const[r,s,i]=pC(e,n),a=l=>{if(!nb(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{nb(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const gC=(e,t)=>t?e===t?!0:gC(e,t.parentElement):!1,Ov=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,k3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N3(e){return k3.has(e.tagName)||e.tabIndex!==-1}const td=new WeakSet;function rb(e){return t=>{t.key==="Enter"&&e(t)}}function Qf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=rb(()=>{if(td.has(n))return;Qf(n,"down");const s=rb(()=>{Qf(n,"up")}),i=()=>Qf(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function sb(e){return Ov(e)&&!mC()}function E3(e,t,n={}){const[r,s,i]=pC(e,n),a=l=>{const c=l.currentTarget;if(!sb(l))return;td.add(c);const u=t(c,l),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),td.has(c)&&td.delete(c),sb(m)&&typeof u=="function"&&u(m,{success:v})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||gC(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),fC(l)&&(l.addEventListener("focus",u=>C3(u,s)),!N3(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function yC(e){return CN(e)&&"ownerSVGElement"in e}function T3(e){return yC(e)&&e.tagName==="svg"}const Pt=e=>!!(e&&e.getVelocity),P3=[...lC,it,qs],R3=e=>P3.find(oC(e)),Iv=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ib(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function A3(...e){return t=>{let n=!1;const r=e.map(s=>{const i=ib(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ib(e[s],null)}}}}function O3(...e){return g.useCallback(A3(...e),e)}class I3 extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=fC(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function D3({children:e,isPresent:t,anchorX:n,root:r}){const s=g.useId(),i=g.useRef(null),a=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(Iv),c=O3(i,e==null?void 0:e.ref);return g.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=a.current;if(t||!i.current||!u||!d)return;const v=n==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=s;const p=document.createElement("style");l&&(p.nonce=l);const x=r??document.head;return x.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{x.contains(p)&&x.removeChild(p)}},[t]),o.jsx(I3,{isPresent:t,childRef:i,sizeRef:a,children:g.cloneElement(e,{ref:c})})}const M3=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=fv(L3),d=g.useId();let h=!0,f=g.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return i&&h&&(f={...f}),g.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[n]),g.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(e=o.jsx(D3,{isPresent:n,anchorX:l,root:c,children:e})),o.jsx(Mh.Provider,{value:f,children:e})};function L3(){return new Map}function vC(e=!0){const t=g.useContext(Mh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=g.useId();g.useEffect(()=>{if(e)return s(i)},[e]);const a=g.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const Eu=e=>e.key||"";function ab(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const xc=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=vC(a),h=g.useMemo(()=>ab(e),[e]),f=a&&!u?[]:h.map(Eu),m=g.useRef(!0),v=g.useRef(h),p=fv(()=>new Map),[x,y]=g.useState(h),[w,b]=g.useState(h);kN(()=>{m.current=!1,v.current=h;for(let j=0;j<w.length;j++){const k=Eu(w[j]);f.includes(k)?p.delete(k):p.get(k)!==!0&&p.set(k,!1)}},[w,f.length,f.join("-")]);const _=[];if(h!==x){let j=[...h];for(let k=0;k<w.length;k++){const N=w[k],T=Eu(N);f.includes(T)||(j.splice(k,0,N),_.push(N))}return i==="wait"&&_.length&&(j=_),b(ab(j)),y(h),null}const{forceRender:S}=g.useContext(hv);return o.jsx(o.Fragment,{children:w.map(j=>{const k=Eu(j),N=a&&!u?!1:h===w||f.includes(k),T=()=>{if(p.has(k))p.set(k,!0);else return;let E=!0;p.forEach(D=>{D||(E=!1)}),E&&(S==null||S(),b(v.current),a&&(d==null||d()),r&&r())};return o.jsx(M3,{isPresent:N,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:N?void 0:T,anchorX:l,children:j},k)})})},xC=g.createContext({strict:!1}),ob={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jo={};for(const e in ob)jo[e]={isEnabled:t=>ob[e].some(n=>!!t[n])};function $3(e){for(const t in e)jo[t]={...jo[t],...e[t]}}const F3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||F3.has(e)}let wC=e=>!Qd(e);function U3(e){typeof e=="function"&&(wC=t=>t.startsWith("on")?!Qd(t):e(t))}try{U3(require("@emotion/is-prop-valid").default)}catch{}function V3(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(wC(s)||n===!0&&Qd(s)||!t&&!Qd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Lh=g.createContext({});function $h(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function wc(e){return typeof e=="string"||Array.isArray(e)}const Dv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mv=["initial",...Dv];function Fh(e){return $h(e.animate)||Mv.some(t=>wc(e[t]))}function bC(e){return!!(Fh(e)||e.variants)}function B3(e,t){if(Fh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||wc(n)?n:void 0,animate:wc(r)?r:void 0}}return e.inherit!==!1?t:{}}function z3(e){const{initial:t,animate:n}=B3(e,g.useContext(Lh));return g.useMemo(()=>({initial:t,animate:n}),[lb(t),lb(n)])}function lb(e){return Array.isArray(e)?e.join(" "):e}function cb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ol={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ae.test(e))e=parseFloat(e);else return e;const n=cb(e,t.target.x),r=cb(e,t.target.y);return`${n}% ${r}%`}},W3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=qs.parse(e);if(s.length>5)return r;const i=qs.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=We(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},pg={borderRadius:{...ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ol,borderTopRightRadius:ol,borderBottomLeftRadius:ol,borderBottomRightRadius:ol,boxShadow:W3};function _C(e,{layout:t,layoutId:n}){return Ko.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!pg[e]||e==="opacity")}const H3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q3=qo.length;function K3(e,t,n){let r="",s=!0;for(let i=0;i<q3;i++){const a=qo[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=hC(l,Rv[a]);if(!c){s=!1;const d=H3[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Lv(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(Ko.has(c)){a=!0;continue}else if(BN(c)){s[c]=u;continue}else{const d=hC(u,Rv[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(a||n?r.transform=K3(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const $v=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SC(e,t,n){for(const r in t)!Pt(t[r])&&!_C(r,n)&&(e[r]=t[r])}function G3({transformTemplate:e},t){return g.useMemo(()=>{const n=$v();return Lv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Y3(e,t){const n=e.style||{},r={};return SC(r,n,e),Object.assign(r,G3(e,t)),r}function Q3(e,t){const n={},r=Y3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Z3={offset:"stroke-dashoffset",array:"stroke-dasharray"},J3={offset:"strokeDashoffset",array:"strokeDasharray"};function X3(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Z3:J3;e[i.offset]=ae.transform(-r);const a=ae.transform(t),l=ae.transform(n);e[i.array]=`${a} ${l}`}function jC(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(Lv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&X3(h,s,i,a,!1)}const kC=()=>({...$v(),attrs:{}}),NC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function eU(e,t,n,r){const s=g.useMemo(()=>{const i=kC();return jC(i,t,NC(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};SC(i,e.style,e),s.style={...i,...s.style}}return s}const tU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fv(e){return typeof e!="string"||e.includes("-")?!1:!!(tU.indexOf(e)>-1||/[A-Z]/u.test(e))}function nU(e,t,n,{latestValues:r},s,i=!1){const l=(Fv(e)?eU:Q3)(t,r,s,e),c=V3(t,typeof e=="string",i),u=e!==g.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=g.useMemo(()=>Pt(d)?d.get():d,[d]);return g.createElement(e,{...u,children:h})}function ub(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Uv(e,t,n,r){if(typeof t=="function"){const[s,i]=ub(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=ub(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function nd(e){return Pt(e)?e.get():e}function rU({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:sU(n,r,s,e),renderState:t()}}function sU(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=nd(i[f]);let{initial:a,animate:l}=e;const c=Fh(e),u=bC(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!$h(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=Uv(e,f[m]);if(v){const{transitionEnd:p,transition:x,...y}=v;for(const w in y){let b=y[w];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(s[w]=b)}for(const w in p)s[w]=p[w]}}}return s}const CC=e=>(t,n)=>{const r=g.useContext(Lh),s=g.useContext(Mh),i=()=>rU(e,t,r,s);return n?i():fv(i)};function Vv(e,t,n){var i;const{style:r}=e,s={};for(const a in r)(Pt(r[a])||t.style&&Pt(t.style[a])||_C(a,e)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const iU=CC({scrapeMotionValuesFromProps:Vv,createRenderState:$v});function EC(e,t,n){const r=Vv(e,t,n);for(const s in e)if(Pt(e[s])||Pt(t[s])){const i=qo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const aU=CC({scrapeMotionValuesFromProps:EC,createRenderState:kC}),oU=Symbol.for("motionComponentSymbol");function La(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lU(e,t,n){return g.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):La(n)&&(n.current=r))},[t])}const Bv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cU="framerAppearId",TC="data-"+Bv(cU),PC=g.createContext({});function uU(e,t,n,r,s){var p,x;const{visualElement:i}=g.useContext(Lh),a=g.useContext(xC),l=g.useContext(Mh),c=g.useContext(Iv).reducedMotion,u=g.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=g.useContext(PC);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&dU(u.current,n,s,h);const f=g.useRef(!1);g.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const m=n[TC],v=g.useRef(!!m&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return kN(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),v.current=!1),d.enteringChildren=void 0)}),d}function dU(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:RC(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&La(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function RC(e){if(e)return e.options.allowProjection!==!1?e.projection:RC(e.parent)}function Zf(e,{forwardMotionProps:t=!1}={},n,r){n&&$3(n);const s=Fv(e)?aU:iU;function i(l,c){let u;const d={...g.useContext(Iv),...l,layoutId:hU(l)},{isStatic:h}=d,f=z3(l),m=s(l,h);if(!h&&mv){fU();const v=mU(d);u=v.MeasureLayout,f.visualElement=uU(e,m,d,r,v.ProjectionNode)}return o.jsxs(Lh.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,nU(e,l,lU(m,f.visualElement,c),m,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=g.forwardRef(i);return a[oU]=e,a}function hU({layoutId:e}){const t=g.useContext(hv).id;return t&&e!==void 0?t+"-"+e:e}function fU(e,t){g.useContext(xC).strict}function mU(e){const{drag:t,layout:n}=jo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function pU(e,t){if(typeof Proxy>"u")return Zf;const n=new Map,r=(i,a)=>Zf(i,a,e,t),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Zf(a,void 0,e,t)),n.get(a))})}function AC({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function gU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Jf(e){return e===void 0||e===1}function gg({scale:e,scaleX:t,scaleY:n}){return!Jf(e)||!Jf(t)||!Jf(n)}function gi(e){return gg(e)||OC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OC(e){return db(e.x)||db(e.y)}function db(e){return e&&e!=="0%"}function Zd(e,t,n){const r=e-n,s=t*r;return n+s}function hb(e,t,n,r,s){return s!==void 0&&(e=Zd(e,s,r)),Zd(e,n,r)+t}function yg(e,t=0,n=1,r,s){e.min=hb(e.min,t,n,r,s),e.max=hb(e.max,t,n,r,s)}function IC(e,{x:t,y:n}){yg(e.x,t.translate,t.scale,t.originPoint),yg(e.y,n.translate,n.scale,n.originPoint)}const fb=.999999999999,mb=1.0000000000001;function vU(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Fa(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,IC(e,a)),r&&gi(i.latestValues)&&Fa(e,i.latestValues))}t.x<mb&&t.x>fb&&(t.x=1),t.y<mb&&t.y>fb&&(t.y=1)}function $a(e,t){e.min=e.min+t,e.max=e.max+t}function pb(e,t,n,r,s=.5){const i=We(e.min,e.max,s);yg(e,t,n,i,r)}function Fa(e,t){pb(e.x,t.x,t.scaleX,t.scale,t.originX),pb(e.y,t.y,t.scaleY,t.scale,t.originY)}function DC(e,t){return AC(yU(e.getBoundingClientRect(),t))}function xU(e,t,n){const r=DC(e,n),{scroll:s}=t;return s&&($a(r.x,s.offset.x),$a(r.y,s.offset.y)),r}const gb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ua=()=>({x:gb(),y:gb()}),yb=()=>({min:0,max:0}),ct=()=>({x:yb(),y:yb()}),vg={current:null},MC={current:!1};function wU(){if(MC.current=!0,!!mv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vg.current=e.matches;e.addEventListener("change",t),t()}else vg.current=!1}const bU=new WeakMap;function _U(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Pt(s))e.addValue(r,s);else if(Pt(i))e.addValue(r,So(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,So(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SU{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ht.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ve.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Fh(n),this.isVariantNode=bC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Pt(m)&&m.set(c[f])}}mount(t){var n;this.current=t,bU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),MC.current||wU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ko.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in jo){const n=jo[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vb.length;r++){const s=vb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=_U(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=So(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(NN(r)||EN(r))?r=parseFloat(r):!R3(r)&&qs.test(n)&&(r=uC(t,n)),this.setBaseTarget(t,Pt(r)?r.get():r)),Pt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Uv(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Pt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Av.render(this.render)}}class LC extends SU{constructor(){super(...arguments),this.KeyframeResolver=w3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $C(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function jU(e){return window.getComputedStyle(e)}class kU extends LC{constructor(){super(...arguments),this.type="html",this.renderInstance=$C}readValueFromInstance(t,n){var r;if(Ko.has(n))return(r=this.projection)!=null&&r.isProjecting?lg(n):FF(t,n);{const s=jU(t),i=(BN(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return DC(t,n)}build(t,n,r){Lv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Vv(t,n,r)}}const FC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NU(e,t,n,r){$C(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(FC.has(s)?s:Bv(s),t.attrs[s])}class CU extends LC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ko.has(n)){const r=cC(n);return r&&r.default||0}return n=FC.has(n)?n:Bv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return EC(t,n,r)}build(t,n,r){jC(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){NU(t,n,r,s)}mount(t){this.isSVGTag=NC(t.tagName),super.mount(t)}}const EU=(e,t)=>Fv(e)?new CU(t):new kU(t,{allowProjection:e!==g.Fragment});function Qa(e,t,n){const r=e.getProps();return Uv(r,t,n!==void 0?n:r.custom,e)}const xg=e=>Array.isArray(e);function TU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,So(n))}function PU(e){return xg(e)?e[e.length-1]||0:e}function RU(e,t){const n=Qa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=PU(i[a]);TU(e,a,l)}}function AU(e){return!!(Pt(e)&&e.add)}function wg(e,t){const n=e.getValue("willChange");if(AU(n))return n.add(t);if(!n&&Ur.WillChange){const r=new Ur.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function UC(e){return e.props[TC]}const OU=e=>e!==null;function IU(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(OU),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const DU={type:"spring",stiffness:500,damping:25,restSpeed:10},MU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LU={type:"keyframes",duration:.8},$U={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FU=(e,{keyframes:t})=>t.length>2?LU:Ko.has(e)?e.startsWith("scale")?MU(t[1]):DU:$U;function UU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const zv=(e,t,n,r={},s,i)=>a=>{const l=Pv(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-cr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};UU(l)||Object.assign(d,FU(e,d)),d.duration&&(d.duration=cr(d.duration)),d.repeatDelay&&(d.repeatDelay=cr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(fg(d),d.delay===0&&(h=!0)),(Ur.instantAnimations||Ur.skipAnimations)&&(h=!0,fg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=IU(d.keyframes,l);if(f!==void 0){Ve.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Ev(d):new l3(d)};function VU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function VC(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&VU(u,d))continue;const m={delay:n,...Pv(i||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=UC(e);if(y){const w=window.MotionHandoffAnimation(y,d,Ve);w!==null&&(m.startTime=w,p=!0)}}wg(e,d),h.start(zv(d,h,f,e.shouldReduceMotion&&aC.has(d)?{type:!1}:m,e,p));const x=h.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{Ve.update(()=>{a&&RU(e,a)})}),c}function BC(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:l-i*r}function bg(e,t,n={}){var c;const r=Qa(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(VC(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return BU(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function BU(e,t,n=0,r=0,s=0,i=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(bg(c,t,{...a,delay:n+(typeof r=="function"?0:r)+BC(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function zU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>bg(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=bg(e,t,n);else{const s=typeof t=="function"?Qa(e,t,n.custom):t;r=Promise.all(VC(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function zC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const WU=Mv.length;function WC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?WC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<WU;n++){const r=Mv[n],s=e.props[r];(wc(s)||s===!1)&&(t[r]=s)}return t}const HU=[...Dv].reverse(),qU=Dv.length;function KU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zU(e,n,r)))}function GU(e){let t=KU(e),n=xb(),r=!0;const s=c=>(u,d)=>{var f;const h=Qa(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...p}=h;u={...u,...p,...v}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=WC(e.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let x=0;x<qU;x++){const y=HU[x],w=n[y],b=u[y]!==void 0?u[y]:d[y],_=wc(b),S=y===c?w.isActive:null;S===!1&&(v=x);let j=b===d[y]&&b!==u[y]&&_;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...m},!w.isActive&&S===null||!b&&!w.prevProp||$h(b)||typeof b=="boolean")continue;const k=YU(w.prevProp,b);let N=k||y===c&&w.isActive&&!j&&_||x>v&&_,T=!1;const E=Array.isArray(b)?b:[b];let D=E.reduce(s(y),{});S===!1&&(D={});const{prevResolvedValues:P={}}=w,z={...P,...D},O=L=>{N=!0,f.has(L)&&(T=!0,f.delete(L)),w.needsAnimating[L]=!0;const R=e.getValue(L);R&&(R.liveStyle=!1)};for(const L in z){const R=D[L],A=P[L];if(m.hasOwnProperty(L))continue;let B=!1;xg(R)&&xg(A)?B=!zC(R,A):B=R!==A,B?R!=null?O(L):f.add(L):R!==void 0&&f.has(L)?O(L):w.protectedKeys[L]=!0}w.prevProp=b,w.prevResolvedValues=D,w.isActive&&(m={...m,...D}),r&&e.blockInitialAnimation&&(N=!1);const Q=j&&k;N&&(!Q||T)&&h.push(...E.map(L=>{const R={type:y};if(typeof L=="string"&&r&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:A}=e,B=Qa(A,L);if(A.enteringChildren&&B){const{delayChildren:ie}=B.transition||{};R.delay=BC(A.enteringChildren,e,ie)}}return{animation:L,options:R}}))}if(f.size){const x={};if(typeof u.initial!="boolean"){const y=Qa(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(x.transition=y.transition)}f.forEach(y=>{const w=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),x[y]=w??null}),h.push({animation:x})}let p=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=xb()}}}function YU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zC(t,e):!1}function di(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xb(){return{animate:di(!0),whileInView:di(),whileHover:di(),whileTap:di(),whileDrag:di(),whileFocus:di(),exit:di()}}class ti{constructor(t){this.isMounted=!1,this.node=t}update(){}}class QU extends ti{constructor(t){super(t),t.animationState||(t.animationState=GU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$h(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ZU=0;class JU extends ti{constructor(){super(...arguments),this.id=ZU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const XU={animation:{Feature:QU},exit:{Feature:JU}};function bc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Hc(e){return{point:{x:e.pageX,y:e.pageY}}}const eV=e=>t=>Ov(t)&&e(t,Hc(t));function Ll(e,t,n,r){return bc(e,t,eV(n),r)}const HC=1e-4,tV=1-HC,nV=1+HC,qC=.01,rV=0-qC,sV=0+qC;function Mt(e){return e.max-e.min}function iV(e,t,n){return Math.abs(e-t)<=n}function wb(e,t,n,r=.5){e.origin=r,e.originPoint=We(t.min,t.max,e.origin),e.scale=Mt(n)/Mt(t),e.translate=We(n.min,n.max,e.origin)-e.originPoint,(e.scale>=tV&&e.scale<=nV||isNaN(e.scale))&&(e.scale=1),(e.translate>=rV&&e.translate<=sV||isNaN(e.translate))&&(e.translate=0)}function $l(e,t,n,r){wb(e.x,t.x,n.x,r?r.originX:void 0),wb(e.y,t.y,n.y,r?r.originY:void 0)}function bb(e,t,n){e.min=n.min+t.min,e.max=e.min+Mt(t)}function aV(e,t,n){bb(e.x,t.x,n.x),bb(e.y,t.y,n.y)}function _b(e,t,n){e.min=t.min-n.min,e.max=e.min+Mt(t)}function Jd(e,t,n){_b(e.x,t.x,n.x),_b(e.y,t.y,n.y)}function mn(e){return[e("x"),e("y")]}const KC=({current:e})=>e?e.ownerDocument.defaultView:null,Sb=(e,t)=>Math.abs(e-t);function oV(e,t){const n=Sb(e.x,t.x),r=Sb(e.y,t.y);return Math.sqrt(n**2+r**2)}class GC{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=em(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=oV(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:p}=f,{timestamp:x}=xt;this.history.push({...p,timestamp:x});const{onStart:y,onMove:w}=this.handlers;m||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xf(m,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=em(f.type==="pointercancel"?this.lastMoveEventInfo:Xf(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,y),p&&p(f,y)},!Ov(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=Hc(t),c=Xf(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=xt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,em(c,this.history)),this.removeListeners=Bc(Ll(this.contextWindow,"pointermove",this.handlePointerMove),Ll(this.contextWindow,"pointerup",this.handlePointerUp),Ll(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function Xf(e,t){return t?{point:t(e.point)}:e}function jb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function em({point:e},t){return{point:e,delta:jb(e,YC(t)),offset:jb(e,lV(t)),velocity:cV(t,.1)}}function lV(e){return e[0]}function YC(e){return e[e.length-1]}function cV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=YC(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>cr(t)));)n--;if(!r)return{x:0,y:0};const i=wn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uV(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?We(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?We(n,e,r.max):Math.min(e,n)),e}function kb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function dV(e,{top:t,left:n,bottom:r,right:s}){return{x:kb(e.x,n,s),y:kb(e.y,t,r)}}function Nb(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function hV(e,t){return{x:Nb(e.x,t.x),y:Nb(e.y,t.y)}}function fV(e,t){let n=.5;const r=Mt(e),s=Mt(t);return s>r?n=gc(t.min,t.max-r,e.min):r>s&&(n=gc(e.min,e.max-s,t.min)),Fr(0,1,n)}function mV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const _g=.35;function pV(e=_g){return e===!1?e=0:e===!0&&(e=_g),{x:Cb(e,"left","right"),y:Cb(e,"top","bottom")}}function Cb(e,t,n){return{min:Eb(e,t),max:Eb(e,n)}}function Eb(e,t){return typeof e=="number"?e:e[t]||0}const gV=new WeakMap;class yV{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hc(h).point)},a=(h,f)=>{const{drag:m,dragPropagation:v,onDragStart:p}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S3(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mn(y=>{let w=this.getAxisMotionValue(y).get()||0;if(ur.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[y];_&&(w=Mt(_)*(parseFloat(w)/100))}}this.originPoint[y]=w}),p&&Ve.postRender(()=>p(h,f)),wg(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:p,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(v&&this.currentDirection===null){this.currentDirection=vV(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),x&&x(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>mn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new GC(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:KC(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Ve.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Tu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=uV(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&La(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=dV(r.layoutBox,t):this.constraints=!1,this.elastic=pV(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=mV(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!La(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=xU(r,s.root,this.visualElement.getTransformPagePoint());let a=hV(s.layout.layoutBox,i);if(n){const l=n(gU(a));this.hasMutatedConstraints=!!l,l&&(a=AC(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=mn(d=>{if(!Tu(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return wg(this.visualElement,t),r.start(zv(t,r,0,n,this.visualElement,!1))}stopAnimation(){mn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){mn(n=>{const{drag:r}=this.getProps();if(!Tu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-We(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!La(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};mn(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=fV({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mn(a=>{if(!Tu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(We(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;gV.set(this.visualElement,this);const t=this.visualElement.current,n=Ll(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();La(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ve.read(r);const a=bc(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(mn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=_g,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Tu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xV extends ti{constructor(t){super(t),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new yV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tb=e=>(t,n)=>{e&&Ve.postRender(()=>e(t,n))};class wV extends ti{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(t){this.session=new GC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Tb(t),onStart:Tb(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Ve.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Ll(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let tm=!1;class bV extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),tm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,tm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ve.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Av.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;tm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function QC(e){const[t,n]=vC(),r=g.useContext(hv);return o.jsx(bV,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(PC),isPresent:t,safeToRemove:n})}function _V(e,t,n){const r=Pt(e)?e:So(e);return r.start(zv("",r,t,n)),r.animation}const SV=(e,t)=>e.depth-t.depth;class jV{constructor(){this.children=[],this.isDirty=!1}add(t){pv(this.children,t),this.isDirty=!0}remove(t){gv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SV),this.isDirty=!1,this.children.forEach(t)}}function kV(e,t){const n=Ht.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Hs(r),e(i-t))};return Ve.setup(r,!0),()=>Hs(r)}const ZC=["TopLeft","TopRight","BottomLeft","BottomRight"],NV=ZC.length,Pb=e=>typeof e=="string"?parseFloat(e):e,Rb=e=>typeof e=="number"||ae.test(e);function CV(e,t,n,r,s,i){s?(e.opacity=We(0,n.opacity??1,EV(r)),e.opacityExit=We(t.opacity??1,0,TV(r))):i&&(e.opacity=We(t.opacity??1,n.opacity??1,r));for(let a=0;a<NV;a++){const l=`border${ZC[a]}Radius`;let c=Ab(t,l),u=Ab(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Rb(c)===Rb(u)?(e[l]=Math.max(We(Pb(c),Pb(u),r),0),(ur.test(u)||ur.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=We(t.rotate||0,n.rotate||0,r))}function Ab(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EV=JC(0,.5,MN),TV=JC(.5,.95,_n);function JC(e,t,n){return r=>r<e?0:r>t?1:n(gc(e,t,r))}function Ob(e,t){e.min=t.min,e.max=t.max}function In(e,t){Ob(e.x,t.x),Ob(e.y,t.y)}function Ib(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Db(e,t,n,r,s){return e-=t,e=Zd(e,1/n,r),s!==void 0&&(e=Zd(e,1/s,r)),e}function PV(e,t=0,n=1,r=.5,s,i=e,a=e){if(ur.test(t)&&(t=parseFloat(t),t=We(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=We(i.min,i.max,r);e===i&&(l-=t),e.min=Db(e.min,t,n,l,s),e.max=Db(e.max,t,n,l,s)}function Mb(e,t,[n,r,s],i,a){PV(e,t[n],t[r],t[s],t.scale,i,a)}const RV=["x","scaleX","originX"],AV=["y","scaleY","originY"];function Lb(e,t,n,r){Mb(e.x,t,RV,n?n.x:void 0,r?r.x:void 0),Mb(e.y,t,AV,n?n.y:void 0,r?r.y:void 0)}function $b(e){return e.translate===0&&e.scale===1}function XC(e){return $b(e.x)&&$b(e.y)}function Fb(e,t){return e.min===t.min&&e.max===t.max}function OV(e,t){return Fb(e.x,t.x)&&Fb(e.y,t.y)}function Ub(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function eE(e,t){return Ub(e.x,t.x)&&Ub(e.y,t.y)}function Vb(e){return Mt(e.x)/Mt(e.y)}function Bb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class IV{constructor(){this.members=[]}add(t){pv(this.members,t),t.scheduleRender()}remove(t){if(gv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DV(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const nm=["","X","Y","Z"],MV=1e3;let LV=0;function rm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function tE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=UC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&tE(r)}function nE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=LV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UV),this.nodes.forEach(WV),this.nodes.forEach(HV),this.nodes.forEach(VV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jV)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new vv),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=yC(a)&&!T3(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ve.read(()=>{h=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=kV(f,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(Hb)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||QV,{onLayoutAnimationStart:p,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!eE(this.targetLayout,m),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Pv(v,"layout"),onPlay:p,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,w)}else h||Hb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qV),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zV),this.nodes.forEach($V),this.nodes.forEach(FV)):this.nodes.forEach(Wb),this.clearAllSnapshots();const l=Ht.now();xt.delta=Fr(0,1e3/60,l-xt.timestamp),xt.timestamp=l,xt.isProcessing=!0,Hf.update.process(xt),Hf.preRender.process(xt),Hf.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Av.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BV),this.sharedNodes.forEach(KV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!XC(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||gi(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),ZV(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ct();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(JV))){const{scroll:d}=this.root;d&&($a(l.x,d.offset.x),$a(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=ct();if(In(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&In(l,a),$a(l.x,h.offset.x),$a(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=ct();In(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fa(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gi(d.latestValues)&&Fa(c,d.latestValues)}return gi(this.latestValues)&&Fa(c,this.latestValues),c}removeTransform(a){const l=ct();In(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!gi(u.latestValues))continue;gg(u.latestValues)&&u.updateSnapshot();const d=ct(),h=u.measurePageBox();In(d,h),Lb(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return gi(this.latestValues)&&Lb(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=xt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):In(this.target,this.layout.layoutBox),IC(this.target,this.targetDelta)):In(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||OC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),Jd(this.relativeTargetOrigin,l,c),In(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;In(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;vU(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ct());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ib(this.prevProjectionDelta.x,this.projectionDelta.x),Ib(this.prevProjectionDelta.y,this.projectionDelta.y)),$l(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Bb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ua(),this.projectionDelta=Ua(),this.projectionDeltaWithTransform=Ua()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ct(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,p=m!==v,x=this.getStack(),y=!x||x.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(YV));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const S=_/1e3;qb(h.x,a.x,S),qb(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GV(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&OV(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ct()),In(b,this.relativeTarget)),p&&(this.animationValues=d,CV(d,u,this.latestValues,S,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=So(0)),this.currentAnimation=_V(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&rE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ct();const h=Mt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Mt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}In(l,c),Fa(l,d),$l(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IV),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&rm("z",a,u,this.animationValues);for(let d=0;d<nm.length;d++)rm(`rotate${nm[d]}`,a,u,this.animationValues),rm(`skew${nm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=nd(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=nd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!gi(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=DV(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in pg){if(d[v]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:y}=pg[v],w=h==="none"?d[v]:p(d[v],u);if(x){const b=x.length;for(let _=0;_<b;_++)a[x[_]]=w}else y?this.options.visualElement.renderState.vars[v]=w:a[v]=w}this.options.layoutId&&(a.pointerEvents=u===this?nd(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(zb),this.root.sharedNodes.clear()}}}function $V(e){e.updateLayout()}function FV(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?mn(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Mt(f);f.min=r[h].min,f.max=f.min+m}):rE(i,t.layoutBox,r)&&mn(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Mt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Ua();$l(l,r,t.layoutBox);const c=Ua();a?$l(c,e.applyTransform(s,!0),t.measuredBox):$l(c,r,t.layoutBox);const u=!XC(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=ct();Jd(v,t.layoutBox,f.layoutBox);const p=ct();Jd(p,r,m.layoutBox),eE(v,p)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function UV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function VV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function BV(e){e.clearSnapshot()}function zb(e){e.clearMeasurements()}function Wb(e){e.isLayoutDirty=!1}function zV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Hb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WV(e){e.resolveTargetDelta()}function HV(e){e.calcProjection()}function qV(e){e.resetSkewAndRotation()}function KV(e){e.removeLeadSnapshot()}function qb(e,t,n){e.translate=We(t.translate,0,n),e.scale=We(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Kb(e,t,n,r){e.min=We(t.min,n.min,r),e.max=We(t.max,n.max,r)}function GV(e,t,n,r){Kb(e.x,t.x,n.x,r),Kb(e.y,t.y,n.y,r)}function YV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QV={duration:.45,ease:[.4,0,.1,1]},Gb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yb=Gb("applewebkit/")&&!Gb("chrome/")?Math.round:_n;function Qb(e){e.min=Yb(e.min),e.max=Yb(e.max)}function ZV(e){Qb(e.x),Qb(e.y)}function rE(e,t,n){return e==="position"||e==="preserve-aspect"&&!iV(Vb(t),Vb(n),.2)}function JV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const XV=nE({attachResizeListener:(e,t)=>bc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sm={current:void 0},sE=nE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sm.current){const e=new XV({});e.mount(window),e.setOptions({layoutScroll:!0}),sm.current=e}return sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),e6={pan:{Feature:wV},drag:{Feature:xV,ProjectionNode:sE,MeasureLayout:QC}};function Zb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Ve.postRender(()=>i(t,Hc(t)))}class t6 extends ti{mount(){const{current:t}=this.node;t&&(this.unmount=j3(t,(n,r)=>(Zb(this.node,r,"Start"),s=>Zb(this.node,s,"End"))))}unmount(){}}class n6 extends ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(bc(this.node.current,"focus",()=>this.onFocus()),bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jb(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Ve.postRender(()=>i(t,Hc(t)))}class r6 extends ti{mount(){const{current:t}=this.node;t&&(this.unmount=E3(t,(n,r)=>(Jb(this.node,r,"Start"),(s,{success:i})=>Jb(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sg=new WeakMap,im=new WeakMap,s6=e=>{const t=Sg.get(e.target);t&&t(e)},i6=e=>{e.forEach(s6)};function a6({root:e,...t}){const n=e||document;im.has(n)||im.set(n,{});const r=im.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(i6,{root:e,...t})),r[s]}function o6(e,t,n){const r=a6(t);return Sg.set(e,n),r.observe(e),()=>{Sg.delete(e),r.unobserve(e)}}const l6={some:0,all:1};class c6 extends ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:l6[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return o6(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(u6(t,n))&&this.startObserver()}unmount(){}}function u6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const d6={inView:{Feature:c6},tap:{Feature:r6},focus:{Feature:n6},hover:{Feature:t6}},h6={layout:{ProjectionNode:sE,MeasureLayout:QC}},f6={...XU,...d6,...e6,...h6},V=pU(f6,EU),m6={some:0,all:1};function p6(e,t,{root:n,margin:r,amount:s="some"}={}){const i=dC(e),a=new WeakMap,l=u=>{u.forEach(d=>{const h=a.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=t(d.target,d);typeof f=="function"?a.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),a.delete(d.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof s=="number"?s:m6[s]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function ra(e,{root:t,margin:n,amount:r,once:s=!1,initial:i=!1}={}){const[a,l]=g.useState(i);return g.useEffect(()=>{if(!e.current||s&&a)return;const c=()=>(l(!0),s?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return p6(e.current,c,u)},[t,e,n,s,r]),a}function iE(){const{user:e}=pt();return dn({queryKey:["user-role",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:t,error:n}=await K.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();if(n)throw n;return t==null?void 0:t.role},enabled:!!e})}function Wv(){const{data:e,isLoading:t}=iE();return{isInstructor:e==="instructor"||e==="admin",isAdmin:e==="admin",isLoading:t}}var am=0;function Hv(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xb()),document.body.insertAdjacentElement("beforeend",e[1]??Xb()),am++,()=>{am===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),am--}},[])}function Xb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var om="focusScope.autoFocusOnMount",lm="focusScope.autoFocusOnUnmount",e1={bubbles:!1,cancelable:!0},g6="FocusScope",Uh=g.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=g.useState(null),u=Nn(s),d=Nn(i),h=g.useRef(null),f=Ce(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let p=function(b){if(m.paused||!l)return;const _=b.target;l.contains(_)?h.current=_:ns(h.current,{select:!0})},x=function(b){if(m.paused||!l)return;const _=b.relatedTarget;_!==null&&(l.contains(_)||ns(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&ns(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,m.paused]),g.useEffect(()=>{if(l){n1.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(om,e1);l.addEventListener(om,u),l.dispatchEvent(y),y.defaultPrevented||(y6(_6(aE(l)),{select:!0}),document.activeElement===p&&ns(l))}return()=>{l.removeEventListener(om,u),setTimeout(()=>{const y=new CustomEvent(lm,e1);l.addEventListener(lm,d),l.dispatchEvent(y),y.defaultPrevented||ns(p??document.body,{select:!0}),l.removeEventListener(lm,d),n1.remove(m)},0)}}},[l,u,d,m]);const v=g.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const w=p.currentTarget,[b,_]=v6(w);b&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&ns(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),n&&ns(_,{select:!0})):y===w&&p.preventDefault()}},[n,r,m.paused]);return o.jsx(ue.div,{tabIndex:-1,...a,ref:f,onKeyDown:v})});Uh.displayName=g6;function y6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ns(r,{select:t}),document.activeElement!==n)return}function v6(e){const t=aE(e),n=t1(t,e),r=t1(t.reverse(),e);return[n,r]}function aE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function t1(e,t){for(const n of e)if(!x6(n,{upTo:t}))return n}function x6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w6(e){return e instanceof HTMLInputElement&&"select"in e}function ns(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w6(e)&&t&&e.select()}}var n1=b6();function b6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=r1(e,t),e.unshift(t)},remove(t){var n;e=r1(e,t),(n=e[0])==null||n.resume()}}}function r1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function _6(e){return e.filter(t=>t.tagName!=="A")}var S6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pa=new WeakMap,Pu=new WeakMap,Ru={},cm=0,oE=function(e){return e&&(e.host||oE(e.parentNode))},j6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=oE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},k6=function(e,t,n,r){var s=j6(t,Array.isArray(e)?e:[e]);Ru[n]||(Ru[n]=new WeakMap);var i=Ru[n],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),v=m!==null&&m!=="false",p=(pa.get(f)||0)+1,x=(i.get(f)||0)+1;pa.set(f,p),i.set(f,x),a.push(f),p===1&&v&&Pu.set(f,!0),x===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),cm++,function(){a.forEach(function(h){var f=pa.get(h)-1,m=i.get(h)-1;pa.set(h,f),i.set(h,m),f||(Pu.has(h)||h.removeAttribute(r),Pu.delete(h)),m||h.removeAttribute(n)}),cm--,cm||(pa=new WeakMap,pa=new WeakMap,Pu=new WeakMap,Ru={})}},qv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=S6(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),k6(r,s,n,"aria-hidden")):function(){return null}},sd="right-scroll-bar-position",id="width-before-scroll-bar",N6="with-scroll-bars-hidden",C6="--removed-body-scroll-bar-size";function um(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function E6(e,t){var n=g.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var T6=typeof window<"u"?g.useLayoutEffect:g.useEffect,s1=new WeakMap;function P6(e,t){var n=E6(null,function(r){return e.forEach(function(s){return um(s,r)})});return T6(function(){var r=s1.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||um(l,null)}),i.forEach(function(l){s.has(l)||um(l,a)})}s1.set(n,e)},[e]),n}function R6(e){return e}function A6(e,t){t===void 0&&(t=R6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function O6(e){e===void 0&&(e={});var t=A6(null);return t.options=sr({async:!0,ssr:!1},e),t}var lE=function(e){var t=e.sideCar,n=Wo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,sr({},n))};lE.isSideCarExport=!0;function I6(e,t){return e.useMedium(t),lE}var cE=O6(),dm=function(){},Vh=g.forwardRef(function(e,t){var n=g.useRef(null),r=g.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,v=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,b=e.gapMode,_=Wo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,j=P6([n,t]),k=sr(sr({},_),s);return g.createElement(g.Fragment,null,d&&g.createElement(S,{sideCar:cE,removeScrollBar:u,shards:h,noRelative:m,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:b}),a?g.cloneElement(g.Children.only(l),sr(sr({},k),{ref:j})):g.createElement(w,sr({},k,{className:c,ref:j}),l))});Vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vh.classNames={fullWidth:id,zeroRight:sd};var D6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D6();return t&&e.setAttribute("nonce",t),e}function L6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=M6())&&(L6(t,n),$6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U6=function(){var e=F6();return function(t,n){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uE=function(){var e=U6(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},V6={left:0,top:0,right:0,gap:0},hm=function(e){return parseInt(e||"",10)||0},B6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[hm(n),hm(r),hm(s)]},z6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return V6;var t=B6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},W6=uE(),Za="data-scroll-locked",H6=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(N6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Za,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Za,`] {
    `).concat(C6,": ").concat(l,`px;
  }
`)},i1=function(){var e=parseInt(document.body.getAttribute(Za)||"0",10);return isFinite(e)?e:0},q6=function(){g.useEffect(function(){return document.body.setAttribute(Za,(i1()+1).toString()),function(){var e=i1()-1;e<=0?document.body.removeAttribute(Za):document.body.setAttribute(Za,e.toString())}},[])},K6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;q6();var i=g.useMemo(function(){return z6(s)},[s]);return g.createElement(W6,{styles:H6(i,!t,s,n?"":"!important")})},jg=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return jg=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{jg=!1}var ga=jg?{passive:!1}:!1,G6=function(e){return e.tagName==="TEXTAREA"},dE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!G6(e)&&n[t]==="visible")},Y6=function(e){return dE(e,"overflowY")},Q6=function(e){return dE(e,"overflowX")},a1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hE(e,r);if(s){var i=fE(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Z6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},J6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},hE=function(e,t){return e==="v"?Y6(t):Q6(t)},fE=function(e,t){return e==="v"?Z6(t):J6(t)},X6=function(e,t){return e==="h"&&t==="rtl"?-1:1},eB=function(e,t,n,r,s){var i=X6(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,f=0;do{if(!l)break;var m=fE(e,l),v=m[0],p=m[1],x=m[2],y=p-x-i*v;(v||y)&&hE(e,l)&&(h+=y,f+=v);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Ou=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},o1=function(e){return[e.deltaX,e.deltaY]},l1=function(e){return e&&"current"in e?e.current:e},tB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},rB=0,ya=[];function sB(e){var t=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(rB++)[0],i=g.useState(uE)[0],a=g.useRef(e);g.useEffect(function(){a.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=nL([e.lockRef.current],(e.shards||[]).map(l1),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var y=Ou(p),w=n.current,b="deltaX"in p?p.deltaX:w[0]-y[0],_="deltaY"in p?p.deltaY:w[1]-y[1],S,j=p.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&j.type==="range")return!1;var N=a1(k,j);if(!N)return!0;if(N?S=k:(S=k==="v"?"h":"v",N=a1(k,j)),!N)return!1;if(!r.current&&"changedTouches"in p&&(b||_)&&(r.current=S),!S)return!0;var T=r.current||S;return eB(T,x,p,T==="h"?b:_,!0)},[]),c=g.useCallback(function(p){var x=p;if(!(!ya.length||ya[ya.length-1]!==i)){var y="deltaY"in x?o1(x):Ou(x),w=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&tB(S.delta,y)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(l1).filter(Boolean).filter(function(S){return S.contains(x.target)}),_=b.length>0?l(x,b[0]):!a.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=g.useCallback(function(p,x,y,w){var b={name:p,delta:x,target:y,should:w,shadowParent:iB(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=g.useCallback(function(p){n.current=Ou(p),r.current=void 0},[]),h=g.useCallback(function(p){u(p.type,o1(p),p.target,l(p,e.lockRef.current))},[]),f=g.useCallback(function(p){u(p.type,Ou(p),p.target,l(p,e.lockRef.current))},[]);g.useEffect(function(){return ya.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ga),document.addEventListener("touchmove",c,ga),document.addEventListener("touchstart",d,ga),function(){ya=ya.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,ga),document.removeEventListener("touchmove",c,ga),document.removeEventListener("touchstart",d,ga)}},[]);var m=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:nB(s)}):null,m?g.createElement(K6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function iB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const aB=I6(cE,sB);var Bh=g.forwardRef(function(e,t){return g.createElement(Vh,sr({},e,{ref:t,sideCar:aB}))});Bh.classNames=Vh.classNames;var zh="Popover",[mE,s7]=pr(zh,[Uo]),qc=Uo(),[oB,ni]=mE(zh),pE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=qc(t),c=g.useRef(null),[u,d]=g.useState(!1),[h,f]=Bs({prop:r,defaultProp:s??!1,onChange:i,caller:zh});return o.jsx(Pk,{...l,children:o.jsx(oB,{scope:t,contentId:Rr(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:a,children:n})})};pE.displayName=zh;var gE="PopoverAnchor",lB=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ni(gE,n),i=qc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Ph,{...i,...r,ref:t})});lB.displayName=gE;var yE="PopoverTrigger",vE=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ni(yE,n),i=qc(n),a=Ce(t,s.triggerRef),l=o.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SE(s.open),...r,ref:a,onClick:ee(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Ph,{asChild:!0,...i,children:l})});vE.displayName=yE;var Kv="PopoverPortal",[cB,uB]=mE(Kv,{forceMount:void 0}),xE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=ni(Kv,t);return o.jsx(cB,{scope:t,forceMount:n,children:o.jsx(zr,{present:n||i.open,children:o.jsx(Lc,{asChild:!0,container:s,children:r})})})};xE.displayName=Kv;var ko="PopoverContent",wE=g.forwardRef((e,t)=>{const n=uB(ko,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=ni(ko,e.__scopePopover);return o.jsx(zr,{present:r||i.open,children:i.modal?o.jsx(hB,{...s,ref:t}):o.jsx(fB,{...s,ref:t})})});wE.displayName=ko;var dB=Wi("PopoverContent.RemoveScroll"),hB=g.forwardRef((e,t)=>{const n=ni(ko,e.__scopePopover),r=g.useRef(null),s=Ce(t,r),i=g.useRef(!1);return g.useEffect(()=>{const a=r.current;if(a)return qv(a)},[]),o.jsx(Bh,{as:dB,allowPinchZoom:!0,children:o.jsx(bE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ee(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),fB=g.forwardRef((e,t)=>{const n=ni(ko,e.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return o.jsx(bE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bE=g.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=ni(ko,n),m=qc(n);return Hv(),o.jsx(Uh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Oo,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(Qy,{"data-state":SE(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_E="PopoverClose",mB=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ni(_E,n);return o.jsx(ue.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});mB.displayName=_E;var pB="PopoverArrow",gB=g.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=qc(n);return o.jsx(Zy,{...s,...r,ref:t})});gB.displayName=pB;function SE(e){return e?"open":"closed"}var yB=pE,vB=vE,xB=xE,jE=wE;const wB=yB,bB=vB,kE=g.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(xB,{children:o.jsx(jE,{ref:s,align:t,sideOffset:n,className:oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));kE.displayName=jE.displayName;const _B=Nh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Sn({className:e,variant:t,...n}){return o.jsx("div",{className:oe(_B({variant:t}),e),...n})}function Gv(e){const{user:t}=pt(),n=(t==null?void 0:t.id)??null,r=Cn(),[s,i]=g.useState([]),a=g.useRef(null),{isLoading:l,error:c,data:u}=dn({queryKey:["notifications",n,e],queryFn:async()=>{if(!n)return[];let f=K.from("notifications").select("*").eq("user_id",n).order("created_at",{ascending:!1});const{data:m,error:v}=await f;if(v)throw v;return m||[]},enabled:!!n,onSuccess(f){i(f||[])}});g.useEffect(()=>n?((async()=>{try{const m=`user_id=eq.${n}`;if(K.channel){const v=K.channel(`public:notifications:${n}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:m},p=>{const x=p.new;i(y=>[x,...y]),r.setQueryData(["notifications",n,e],y=>[x,...y||[]])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:m},p=>{const x=p.new;i(y=>y.map(w=>w.id===x.id?x:w)),r.setQueryData(["notifications",n,e],y=>(y||[]).map(w=>w.id===x.id?x:w))});await v.subscribe(),a.current=v}else if(K.from){const v=K.from(`notifications:user_id=eq.${n}`).on("INSERT",p=>{const x=p.new;i(y=>[x,...y]),r.setQueryData(["notifications",n,e],y=>[x,...y||[]])}).on("UPDATE",p=>{const x=p.new;i(y=>y.map(w=>w.id===x.id?x:w)),r.setQueryData(["notifications",n,e],y=>(y||[]).map(w=>w.id===x.id?x:w))}).subscribe();a.current=v}}catch(m){console.error("Realtime subscription error",m)}})(),()=>{try{const m=a.current;if(!m)return;m.unsubscribe&&m.unsubscribe(),K.removeChannel&&K.removeChannel(m)}catch{}}):void 0,[n,e,r]);async function d(f){if(!f)return;const{error:m}=await K.from("notifications").update({is_read:!0}).eq("id",f);if(m)throw m;i(v=>v.map(p=>p.id===f?{...p,is_read:!0}:p)),r.setQueryData(["notifications",n,e],v=>(v||[]).map(p=>p.id===f?{...p,is_read:!0}:p))}async function h(){if(!n)return;const{error:f}=await K.from("notifications").update({is_read:!0}).eq("user_id",n);if(f)throw f;i(m=>m.map(v=>({...v,is_read:!0}))),r.setQueryData(["notifications",n,e],m=>(m||[]).map(v=>({...v,is_read:!0})))}return{notifications:u??s,isLoading:l,error:c??void 0,markAsRead:d,markAllAsRead:h}}function SB(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),r=Math.floor((n-t)/1e3);if(r<60)return`${r}s ago`;const s=Math.floor(r/60);if(s<60)return`${s}m ago`;const i=Math.floor(s/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`}function fm(){const{notifications:e,isLoading:t,markAsRead:n,markAllAsRead:r}=Gv(),s=ot(),i=(e||[]).filter(l=>!l.is_read).length,a=async l=>{try{await n(l.id),l.link&&s(l.link)}catch(c){console.error("Failed to mark read",c)}};return o.jsxs(wB,{children:[o.jsx(bB,{asChild:!0,children:o.jsxs(F,{variant:"ghost",className:"relative",children:[o.jsx(Ad,{className:"w-5 h-5"}),i>0&&o.jsx(Sn,{className:"absolute -top-1 -right-1 size-4 rounded-full bg-destructive text-destructive-foreground text-[10px]",children:i>9?"9+":i})]})}),o.jsxs(kE,{align:"end",side:"bottom",className:"w-80",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Notifications"}),o.jsx(F,{size:"sm",variant:"ghost",onClick:()=>r(),children:"Mark all as read"})]}),o.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3",children:[t?o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 bg-secondary rounded w-1/2 animate-pulse"}),o.jsx("div",{className:"h-10 bg-secondary rounded animate-pulse"})]}):(e||[]).slice(0,10).map(l=>o.jsxs("button",{onClick:()=>a(l),className:`w-full text-left p-3 rounded hover:bg-accent flex items-start gap-3 ${l.is_read?"opacity-80":"bg-popover"}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium text-sm",children:l.title}),o.jsx("div",{className:"text-xs text-muted-foreground",children:SB(l.created_at)})]}),l.body&&o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:l.body})]}),!l.is_read&&o.jsx(Sn,{variant:"secondary",className:"shrink-0",children:"New"})]},l.id)),!t&&(e||[]).length===0&&o.jsx("div",{className:"text-center text-sm text-muted-foreground py-6",children:"No notifications"})]})]})]})}const jB=()=>{var f;const[e,t]=g.useState(!1),[n,r]=g.useState(!1),{user:s,profile:i,signOut:a}=pt(),{isInstructor:l,isAdmin:c,isLoading:u}=Wv(),d=ot();g.useEffect(()=>{const m=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const h=async()=>{await a(),d("/")};return o.jsxs(V.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:"easeOut"},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-background/95 backdrop-blur-xl border-b border-border":"bg-transparent"}`,children:[o.jsx("div",{className:"container-custom px-6 md:px-12",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs(we,{to:"/",className:"flex items-center gap-3 group",children:[o.jsx("div",{className:"w-12 h-12 bg-primary flex items-center justify-center transition-transform group-hover:scale-105",children:o.jsx("span",{className:"font-display text-2xl text-primary-foreground font-bold",children:""})}),o.jsxs("div",{className:"hidden sm:block",children:[o.jsx("span",{className:"font-display text-xl tracking-widest",children:"IRON FIST"}),o.jsx("span",{className:"block text-xs text-muted-foreground tracking-[0.3em]",children:"DOJO"})]})]}),o.jsx("nav",{className:"hidden lg:flex items-center gap-10",children:["Programs",...l||u?["Instructor"]:[],"Philosophy","Schedule","Gallery","Contact"].map(m=>o.jsxs("a",{href:`#${m.toLowerCase()}`,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wider relative group",children:[m,o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]},m))}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(fm,{})}),s?o.jsxs(o.Fragment,{children:[c&&o.jsx(we,{to:"/admin",children:o.jsx(F,{variant:"secondary",size:"sm",children:"Admin"})}),o.jsx(we,{to:"/dashboard",children:o.jsxs(F,{variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(js,{className:"w-4 h-4"}),((f=i==null?void 0:i.full_name)==null?void 0:f.split(" ")[0])||"Dashboard"]})}),o.jsx(F,{variant:"ghost",size:"sm",onClick:h,children:"Sign Out"})]}):o.jsxs(o.Fragment,{children:[o.jsx(we,{to:"/auth",children:o.jsx(F,{variant:"outline",size:"sm",children:"Login"})}),o.jsx(we,{to:"/auth",children:o.jsx(F,{variant:"default",size:"sm",children:"Free Trial"})})]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(fm,{}),s?o.jsxs(o.Fragment,{children:[c&&o.jsx(we,{to:"/admin",children:o.jsx(F,{variant:"ghost",size:"icon",title:"Admin",children:o.jsx(js,{className:"w-5 h-5"})})}),o.jsx(we,{to:"/dashboard",children:o.jsx(F,{variant:"ghost",size:"icon",children:o.jsx(js,{className:"w-5 h-5"})})})]}):o.jsx(we,{to:"/auth",children:o.jsx(F,{variant:"ghost",size:"icon",children:"Login"})})]}),o.jsx("button",{className:"lg:hidden p-2 hover:bg-secondary transition-colors",onClick:()=>t(!e),"aria-label":"Toggle menu",children:e?o.jsx(Mo,{className:"w-6 h-6"}):o.jsx(Hj,{className:"w-6 h-6"})})]})}),o.jsx(xc,{children:e&&o.jsx(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden border-t border-border bg-background overflow-hidden",children:o.jsxs("nav",{className:"container-custom px-6 py-6 space-y-4",children:[["Programs","Instructor","Philosophy","Schedule","Gallery","Contact"].map((m,v)=>o.jsx(V.a,{href:`#${m.toLowerCase()}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},className:"block text-lg font-display tracking-wider hover:text-primary transition-colors",onClick:()=>t(!1),children:m},m)),o.jsxs("div",{className:"pt-4 border-t border-border flex flex-col gap-3",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx(fm,{})}),s?o.jsxs(o.Fragment,{children:[c&&o.jsx(we,{to:"/admin",onClick:()=>t(!1),children:o.jsx(F,{variant:"outline",className:"w-full",children:"Admin"})}),o.jsx(we,{to:"/dashboard",onClick:()=>t(!1),children:o.jsxs(F,{variant:"outline",className:"w-full gap-2",children:[o.jsx(js,{className:"w-4 h-4"}),"My Dashboard"]})}),o.jsx(F,{variant:"ghost",className:"w-full",onClick:h,children:"Sign Out"})]}):o.jsxs(o.Fragment,{children:[o.jsx(we,{to:"/auth",onClick:()=>t(!1),children:o.jsx(F,{variant:"outline",className:"w-full",children:"Login"})}),o.jsx(we,{to:"/auth",onClick:()=>t(!1),children:o.jsx(F,{className:"w-full",children:"Free Trial"})})]})]})]})})})]})},kB=()=>o.jsx("footer",{className:"border-t border-border section-padding bg-background pb-32 md:pb-12",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-primary flex items-center justify-center",children:o.jsx("span",{className:"font-display text-2xl text-primary-foreground font-bold",children:""})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-display text-xl tracking-widest",children:"IRON FIST"}),o.jsx("span",{className:"block text-xs text-muted-foreground tracking-[0.3em]",children:"DOJO"})]})]}),o.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Traditional Shotokan karate training for all ages. Forging discipline and building champions since 1999."}),o.jsx("div",{className:"flex gap-3",children:[fO,gO,jO,_O].map((e,t)=>o.jsx("a",{href:"#",className:"w-10 h-10 bg-secondary flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:o.jsx(e,{className:"w-5 h-5"})},t))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-display text-lg tracking-wider",children:"PROGRAMS"}),o.jsx("nav",{className:"space-y-3",children:["Kids Karate","Teen Training","Adult Classes","Competition Team","Private Lessons"].map(e=>o.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:e},e))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-display text-lg tracking-wider",children:"DOJO"}),o.jsx("nav",{className:"space-y-3",children:["About Us","Instructors","Schedule","Gallery","Contact","FAQs"].map(e=>o.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:e},e))})]})]}),o.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:" 2026 Iron Fist Dojo. All rights reserved."}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"})]})]})]})}),Fl="/karate/assets/hero-karate-ClJVieqp.jpg",NB="/karate/assets/aldulttraining-Bl7PkPU9.png",CB="/karate/assets/teentraining-Vgfe669Q.png",EB=()=>{const e=t=>{var n;(n=document.getElementById(t))==null||n.scrollIntoView({behavior:"smooth"})};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs(V.div,{className:"absolute inset-0 z-0",initial:{scale:1},animate:{scale:1.05},transition:{duration:15,ease:"linear"},children:[o.jsx("img",{src:Fl,alt:"Karate martial artist in powerful stance",className:"w-full h-full object-cover opacity-40"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/90 to-background/60"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-background/50"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/5 via-transparent to-primary/5"})]}),o.jsx("div",{className:"container-custom relative z-10 px-6 md:px-12 py-24",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 border border-primary/30 rounded-full mb-8",children:[o.jsx("span",{className:"w-2 h-2 bg-primary animate-pulse rounded-full"}),o.jsx("span",{className:"text-sm text-primary font-medium uppercase tracking-wider",children:"Now Enrolling  January 2026"})]}),o.jsx("div",{className:"overflow-hidden mb-4",children:o.jsx(V.h1,{initial:{y:100},animate:{y:0},transition:{duration:.8,delay:.3,ease:[.22,1,.36,1]},className:"font-display text-5xl sm:text-6xl md:text-7xl leading-[0.95] tracking-wide text-foreground",children:"FORGE"})}),o.jsx("div",{className:"overflow-hidden mb-4",children:o.jsx(V.h1,{initial:{y:100},animate:{y:0},transition:{duration:.8,delay:.4,ease:[.22,1,.36,1]},className:"font-display text-5xl sm:text-6xl md:text-7xl leading-[0.95] tracking-wide text-primary",children:"DISCIPLINE"})}),o.jsx("div",{className:"overflow-hidden mb-8",children:o.jsx(V.h1,{initial:{y:100},animate:{y:0},transition:{duration:.8,delay:.5,ease:[.22,1,.36,1]},className:"font-display text-5xl sm:text-6xl md:text-7xl leading-[0.95] tracking-wide text-foreground",children:"BUILD CHAMPIONS"})}),o.jsx(V.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"text-lg md:text-xl text-muted-foreground max-w-xl mb-10 leading-relaxed",children:"Train with world-class instructors in a supportive community. Our programs blend traditional values with modern techniques to build real skill and lifelong confidence."}),o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"flex flex-wrap gap-4",children:[o.jsxs(F,{variant:"hero",size:"xl",onClick:()=>e("programs"),className:"group",children:["Start Your Journey",o.jsx(aO,{className:"ml-2 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(F,{variant:"outline",size:"xl",className:"group",onClick:()=>e("gallery"),children:[o.jsx(Kj,{className:"mr-2 w-4 h-4 fill-current group-hover:scale-110 transition-transform"}),"See Training in Action"]})]}),o.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},className:"flex flex-wrap gap-8 mt-12 pt-8 border-t border-border/50",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:"500+"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Students Trained"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:"25+"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Years Experience"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:"98%"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Satisfaction Rate"})]})]})]}),o.jsx(V.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.5},className:"relative w-full h-[500px] lg:h-[600px] flex items-center justify-center",children:o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx(V.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},className:"absolute inset-0 rounded-2xl overflow-hidden border-4 border-background/30 shadow-2xl",children:o.jsx("img",{src:Fl,alt:"Master demonstrating technique",className:"w-full h-full object-cover"})}),o.jsxs(V.div,{initial:{x:20,y:-20,opacity:0},animate:{x:0,y:0,opacity:1},transition:{duration:.6,delay:.9},className:"absolute -top-4 -right-4 w-48 h-36 rounded-xl overflow-hidden border-2 border-primary/20 shadow-xl z-10",children:[o.jsx("img",{src:NB,alt:"Adult training session",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),o.jsxs(V.div,{initial:{x:-20,y:20,opacity:0},animate:{x:0,y:0,opacity:1},transition:{duration:.6,delay:1},className:"absolute -bottom-6 -left-6 w-56 h-40 rounded-xl overflow-hidden border-2 border-primary/20 shadow-xl z-10",children:[o.jsx("img",{src:CB,alt:"Teen training session",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]})]})})]})}),o.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-[0.3em]",children:"Discover More"}),o.jsx(V.div,{animate:{y:[0,10,0]},transition:{duration:1.8,repeat:1/0},className:"w-px h-16 bg-gradient-to-b from-primary via-primary/50 to-transparent"})]})]})},ad="/karate/assets/instructor-BljZI4hl.png",TB=[{value:8,label:"Medals",icon:Dy,color:"text-yellow-500"},{value:4,label:"Trophies",icon:Zj,color:"text-amber-500"},{value:2,label:"Dan Grade",icon:wO,color:"text-primary"},{value:15,label:"Years Exp",icon:Qt,color:"text-emerald-500"}],c1=({value:e,suffix:t=""})=>{const[n,r]=g.useState(0),s=g.useRef(null),i=ra(s,{once:!0,margin:"-50px"});return g.useEffect(()=>{if(i){const c=e/30;let u=0;const d=setInterval(()=>{u+=c,u>=e?(r(e),clearInterval(d)):r(Math.floor(u))},1500/30);return()=>clearInterval(d)}},[i,e]),o.jsxs("span",{ref:s,children:[n,t]})},PB=()=>{const e=g.useRef(null),t=ra(e,{once:!0,margin:"-100px"});return o.jsx("section",{id:"instructor",className:"section-padding bg-gradient-to-b from-background to-secondary/20",ref:e,children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-12 md:mb-16",children:[o.jsx("span",{className:"inline-block text-primary font-medium text-sm uppercase tracking-widest mb-3",children:"Meet Your Guide"}),o.jsx("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mb-3",children:"MEET YOUR SENSEI"}),o.jsx("div",{className:"w-20 h-1 bg-primary mx-auto mb-6"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Learn from a seasoned master with decades of experience in traditional and competitive karate"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-start",children:[o.jsx(V.div,{initial:{opacity:0,scale:.95},animate:t?{opacity:1,scale:1}:{},transition:{duration:.8,ease:"easeOut"},className:"order-2 lg:order-1",children:o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl lg:rounded-3xl shadow-2xl",children:[o.jsx("img",{src:ad,alt:"Sensei Kevin Kiarie Nyambura demonstrating technique",className:"w-full h-auto object-cover transform group-hover:scale-105 transition-transform duration-700"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/60 via-transparent to-transparent"})]}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6,delay:.3},className:"absolute -bottom-6 -right-6 bg-background border-2 border-primary/20 shadow-xl rounded-xl p-4 w-32",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-display text-3xl text-primary mb-1",children:[o.jsx(c1,{value:2}),"nd"]}),o.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Dan Black Belt"})]})}),o.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 border-t-2 border-l-2 border-primary/30 rounded-tl-2xl"}),o.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 border-b-2 border-l-2 border-primary/30 rounded-bl-2xl"})]})}),o.jsxs(V.div,{initial:{opacity:0,x:30},animate:t?{opacity:1,x:0}:{},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"order-1 lg:order-2",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-2 sm:gap-4 mb-4",children:[o.jsx("h3",{className:"font-display text-3xl md:text-4xl lg:text-5xl",children:"KEVIN KIARIE"}),o.jsx("h4",{className:"font-display text-2xl md:text-3xl text-primary",children:"NYAMBURA"})]}),o.jsxs("div",{className:"inline-flex items-center gap-3 bg-primary/10 border border-primary/20 px-4 py-2 rounded-full mb-6",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),o.jsx("span",{className:"font-medium text-primary text-sm uppercase tracking-wider",children:"2nd Degree Black Belt  Head Instructor"})]})]}),o.jsxs("div",{className:"space-y-6 mb-10",children:[o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Born in 1986 and driven by an unwavering passion for martial arts, Sensei Kevin began his karate journey at the age of 12. With over 15 years of dedicated training and competition experience, he has earned numerous national and international accolades."}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"His teaching philosophy combines traditional Shotokan discipline with modern training methodologies, creating champions both on and off the mat."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:TB.map((n,r)=>{const s=n.icon;return o.jsx(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.4+r*.1},className:"relative group",children:o.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-5 text-center hover:border-primary/30 transition-all duration-300 hover:shadow-lg",children:[o.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-full ${n.color}/10 mb-3`,children:o.jsx(s,{className:`w-6 h-6 ${n.color}`})}),o.jsx("div",{className:"font-display text-3xl md:text-4xl text-foreground mb-1",children:o.jsx(c1,{value:n.value,suffix:n.label==="Years Exp"?"+":""})}),o.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:n.label}),o.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-primary group-hover:w-16 transition-all duration-300"})]})},n.label)})}),o.jsxs(V.div,{initial:{opacity:0},animate:t?{opacity:1}:{},transition:{duration:.6,delay:.8},className:"mt-10 pt-8 border-t border-border/50",children:[o.jsx("h4",{className:"font-display text-xl mb-4 text-foreground",children:"Teaching Philosophy"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:["Discipline First","Modern Techniques","Personal Growth","Champion Mindset"].map((n,r)=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm font-medium",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2"}),n]},r))})]})]})]})]})})})},u1=["Discipline","Respect","Honor","Strength"],RB=()=>{const e=g.useRef(null),t=ra(e,{once:!0,margin:"-100px"});return o.jsxs("section",{id:"philosophy",className:"section-padding bg-background relative overflow-hidden",ref:e,children:[o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] opacity-30",style:{background:"var(--gradient-glow)"}}),o.jsxs("div",{className:"container-custom text-center relative z-10",children:[o.jsx(V.span,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-primary font-medium text-sm uppercase tracking-widest mb-8 block",children:"Our Philosophy"}),o.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-4 md:gap-x-8 gap-y-4 mb-12",children:u1.map((n,r)=>o.jsxs(V.div,{initial:{opacity:0,y:40},animate:t?{opacity:1,y:0}:{},transition:{duration:.6,delay:r*.15},className:"relative",children:[o.jsx("span",{className:"font-display text-4xl md:text-6xl lg:text-7xl tracking-wider",children:n}),o.jsx(V.div,{initial:{width:0},animate:t?{width:"100%"}:{},transition:{duration:.8,delay:.8+r*.1},className:"absolute -bottom-2 left-0 h-1 bg-primary"}),r<u1.length-1&&o.jsx("span",{className:"hidden md:inline font-display text-4xl md:text-6xl lg:text-7xl text-primary ml-4 md:ml-8",children:""})]},n))}),o.jsx(V.p,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6,delay:1},className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto font-light italic",children:'"Karate is not about fighting  it is about mastering self."'}),o.jsx(V.div,{initial:{opacity:0},animate:t?{opacity:1}:{},transition:{duration:.6,delay:1.2},className:"mt-8 text-sm text-muted-foreground uppercase tracking-widest",children:" Gichin Funakoshi"})]})]})},AB=(e,t)=>{const n=t?`  ${t}`:"";return`${e}${n}`},d1=e=>{try{return`${typeof window<"u"?window.location.origin:"https://your-site.example"}/videos?videoId=${encodeURIComponent(e)}`}catch{return`https://your-site.example/videos?videoId=${encodeURIComponent(e)}`}},Jr=e=>{window.open(e,"_blank","noopener,noreferrer")},Yv=({title:e,description:t,url:n,videoId:r})=>{const[s,i]=g.useState(!1),a=AB(e,t||void 0),l=n??(r?d1(r):typeof window<"u"?window.location.href:"https://your-site.example"),c=async()=>{if(navigator.share)try{await navigator.share({title:e,text:t||e,url:l})}catch{}else await navigator.clipboard.writeText(`${a} ${l}`),alert("Link copied to clipboard");i(!1)},u=async()=>{await navigator.clipboard.writeText(l),alert("Link copied to clipboard"),i(!1)},d=()=>{const x=`${a} ${l}`;Jr(`https://wa.me/?text=${encodeURIComponent(x)}`),i(!1)},h=()=>{Jr(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(l)}`),i(!1)},f=()=>{Jr(`https://twitter.com/intent/tweet?text=${encodeURIComponent(a)}&url=${encodeURIComponent(l)}`),i(!1)},m=()=>{Jr(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(l)}`),i(!1)},v=()=>{Jr(`https://t.me/share/url?url=${encodeURIComponent(l)}&text=${encodeURIComponent(a)}`),i(!1)},p=()=>{Jr(n||(r?d1(r):l)),i(!1)};return o.jsxs("div",{className:"relative inline-block",children:[o.jsx("button",{"aria-label":"Share",onClick:()=>i(x=>!x),className:"p-1 rounded hover:bg-white/5 flex items-center gap-2 text-sm",children:o.jsx(xO,{className:"w-4 h-4"})}),s&&o.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-card/95 backdrop-blur rounded shadow-lg z-50 p-2",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{onClick:c,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Share..."}),o.jsx("button",{onClick:u,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Copy link"}),o.jsx("button",{onClick:d,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"WhatsApp"}),o.jsx("button",{onClick:f,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"X / Twitter"}),o.jsx("button",{onClick:h,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Facebook"}),o.jsx("button",{onClick:m,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"LinkedIn"}),o.jsx("button",{onClick:v,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Telegram"}),o.jsx("button",{onClick:p,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Open original"})]})})]})},OB=[{name:"White Belt",level:"Beginner",japanese:"",color:"bg-gray-100 text-gray-900",description:"The beginning of the journey. Learn basic stances, blocks, and strikes."},{name:"Yellow Belt",level:"10th-9th Kyu",japanese:"",color:"bg-yellow-400 text-gray-900",description:"Foundation building. Master basic kata and improve coordination."},{name:"Orange Belt",level:"8th-7th Kyu",japanese:"",color:"bg-orange-500 text-white",description:"Developing technique. Introduction to sparring and advanced kata."},{name:"Purple Belt",level:"7th-6th Kyu",japanese:"",color:"bg-violet-600 text-white",description:"Developing intermediate control, transitions, and timing."},{name:"Green Belt",level:"6th-5th Kyu",japanese:"",color:"bg-green-600 text-white",description:"Growth phase. Refine techniques and develop fighting strategy."},{name:"Brown Belt",level:"2nd-1st Kyu",japanese:"",color:"bg-amber-800 text-white",description:"Advanced preparation. Ready for black belt examination."},{name:"Black Belt",level:"1st Dan+",japanese:"",color:"bg-black text-white border border-white/20",description:"The true beginning. A lifelong journey of mastery and teaching."}],IB=()=>{const e=g.useRef(null),t=ra(e,{once:!0,margin:"-100px"}),[n,r]=g.useState(null);return o.jsx("section",{className:"section-padding bg-secondary/20",ref:e,children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Karate Progression"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl",children:["THE PATH TO ",o.jsx("span",{className:"text-primary",children:"MASTERY"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Belts are awarded based on curriculum milestones and instructor evaluations. Belt assignment will be confirmed by your instructor."}),o.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[o.jsx(Yv,{title:"Karate Belt Progression",description:"Follow the path to mastery and share your journey.",url:typeof window<"u"?`${window.location.origin}/#belt-progression`:void 0}),o.jsx("button",{className:"px-3 py-2 bg-primary text-primary-foreground rounded",children:"View full progression"})]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:OB.map((s,i)=>o.jsxs(V.div,{initial:{opacity:0,x:-40},animate:t?{opacity:1,x:0}:{},transition:{duration:.5,delay:i*.1},onMouseEnter:()=>r(i),onMouseLeave:()=>r(null),className:`
                relative overflow-hidden transition-all duration-500 cursor-pointer
                ${s.color}
                ${n===i?"h-32 md:h-28":"h-14"}
              `,children:[o.jsx("div",{className:"absolute inset-0 flex items-center px-6 md:px-12",children:o.jsxs("div",{className:"flex items-center gap-4 md:gap-8 w-full",children:[o.jsx("span",{className:"font-display text-lg md:text-xl tracking-wider min-w-[120px] md:min-w-[160px]",children:s.name}),o.jsx("span",{className:"hidden md:block text-sm opacity-70",children:s.level}),o.jsx("span",{className:"hidden lg:block text-lg ml-auto",children:s.japanese})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:n===i?1:0,y:n===i?0:20},transition:{duration:.3},className:"absolute bottom-0 left-0 right-0 px-6 md:px-12 pb-4",children:o.jsx("p",{className:"text-sm opacity-90 max-w-2xl",children:s.description})})]},s.name))})]})})},DB=[{icon:oO,title:"Kids Karate",age:"Ages 5-12",description:"Focus, discipline, and fun. Building character through martial arts.",features:["Character Development","Coordination Skills","Self-Confidence"]},{icon:ta,title:"Teen Training",age:"Ages 13-17",description:"Channel energy positively. Develop focus and self-defense skills.",features:["Anti-Bullying Skills","Physical Fitness","Leadership"]},{icon:bO,title:"Adult Classes",age:"Ages 18+",description:"Stress relief, fitness, and mastery. Traditional training for modern life.",features:["Stress Management","Full-Body Workout","Self-Defense"]},{icon:Zj,title:"Competition Team",age:"By Selection",description:"Elite training for tournament champions. Compete nationally and internationally.",features:["Tournament Prep","Advanced Kata","Strategic Sparring"]}],MB=()=>{const e=g.useRef(null),t=ra(e,{once:!0,margin:"-100px"});return o.jsx("section",{id:"programs",className:"section-padding bg-background",ref:e,children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Training Programs"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mb-4",children:["TRAIN WITH ",o.jsx("span",{className:"text-primary",children:"PURPOSE"})]}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Structured programs for every age and skill level. Find your path to mastery."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:DB.map((n,r)=>o.jsxs(V.div,{initial:{opacity:0,y:40},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:r*.1},whileHover:{y:-8},className:"group relative bg-card border border-border p-8 transition-all duration-300 hover:border-primary/50 cursor-pointer",children:[o.jsx(V.div,{initial:{width:0},whileHover:{width:"100%"},className:"absolute bottom-0 left-0 h-1 bg-primary"}),o.jsx("div",{className:"w-14 h-14 bg-primary/10 border border-primary/30 flex items-center justify-center mb-6 transition-all duration-300 group-hover:bg-primary group-hover:border-primary",children:o.jsx(n.icon,{className:"w-7 h-7 text-primary transition-colors group-hover:text-primary-foreground"})}),o.jsx("div",{className:"flex items-center gap-3 mb-4",children:o.jsx("h3",{className:"font-display text-xl tracking-wider",children:n.title})}),o.jsx("span",{className:"inline-block text-xs text-primary bg-primary/10 px-2 py-1 mb-4",children:n.age}),o.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:n.description}),o.jsx("ul",{className:"space-y-2",children:n.features.map(s=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-primary"}),s]},s))})]},n.title))})]})})},mm=[{id:"1",image_url:Fl,alt:"Karate training session",span:"col-span-2 row-span-2"},{id:"2",image_url:ad,alt:"Sensei demonstration",span:"col-span-1 row-span-1"},{id:"3",image_url:Fl,alt:"Competition moment",span:"col-span-1 row-span-1"},{id:"4",image_url:ad,alt:"Belt ceremony",span:"col-span-1 row-span-2"},{id:"5",image_url:Fl,alt:"Kids class",span:"col-span-1 row-span-1"},{id:"6",image_url:ad,alt:"Team training",span:"col-span-1 row-span-1"}],NE="site.gallery.items";function _c(){try{const e=localStorage.getItem(NE);if(!e)return mm;const t=JSON.parse(e);return Array.isArray(t)?t:mm}catch{return mm}}function Qv(e){localStorage.setItem(NE,JSON.stringify(e))}function LB(e){const t=_c(),n=String(Date.now()),r=[...t,{id:n,...e}];return Qv(r),r}function $B(e){const n=_c().filter(r=>r.id!==e);return Qv(n),n}const FB=()=>{const e=g.useRef(null),t=ra(e,{once:!0,margin:"-100px"}),[n,r]=g.useState(null),[s,i]=g.useState(()=>_c());return g.useEffect(()=>{function a(l){l.key==="site.gallery.items"&&i(_c())}return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),o.jsxs("section",{id:"gallery",className:"section-padding bg-background",ref:e,children:[o.jsxs("div",{className:"container-custom",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Gallery"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl",children:["MOMENTS OF ",o.jsx("span",{className:"text-primary",children:"EXCELLENCE"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 auto-rows-[200px]",children:s.map((a,l)=>o.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:t?{opacity:1,scale:1}:{},transition:{duration:.5,delay:l*.05},whileHover:{scale:1.02},className:`relative overflow-hidden cursor-pointer group ${a.span||""}`,onClick:()=>r(a.image_url),children:[o.jsx("img",{src:a.image_url,alt:a.alt,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors duration-300"})]},a.id))})]}),n&&o.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",onClick:()=>r(null),children:[o.jsx("button",{className:"absolute top-6 right-6 text-white hover:text-primary transition-colors",onClick:()=>r(null),children:o.jsx(Mo,{className:"w-8 h-8"})}),o.jsx(V.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},src:n,alt:"Gallery image",className:"max-w-full max-h-[90vh] object-contain"})]})]})};function UB(){return dn({queryKey:["classes"],queryFn:async()=>{const{data:e,error:t}=await K.from("classes").select("*").eq("is_active",!0).order("day_of_week");if(t)throw t;return e}})}function VB(e){const t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n=new Date,r=t[n.getDay()===0?6:n.getDay()-1];return dn({queryKey:["upcoming-classes",e],queryFn:async()=>{let s=K.from("classes").select("*").eq("is_active",!0);e&&e!=="all"&&(s=s.eq("program",e));const{data:i,error:a}=await s;if(a)throw a;const l=t.indexOf(r);return i.sort((u,d)=>{const h=t.indexOf(u.day_of_week),f=t.indexOf(d.day_of_week),m=h>=l?h-l:h+7-l,v=f>=l?f-l:f+7-l;return m!==v?m-v:u.start_time.localeCompare(d.start_time)})}})}const BB=()=>{const e=g.useRef(null),t=ra(e,{once:!0,margin:"-100px"}),{data:n}=UB(),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(h=>{const f=(n||[]).filter(m=>m.day_of_week===h).map(m=>({time:m.start_time,name:m.title}));return{day:h,classes:f}}).filter(h=>h.classes.length>0),i=new Set;(n||[]).forEach(h=>{h.location&&i.add(h.location)});const a=Array.from(i).slice(0,6).map(h=>({name:h,address:"",city:"",phone:""})),l=[{day:"Monday",classes:[{time:"4:00 PM",name:"Kids Karate"},{time:"6:00 PM",name:"Adult Beginners"}]},{day:"Tuesday",classes:[{time:"5:00 PM",name:"Teen Training"},{time:"7:00 PM",name:"Adult Advanced"}]},{day:"Wednesday",classes:[{time:"4:00 PM",name:"Kids Karate"},{time:"6:00 PM",name:"Self Defense"}]},{day:"Thursday",classes:[{time:"5:00 PM",name:"Kata Focus"},{time:"7:00 PM",name:"Sparring"}]},{day:"Friday",classes:[{time:"4:00 PM",name:"Kids Karate"},{time:"6:00 PM",name:"Open Training"}]},{day:"Saturday",classes:[{time:"10:00 AM",name:"Competition Team"},{time:"12:00 PM",name:"Family Class"}]}],c=[{name:"Main Dojo",address:"1234 Warrior Way, Suite 100",city:"Los Angeles, CA 90001",phone:"(555) 123-4567"},{name:"Westside Branch",address:"5678 Champions Blvd",city:"Santa Monica, CA 90401",phone:"(555) 987-6543"}],u=s.length>0?s:l,d=a.length>0?a:c;return o.jsx("section",{id:"schedule",className:"section-padding bg-secondary/30",ref:e,children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Locations & Schedule"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl",children:["FIND YOUR ",o.jsx("span",{className:"text-primary",children:"CLASS"})]})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-display text-2xl mb-6 flex items-center gap-3",children:[o.jsx(Ly,{className:"w-6 h-6 text-primary"}),"Locations"]}),d.map((h,f)=>o.jsxs(V.div,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:f*.1},className:"bg-card border border-border p-5 hover:border-primary/50 transition-all",children:[o.jsx("h4",{className:"font-display text-lg text-primary mb-2",children:h.name}),h.address&&o.jsx("p",{className:"text-muted-foreground text-sm",children:h.address}),h.city&&o.jsx("p",{className:"text-muted-foreground text-sm",children:h.city}),h.phone&&o.jsx("p",{className:"text-foreground text-sm mt-2 font-medium",children:h.phone}),o.jsx(V.div,{className:"w-3 h-3 bg-primary rounded-full mt-4",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}})]},h.name))]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("h3",{className:"font-display text-2xl mb-6 flex items-center gap-3",children:[o.jsx(Do,{className:"w-6 h-6 text-primary"}),"Weekly Schedule"]}),o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((h,f)=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{delay:f*.05},whileHover:{scale:1.02},className:"bg-card border border-border p-5 hover:border-primary/50 transition-all",children:[o.jsx("h4",{className:"font-display text-xl text-primary mb-4",children:h.day}),o.jsx("div",{className:"space-y-3",children:h.classes.map(m=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground w-16 flex-shrink-0 pt-0.5",children:m.time}),o.jsx("span",{className:"text-sm",children:m.name})]},m.time))})]},h.day))})]})]})]})})};function zB(){return o.jsxs("section",{id:"contact",className:"py-20 md:py-32 px-4 md:px-8 bg-black relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-red-600 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-yellow-600 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:[o.jsxs(V.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[o.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["READY TO BEGIN YOUR ",o.jsx("span",{className:"text-red-600",children:"JOURNEY?"})]}),o.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Train with purpose. Rise with discipline. Join a community dedicated to excellence and personal growth."})]}),o.jsxs(V.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",children:[o.jsxs(V.a,{href:"https://wa.me/254713178790?text=I%20want%20to%20join%20the%20karate%20dojo",target:"_blank",rel:"noopener noreferrer",animate:{boxShadow:["0 0 20px rgba(34, 197, 94, 0.3)","0 0 40px rgba(34, 197, 94, 0.6)","0 0 20px rgba(34, 197, 94, 0.3)"]},transition:{duration:3,repeat:1/0},className:"group px-10 py-5 bg-green-600 hover:bg-green-700 text-white font-bold text-lg flex items-center justify-center gap-3 transition-all duration-300",children:[o.jsx(qj,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),"WHATSAPP JOIN"]}),o.jsxs("a",{href:"mailto:kevokiash@gmail.com?subject=Karate%20Training%20Inquiry",className:"group px-10 py-5 bg-red-600 hover:bg-red-700 text-white font-bold text-lg flex items-center justify-center gap-3 transition-all duration-300 hover:shadow-lg hover:shadow-red-600/50",children:[o.jsx(My,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),"EMAIL CONTACT"]})]}),o.jsxs(V.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8,delay:.4},className:"grid md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"p-6 bg-gray-950 border-2 border-gray-800 rounded-lg hover:border-red-600 transition-colors",children:[o.jsx("p",{className:"text-4xl font-bold text-yellow-600 mb-2",children:"100%"}),o.jsx("p",{className:"text-gray-400",children:"Money-back guarantee if you're not satisfied after your first month"})]}),o.jsxs("div",{className:"p-6 bg-gray-950 border-2 border-gray-800 rounded-lg hover:border-yellow-600 transition-colors",children:[o.jsx("p",{className:"text-4xl font-bold text-red-600 mb-2",children:""}),o.jsx("p",{className:"text-gray-400",children:"Lifetime access to our online knowledge base and community"})]}),o.jsxs("div",{className:"p-6 bg-gray-950 border-2 border-gray-800 rounded-lg hover:border-green-600 transition-colors",children:[o.jsx("p",{className:"text-4xl font-bold text-green-600 mb-2",children:"FREE"}),o.jsx("p",{className:"text-gray-400",children:"First class is free  no commitment required to try us out"})]})]})]})]})}const WB=zB,HB=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(jB,{}),o.jsxs("main",{children:[o.jsx(EB,{}),o.jsx(PB,{}),o.jsx(RB,{}),o.jsx(IB,{}),o.jsx(MB,{}),o.jsx(FB,{}),o.jsx(BB,{}),o.jsx(WB,{})]}),o.jsx(kB,{})]}),qt=g.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));qt.displayName="Input";var qB="Label",CE=g.forwardRef((e,t)=>o.jsx(ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));CE.displayName=qB;var EE=CE;const KB=Nh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=g.forwardRef(({className:e,...t},n)=>o.jsx(EE,{ref:n,className:oe(KB(),e),...t}));et.displayName=EE.displayName;var je;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(je||(je={}));var h1;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(h1||(h1={}));const Y=je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ls=e=>{switch(typeof e){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return Number.isNaN(e)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(e)?Y.array:e===null?Y.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Y.promise:typeof Map<"u"&&e instanceof Map?Y.map:typeof Set<"u"&&e instanceof Set?Y.set:typeof Date<"u"&&e instanceof Date?Y.date:Y.object;default:return Y.unknown}},M=je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Vr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vr.create=e=>new Vr(e);const kg=(e,t)=>{let n;switch(e.code){case M.invalid_type:e.received===Y.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case M.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,je.jsonStringifyReplacer)}`;break;case M.unrecognized_keys:n=`Unrecognized key(s) in object: ${je.joinValues(e.keys,", ")}`;break;case M.invalid_union:n="Invalid input";break;case M.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${je.joinValues(e.options)}`;break;case M.invalid_enum_value:n=`Invalid enum value. Expected ${je.joinValues(e.options)}, received '${e.received}'`;break;case M.invalid_arguments:n="Invalid function arguments";break;case M.invalid_return_type:n="Invalid function return type";break;case M.invalid_date:n="Invalid date";break;case M.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:je.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case M.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case M.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case M.custom:n="Invalid input";break;case M.invalid_intersection_types:n="Intersection results could not be merged";break;case M.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case M.not_finite:n="Number must be finite";break;default:n=t.defaultError,je.assertNever(e)}return{message:n}};let GB=kg;function YB(){return GB}const QB=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function q(e,t){const n=YB(),r=QB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===kg?void 0:kg].filter(s=>!!s)});e.common.issues.push(r)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return le;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return ln.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return le;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const le=Object.freeze({status:"aborted"}),xl=e=>({status:"dirty",value:e}),En=e=>({status:"valid",value:e}),f1=e=>e.status==="aborted",m1=e=>e.status==="dirty",No=e=>e.status==="valid",Xd=e=>typeof Promise<"u"&&e instanceof Promise;var Z;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Z||(Z={}));class Ks{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const p1=(e,t)=>{if(No(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vr(e.common.issues);return this._error=n,this._error}}};function ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class _e{get description(){return this._def.description}_getType(t){return ls(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ln,ctx:{common:t.parent.common,data:t.data,parsedType:ls(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Xd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},s=this._parseSync({data:t,path:r.path,parent:r});return p1(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return No(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>No(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ls(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Xd(s)?s:Promise.resolve(s));return p1(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:M.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Eo({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fs.create(this,this._def)}nullable(){return To.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dr.create(this)}promise(){return rh.create(this,this._def)}or(t){return th.create([this,t],this._def)}and(t){return nh.create(this,t,this._def)}transform(t){return new Eo({...ge(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Cg({...ge(this._def),innerType:this,defaultValue:n,typeName:ce.ZodDefault})}brand(){return new xz({typeName:ce.ZodBranded,type:this,...ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Eg({...ge(this._def),innerType:this,catchValue:n,typeName:ce.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Zv.create(this,t)}readonly(){return Tg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ZB=/^c[^\s-]{8,}$/i,JB=/^[0-9a-z]+$/,XB=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ez=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tz=/^[a-z0-9_-]{21}$/i,nz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pm;const az=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hz=new RegExp(`^${TE}$`);function PE(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function fz(e){return new RegExp(`^${PE(e)}$`)}function mz(e){let t=`${TE}T${PE(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function pz(e,t){return!!((t==="v4"||!t)&&az.test(e)||(t==="v6"||!t)&&lz.test(e))}function gz(e,t){if(!nz.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function yz(e,t){return!!((t==="v4"||!t)&&oz.test(e)||(t==="v6"||!t)&&cz.test(e))}class Ns extends _e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Y.string){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_type,expected:Y.string,received:i.parsedType}),le}const r=new ln;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?q(s,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&q(s,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")sz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"email",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")pm||(pm=new RegExp(iz,"u")),pm.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"emoji",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ez.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"uuid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")tz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"nanoid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")ZB.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")JB.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid2",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")XB.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ulid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),q(s,{validation:"url",code:M.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"regex",code:M.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?mz(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?hz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?fz(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?rz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"duration",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?pz(t.data,i.version)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ip",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?gz(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"jwt",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?yz(t.data,i.version)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cidr",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?uz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"base64",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?dz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"base64url",code:M.invalid_string,message:i.message}),r.dirty()):je.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:M.invalid_string,...Z.errToObj(r)})}_addCheck(t){return new Ns({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Z.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Z.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Z.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Z.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Z.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Z.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Z.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Z.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Z.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Z.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Z.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Z.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Z.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Z.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Z.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Z.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Z.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Z.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Z.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Z.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Z.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Z.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Z.errToObj(n)})}nonempty(t){return this.min(1,Z.errToObj(t))}trim(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ns({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ns.create=e=>new Ns({checks:[],typeName:ce.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ge(e)});function vz(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class Sc extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Y.number){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_type,expected:Y.number,received:i.parsedType}),le}let r;const s=new ln;for(const i of this._def.checks)i.kind==="int"?je.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:M.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?vz(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:M.not_finite,message:i.message}),s.dirty()):je.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Z.toString(n))}setLimit(t,n,r,s){return new Sc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(s)}]})}_addCheck(t){return new Sc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Z.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Z.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&je.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Sc.create=e=>new Sc({checks:[],typeName:ce.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class jc extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Y.bigint)return this._getInvalidInput(t);let r;const s=new ln;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):je.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return q(n,{code:M.invalid_type,expected:Y.bigint,received:n.parsedType}),le}gte(t,n){return this.setLimit("min",t,!0,Z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Z.toString(n))}setLimit(t,n,r,s){return new jc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(s)}]})}_addCheck(t){return new jc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}jc.create=e=>new jc({checks:[],typeName:ce.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ge(e)});class g1 extends _e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Y.boolean){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:Y.boolean,received:r.parsedType}),le}return En(t.data)}}g1.create=e=>new g1({typeName:ce.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class eh extends _e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Y.date){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_type,expected:Y.date,received:i.parsedType}),le}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_date}),le}const r=new ln;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):je.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new eh({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Z.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Z.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}eh.create=e=>new eh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ce.ZodDate,...ge(e)});class y1 extends _e{_parse(t){if(this._getType(t)!==Y.symbol){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:Y.symbol,received:r.parsedType}),le}return En(t.data)}}y1.create=e=>new y1({typeName:ce.ZodSymbol,...ge(e)});class v1 extends _e{_parse(t){if(this._getType(t)!==Y.undefined){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:Y.undefined,received:r.parsedType}),le}return En(t.data)}}v1.create=e=>new v1({typeName:ce.ZodUndefined,...ge(e)});class x1 extends _e{_parse(t){if(this._getType(t)!==Y.null){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:Y.null,received:r.parsedType}),le}return En(t.data)}}x1.create=e=>new x1({typeName:ce.ZodNull,...ge(e)});class w1 extends _e{constructor(){super(...arguments),this._any=!0}_parse(t){return En(t.data)}}w1.create=e=>new w1({typeName:ce.ZodAny,...ge(e)});class b1 extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return En(t.data)}}b1.create=e=>new b1({typeName:ce.ZodUnknown,...ge(e)});class Gs extends _e{_parse(t){const n=this._getOrReturnCtx(t);return q(n,{code:M.invalid_type,expected:Y.never,received:n.parsedType}),le}}Gs.create=e=>new Gs({typeName:ce.ZodNever,...ge(e)});class _1 extends _e{_parse(t){if(this._getType(t)!==Y.undefined){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:Y.void,received:r.parsedType}),le}return En(t.data)}}_1.create=e=>new _1({typeName:ce.ZodVoid,...ge(e)});class dr extends _e{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Y.array)return q(n,{code:M.invalid_type,expected:Y.array,received:n.parsedType}),le;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(q(n,{code:a?M.too_big:M.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(q(n,{code:M.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(q(n,{code:M.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Ks(n,a,n.path,l)))).then(a=>ln.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Ks(n,a,n.path,l)));return ln.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new dr({...this._def,minLength:{value:t,message:Z.toString(n)}})}max(t,n){return new dr({...this._def,maxLength:{value:t,message:Z.toString(n)}})}length(t,n){return new dr({...this._def,exactLength:{value:t,message:Z.toString(n)}})}nonempty(t){return this.min(1,t)}}dr.create=(e,t)=>new dr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ge(t)});function _a(e){if(e instanceof Je){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Fs.create(_a(r))}return new Je({...e._def,shape:()=>t})}else return e instanceof dr?new dr({...e._def,type:_a(e.element)}):e instanceof Fs?Fs.create(_a(e.unwrap())):e instanceof To?To.create(_a(e.unwrap())):e instanceof Gi?Gi.create(e.items.map(t=>_a(t))):e}class Je extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=je.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Y.object){const u=this._getOrReturnCtx(t);return q(u,{code:M.invalid_type,expected:Y.object,received:u.parsedType}),le}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ks(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Gs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(q(s,{code:M.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ks(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>ln.mergeObjectSync(r,u)):ln.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Z.errToObj,new Je({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Z.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(t){return new Je({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Je({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ce.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Je({...this._def,catchall:t})}pick(t){const n={};for(const r of je.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Je({...this._def,shape:()=>n})}omit(t){const n={};for(const r of je.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Je({...this._def,shape:()=>n})}deepPartial(){return _a(this)}partial(t){const n={};for(const r of je.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new Je({...this._def,shape:()=>n})}required(t){const n={};for(const r of je.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Fs;)i=i._def.innerType;n[r]=i}return new Je({...this._def,shape:()=>n})}keyof(){return RE(je.objectKeys(this.shape))}}Je.create=(e,t)=>new Je({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:ce.ZodObject,...ge(t)});Je.strictCreate=(e,t)=>new Je({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:ce.ZodObject,...ge(t)});Je.lazycreate=(e,t)=>new Je({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:ce.ZodObject,...ge(t)});class th extends _e{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Vr(l.ctx.common.issues));return q(n,{code:M.invalid_union,unionErrors:a}),le}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Vr(c));return q(n,{code:M.invalid_union,unionErrors:l}),le}}get options(){return this._def.options}}th.create=(e,t)=>new th({options:e,typeName:ce.ZodUnion,...ge(t)});function Ng(e,t){const n=ls(e),r=ls(t);if(e===t)return{valid:!0,data:e};if(n===Y.object&&r===Y.object){const s=je.objectKeys(t),i=je.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=Ng(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===Y.array&&r===Y.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=Ng(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===Y.date&&r===Y.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class nh extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(f1(i)||f1(a))return le;const l=Ng(i.value,a.value);return l.valid?((m1(i)||m1(a))&&n.dirty(),{status:n.value,value:l.data}):(q(r,{code:M.invalid_intersection_types}),le)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nh.create=(e,t,n)=>new nh({left:e,right:t,typeName:ce.ZodIntersection,...ge(n)});class Gi extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.array)return q(r,{code:M.invalid_type,expected:Y.array,received:r.parsedType}),le;if(r.data.length<this._def.items.length)return q(r,{code:M.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),le;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:M.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ks(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>ln.mergeArray(n,a)):ln.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Gi({...this._def,rest:t})}}Gi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gi({items:e,typeName:ce.ZodTuple,rest:null,...ge(t)})};class S1 extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.map)return q(r,{code:M.invalid_type,expected:Y.map,received:r.parsedType}),le;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Ks(r,l,r.path,[u,"key"])),value:i._parse(new Ks(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return le;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}S1.create=(e,t,n)=>new S1({valueType:t,keyType:e,typeName:ce.ZodMap,...ge(n)});class kc extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.set)return q(r,{code:M.invalid_type,expected:Y.set,received:r.parsedType}),le;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(q(r,{code:M.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(q(r,{code:M.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return le;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Ks(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,n){return new kc({...this._def,minSize:{value:t,message:Z.toString(n)}})}max(t,n){return new kc({...this._def,maxSize:{value:t,message:Z.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}kc.create=(e,t)=>new kc({valueType:e,minSize:null,maxSize:null,typeName:ce.ZodSet,...ge(t)});class j1 extends _e{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}j1.create=(e,t)=>new j1({getter:e,typeName:ce.ZodLazy,...ge(t)});class k1 extends _e{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return q(n,{received:n.data,code:M.invalid_literal,expected:this._def.value}),le}return{status:"valid",value:t.data}}get value(){return this._def.value}}k1.create=(e,t)=>new k1({value:e,typeName:ce.ZodLiteral,...ge(t)});function RE(e,t){return new Co({values:e,typeName:ce.ZodEnum,...ge(t)})}class Co extends _e{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return q(n,{expected:je.joinValues(r),received:n.parsedType,code:M.invalid_type}),le}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return q(n,{received:n.data,code:M.invalid_enum_value,options:r}),le}return En(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Co.create(t,{...this._def,...n})}exclude(t,n=this._def){return Co.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Co.create=RE;class N1 extends _e{_parse(t){const n=je.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Y.string&&r.parsedType!==Y.number){const s=je.objectValues(n);return q(r,{expected:je.joinValues(s),received:r.parsedType,code:M.invalid_type}),le}if(this._cache||(this._cache=new Set(je.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=je.objectValues(n);return q(r,{received:r.data,code:M.invalid_enum_value,options:s}),le}return En(t.data)}get enum(){return this._def.values}}N1.create=(e,t)=>new N1({values:e,typeName:ce.ZodNativeEnum,...ge(t)});class rh extends _e{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.promise&&n.common.async===!1)return q(n,{code:M.invalid_type,expected:Y.promise,received:n.parsedType}),le;const r=n.parsedType===Y.promise?n.data:Promise.resolve(n.data);return En(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}rh.create=(e,t)=>new rh({type:e,typeName:ce.ZodPromise,...ge(t)});class Eo extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{q(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return le;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?le:c.status==="dirty"||n.value==="dirty"?xl(c.value):c});{if(n.value==="aborted")return le;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?le:l.status==="dirty"||n.value==="dirty"?xl(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?le:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?le:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!No(a))return le;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>No(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):le);je.assertNever(s)}}Eo.create=(e,t,n)=>new Eo({schema:e,typeName:ce.ZodEffects,effect:t,...ge(n)});Eo.createWithPreprocess=(e,t,n)=>new Eo({schema:t,effect:{type:"preprocess",transform:e},typeName:ce.ZodEffects,...ge(n)});class Fs extends _e{_parse(t){return this._getType(t)===Y.undefined?En(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fs.create=(e,t)=>new Fs({innerType:e,typeName:ce.ZodOptional,...ge(t)});class To extends _e{_parse(t){return this._getType(t)===Y.null?En(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}To.create=(e,t)=>new To({innerType:e,typeName:ce.ZodNullable,...ge(t)});class Cg extends _e{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Y.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cg.create=(e,t)=>new Cg({innerType:e,typeName:ce.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ge(t)});class Eg extends _e{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Xd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Eg.create=(e,t)=>new Eg({innerType:e,typeName:ce.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ge(t)});class C1 extends _e{_parse(t){if(this._getType(t)!==Y.nan){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:Y.nan,received:r.parsedType}),le}return{status:"valid",value:t.data}}}C1.create=e=>new C1({typeName:ce.ZodNaN,...ge(e)});class xz extends _e{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zv extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?le:i.status==="dirty"?(n.dirty(),xl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?le:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Zv({in:t,out:n,typeName:ce.ZodPipeline})}}class Tg extends _e{_parse(t){const n=this._def.innerType._parse(t),r=s=>(No(s)&&(s.value=Object.freeze(s.value)),s);return Xd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Tg.create=(e,t)=>new Tg({innerType:e,typeName:ce.ZodReadonly,...ge(t)});Je.lazycreate;var ce;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ce||(ce={}));const Ul=Ns.create;Gs.create;dr.create;const AE=Je.create;Je.strictCreate;th.create;nh.create;Gi.create;Co.create;rh.create;Fs.create;To.create;const wz=AE({email:Ul().email("Please enter a valid email address"),password:Ul().min(6,"Password must be at least 6 characters")}),bz=AE({fullName:Ul().min(2,"Name must be at least 2 characters").max(100),email:Ul().email("Please enter a valid email address"),password:Ul().min(6,"Password must be at least 6 characters")});function _z(){const[e,t]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState("adult"),[d,h]=g.useState(!1),[f,m]=g.useState(!1),[v,p]=g.useState({}),{signIn:x,signUp:y,user:w}=pt(),b=ot(),{toast:_}=mr();g.useEffect(()=>{if(!w)return;(async()=>{try{const{data:k}=await K.from("user_roles").select("role").eq("user_id",w.id).maybeSingle(),N=k==null?void 0:k.role;if(N==="instructor"||N==="admin"){b("/instructor");return}const{data:T}=await K.from("profiles").select("program, belt_rank").eq("user_id",w.id).maybeSingle();T&&T.program?b("/dashboard"):b("/onboarding")}catch{b("/dashboard")}})()},[w,b]);const S=async j=>{j.preventDefault(),p({}),m(!0);try{if(e){const k=bz.safeParse({fullName:a,email:n,password:s});if(!k.success){const T={};k.error.errors.forEach(E=>{E.path[0]&&(T[E.path[0]]=E.message)}),p(T),m(!1);return}const{error:N}=await y(n,s,a,c);if(N)N.message.includes("already registered")?_({title:"Account exists",description:"This email is already registered. Please sign in instead.",variant:"destructive"}):_({title:"Sign up failed",description:N.message,variant:"destructive"});else{_({title:"Welcome to Iron Fist Dojo!",description:"Your account has been created. Redirecting to setup..."});const{error:T}=await x(n,s);if(T)_({title:"Check your email",description:"Please confirm your email address to complete registration.",variant:"default"});else{b("/onboarding");return}}}else{const k=wz.safeParse({email:n,password:s});if(!k.success){const T={};k.error.errors.forEach(E=>{E.path[0]&&(T[E.path[0]]=E.message)}),p(T),m(!1);return}const{error:N}=await x(n,s);N&&_({title:"Sign in failed",description:"Invalid email or password. Please try again.",variant:"destructive"})}}catch{_({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}m(!1)};return o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/src/assets/hero-karate.jpg)"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/50 to-transparent"}),o.jsx("div",{className:"relative z-10 flex flex-col justify-center p-12",children:o.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[o.jsxs("h1",{className:"font-display text-5xl text-foreground tracking-wider mb-4",children:["IRON FIST",o.jsx("br",{}),"DOJO"]}),o.jsx("p",{className:"text-muted-foreground text-lg max-w-md",children:"Begin your martial arts journey. Train with purpose. Master yourself."})]})})]}),o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"font-display text-3xl text-foreground tracking-wide mb-2",children:e?"JOIN THE DOJO":"WELCOME BACK"}),o.jsx("p",{className:"text-muted-foreground",children:e?"Create your account to start training":"Sign in to access your dashboard"})]}),o.jsxs("form",{onSubmit:S,className:"space-y-5",children:[e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(et,{htmlFor:"fullName",className:"text-foreground",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(qt,{id:"fullName",type:"text",value:a,onChange:j=>l(j.target.value),placeholder:"Enter your full name",className:"pl-10 bg-secondary border-border focus:border-primary"})]}),v.fullName&&o.jsx("p",{className:"text-sm text-destructive",children:v.fullName})]}),e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(et,{htmlFor:"registrationType",className:"text-foreground",children:"Registration Type"}),o.jsx("div",{className:"relative",children:o.jsxs("select",{id:"registrationType",value:c,onChange:j=>u(j.target.value),className:"w-full pl-3 pr-3 py-2 bg-secondary border-border rounded-md",children:[o.jsx("option",{value:"adult",children:"Adult"}),o.jsx("option",{value:"child",children:"Child (Parent-managed)"}),o.jsx("option",{value:"trial",children:"Trial"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(et,{htmlFor:"email",className:"text-foreground",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(My,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(qt,{id:"email",type:"email",value:n,onChange:j=>r(j.target.value),placeholder:"Enter your email",className:"pl-10 bg-secondary border-border focus:border-primary"})]}),v.email&&o.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(et,{htmlFor:"password",className:"text-foreground",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(sc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(qt,{id:"password",type:d?"text":"password",value:s,onChange:j=>i(j.target.value),placeholder:"Enter your password",className:"pl-10 pr-10 bg-secondary border-border focus:border-primary"}),o.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:d?o.jsx(wp,{className:"w-5 h-5"}):o.jsx(Wj,{className:"w-5 h-5"})})]}),v.password&&o.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),o.jsx(F,{type:"submit",variant:"hero",className:"w-full",disabled:f,children:f?"Please wait...":e?"Create Account":"Sign In"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-muted-foreground",children:[e?"Already have an account?":"Don't have an account?",o.jsx("button",{type:"button",onClick:()=>{t(!e),p({})},className:"ml-2 text-primary hover:text-primary/80 font-medium",children:e?"Sign in":"Sign up"})]})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("a",{href:"/",className:"text-muted-foreground hover:text-foreground text-sm",children:" Back to home"})})]})})]})}function Sz(e){const t=e.split(":").map(s=>parseInt(s,10)),n=Number.isNaN(t[0])?0:t[0],r=Number.isNaN(t[1])?0:t[1];return{hours:n,minutes:r}}function jz(e){return(()=>{var n,r;const t=dn({queryKey:["next-class",e],queryFn:async()=>{let s=K.from("classes").select("*").eq("is_active",!0);e&&e!=="all"&&(s=s.eq("program",e));const{data:i,error:a}=await s;if(a)throw a;const l=i||[],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=new Date;let d=null;for(const h of l){if(!h.day_of_week||!h.start_time)continue;const f=c.indexOf(h.day_of_week);if(f===-1)continue;const{hours:m,minutes:v}=Sz(h.start_time),p=u.getDay();let x=f-p;x<0&&(x+=7);const y=new Date(u);y.setHours(0,0,0,0),y.setDate(y.getDate()+x),y.setHours(m,v,0,0),y<=u&&y.setDate(y.getDate()+7),y>u&&(!d||y<d.startsAt)&&(d={cls:h,startsAt:y})}return{nextClass:d?d.cls:null,startsAt:d?d.startsAt:null}}});return{nextClass:((n=t.data)==null?void 0:n.nextClass)??null,startsAt:((r=t.data)==null?void 0:r.startsAt)??null,isLoading:t.isLoading,error:t.error??void 0}})()}function Ae(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ys(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const OE=6048e5,kz=864e5,Iu=43200,E1=1440;let Nz={};function Kc(){return Nz}function Nc(e,t){var l,c,u,d;const n=Kc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ae(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function sh(e){return Nc(e,{weekStartsOn:1})}function IE(e){const t=Ae(e),n=t.getFullYear(),r=Ys(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=sh(r),i=Ys(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=sh(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function T1(e){const t=Ae(e);return t.setHours(0,0,0,0),t}function ih(e){const t=Ae(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Cz(e,t){const n=T1(e),r=T1(t),s=+n-ih(n),i=+r-ih(r);return Math.round((s-i)/kz)}function Ez(e){const t=IE(e),n=Ys(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),sh(n)}function od(e,t){const n=Ae(e),r=Ae(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Tz(e){return Ys(e,Date.now())}function Pz(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rz(e){if(!Pz(e)&&typeof e!="number")return!1;const t=Ae(e);return!isNaN(Number(t))}function Az(e,t){const n=Ae(e),r=Ae(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Oz(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function Iz(e,t){return+Ae(e)-+Ae(t)}function Dz(e){const t=Ae(e);return t.setHours(23,59,59,999),t}function Mz(e){const t=Ae(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Lz(e){const t=Ae(e);return+Dz(t)==+Mz(t)}function $z(e,t){const n=Ae(e),r=Ae(t),s=od(n,r),i=Math.abs(Az(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=od(n,r)===-s;Lz(Ae(e))&&i===1&&od(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function Fz(e,t,n){const r=Iz(e,t)/1e3;return Oz(n==null?void 0:n.roundingMethod)(r)}function Uz(e){const t=Ae(e),n=Ys(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Vz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bz=(e,t,n)=>{let r;const s=Vz[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qz={date:gm({formats:zz,defaultWidth:"full"}),time:gm({formats:Wz,defaultWidth:"full"}),dateTime:gm({formats:Hz,defaultWidth:"full"})},Kz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gz=(e,t,n,r)=>Kz[e];function ll(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Yz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t8=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},n8={ordinalNumber:t8,era:ll({values:Yz,defaultWidth:"wide"}),quarter:ll({values:Qz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ll({values:Zz,defaultWidth:"wide"}),day:ll({values:Jz,defaultWidth:"wide"}),dayPeriod:ll({values:Xz,defaultWidth:"wide",formattingValues:e8,defaultFormattingWidth:"wide"})};function cl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?s8(l,h=>h.test(a)):r8(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function r8(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function s8(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function i8(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const a8=/^(\d+)(th|st|nd|rd)?/i,o8=/\d+/i,l8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c8={any:[/^b/i,/^(a|c)/i]},u8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d8={any:[/1/i,/2/i,/3/i,/4/i]},h8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},m8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},p8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},y8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v8={ordinalNumber:i8({matchPattern:a8,parsePattern:o8,valueCallback:e=>parseInt(e,10)}),era:cl({matchPatterns:l8,defaultMatchWidth:"wide",parsePatterns:c8,defaultParseWidth:"any"}),quarter:cl({matchPatterns:u8,defaultMatchWidth:"wide",parsePatterns:d8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cl({matchPatterns:h8,defaultMatchWidth:"wide",parsePatterns:f8,defaultParseWidth:"any"}),day:cl({matchPatterns:m8,defaultMatchWidth:"wide",parsePatterns:p8,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:g8,defaultMatchWidth:"any",parsePatterns:y8,defaultParseWidth:"any"})},DE={code:"en-US",formatDistance:Bz,formatLong:qz,formatRelative:Gz,localize:n8,match:v8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function x8(e){const t=Ae(e);return Cz(t,Uz(t))+1}function w8(e){const t=Ae(e),n=+sh(t)-+Ez(t);return Math.round(n/OE)+1}function ME(e,t){var d,h,f,m;const n=Ae(e),r=n.getFullYear(),s=Kc(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Ys(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Nc(a,t),c=Ys(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Nc(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function b8(e,t){var l,c,u,d;const n=Kc(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=ME(e,t),i=Ys(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Nc(i,t)}function _8(e,t){const n=Ae(e),r=+Nc(n,t)-+b8(n,t);return Math.round(r/OE)+1}function Te(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Xr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Te(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Te(n+1,2)},d(e,t){return Te(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Te(e.getHours()%12||12,t.length)},H(e,t){return Te(e.getHours(),t.length)},m(e,t){return Te(e.getMinutes(),t.length)},s(e,t){return Te(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Te(s,t.length)}},va={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},P1={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Xr.y(e,t)},Y:function(e,t,n,r){const s=ME(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Te(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Te(i,t.length)},R:function(e,t){const n=IE(e);return Te(n,t.length)},u:function(e,t){const n=e.getFullYear();return Te(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Te(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=_8(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Te(s,t.length)},I:function(e,t,n){const r=w8(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Te(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Xr.d(e,t)},D:function(e,t,n){const r=x8(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Te(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Te(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Te(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=va.noon:r===0?s=va.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=va.evening:r>=12?s=va.afternoon:r>=4?s=va.morning:s=va.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xr.s(e,t)},S:function(e,t){return Xr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return A1(r);case"XXXX":case"XX":return yi(r);case"XXXXX":case"XXX":default:return yi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return A1(r);case"xxxx":case"xx":return yi(r);case"xxxxx":case"xxx":default:return yi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R1(r,":");case"OOOO":default:return"GMT"+yi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R1(r,":");case"zzzz":default:return"GMT"+yi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Te(r,t.length)},T:function(e,t,n){const r=e.getTime();return Te(r,t.length)}};function R1(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Te(i,2)}function A1(e,t){return e%60===0?(e>0?"-":"+")+Te(Math.abs(e)/60,2):yi(e,t)}function yi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Te(Math.trunc(r/60),2),i=Te(r%60,2);return n+s+t+i}const O1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},S8=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return O1(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",O1(r,t)).replace("{{time}}",LE(s,t))},j8={p:LE,P:S8},k8=/^D+$/,N8=/^Y+$/,C8=["D","DD","YY","YYYY"];function E8(e){return k8.test(e)}function T8(e){return N8.test(e)}function P8(e,t,n){const r=R8(e,t,n);if(console.warn(r),C8.includes(e))throw new RangeError(r)}function R8(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const A8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,I8=/^'([^]*?)'?$/,D8=/''/g,M8=/[a-zA-Z]/;function $E(e,t,n){var d,h,f,m;const r=Kc(),s=r.locale??DE,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=Ae(e);if(!Rz(l))throw new RangeError("Invalid time value");let c=t.match(O8).map(v=>{const p=v[0];if(p==="p"||p==="P"){const x=j8[p];return x(v,s.formatLong)}return v}).join("").match(A8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const p=v[0];if(p==="'")return{isToken:!1,value:L8(v)};if(P1[p])return{isToken:!0,value:v};if(p.match(M8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const p=v.value;(T8(p)||E8(p))&&P8(p,t,String(e));const x=P1[p[0]];return x(l,p,s.localize,u)}).join("")}function L8(e){const t=e.match(I8);return t?t[1].replace(D8,"'"):e}function $8(e,t,n){const r=Kc(),s=(n==null?void 0:n.locale)??r.locale??DE,i=2520,a=od(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,u;a>0?(c=Ae(t),u=Ae(e)):(c=Ae(e),u=Ae(t));const d=Fz(u,c),h=(ih(u)-ih(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<E1){const v=Math.round(f/60);return s.formatDistance("aboutXHours",v,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<Iu){const v=Math.round(f/E1);return s.formatDistance("xDays",v,l)}else if(f<Iu*2)return m=Math.round(f/Iu),s.formatDistance("aboutXMonths",m,l)}if(m=$z(u,c),m<12){const v=Math.round(f/Iu);return s.formatDistance("xMonths",v,l)}else{const v=m%12,p=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",p,l):v<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function Jv(e,t){return $8(e,Tz(e),t)}function F8(){const{profile:e,signOut:t}=pt(),{notifications:n,markAsRead:r}=Gv(),s=(n||[]).filter(m=>!m.is_read).length,i=ot(),[a,l]=g.useState(!1),[c,u]=g.useState(!1),d=async()=>{await t(),i("/")},h=async m=>{try{await r(m)}catch(v){console.error("Failed to mark notification read",v)}},f=m=>{const v={white:"bg-white border border-border",yellow:"bg-yellow-400",orange:"bg-orange-500",green:"bg-green-500",blue:"bg-blue-500",brown:"bg-amber-700",black:"bg-black"};return v[m.toLowerCase()]||v.white};return o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b border-border",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{to:"/",className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o.jsx("span",{className:"font-display text-primary-foreground text-lg",children:""})}),o.jsx("span",{className:"font-display text-xl text-foreground tracking-wider hidden sm:block",children:"IRON FIST DOJO"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[o.jsxs(we,{to:"/",className:"text-muted-foreground hover:text-foreground flex items-center gap-2",children:[o.jsx(Od,{className:"w-4 h-4"}),"Home"]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>l(!a),className:"relative p-2 text-muted-foreground hover:text-foreground",children:[o.jsx(Ad,{className:"w-5 h-5"}),s>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary text-primary-foreground text-xs rounded-full flex items-center justify-center",children:s})]}),o.jsx(xc,{children:a&&o.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 top-full mt-2 w-80 bg-card border border-border rounded-lg shadow-xl overflow-hidden",children:[o.jsx("div",{className:"p-3 border-b border-border",children:o.jsx("h3",{className:"font-semibold text-foreground",children:"Notifications"})}),o.jsx("div",{className:"max-h-80 overflow-y-auto",children:(n==null?void 0:n.length)===0?o.jsx("p",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):n==null?void 0:n.slice(0,5).map(m=>o.jsxs("button",{onClick:()=>h(m.id),className:`w-full p-3 text-left hover:bg-secondary/50 border-b border-border last:border-0 ${m.is_read?"":"bg-primary/5"}`,children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:m.title}),o.jsx("p",{className:"text-muted-foreground text-xs mt-1 line-clamp-2",children:m.message??m.body}),o.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:Jv(new Date(m.created_at),{addSuffix:!0})})]},m.id))})]})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-4 h-4 rounded ${f((e==null?void 0:e.belt_rank)||"white")}`}),o.jsx("span",{className:"text-foreground font-medium",children:e==null?void 0:e.full_name})]}),o.jsxs(F,{variant:"outline",size:"sm",onClick:d,children:[o.jsx(I0,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{onClick:()=>u(!c),className:"md:hidden p-2 text-foreground",children:c?o.jsx(Mo,{className:"w-6 h-6"}):o.jsx(Hj,{className:"w-6 h-6"})})]}),o.jsx(xc,{children:c&&o.jsx(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-4 pb-4 border-t border-border pt-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-4 h-4 rounded ${f((e==null?void 0:e.belt_rank)||"white")}`}),o.jsx("span",{className:"text-foreground font-medium",children:e==null?void 0:e.full_name})]}),o.jsxs(we,{to:"/",className:"text-muted-foreground hover:text-foreground flex items-center gap-2",children:[o.jsx(Od,{className:"w-4 h-4"}),"Home"]}),o.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[o.jsx(Ad,{className:"w-4 h-4"}),"Notifications",s>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 bg-primary text-primary-foreground text-xs rounded-full",children:s})]}),o.jsxs(F,{variant:"outline",size:"sm",onClick:d,className:"w-fit",children:[o.jsx(I0,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})})]})})}function ul(e){return e.toString().padStart(2,"0")}function ym(e){const t=e.getUTCFullYear(),n=ul(e.getUTCMonth()+1),r=ul(e.getUTCDate()),s=ul(e.getUTCHours()),i=ul(e.getUTCMinutes()),a=ul(e.getUTCSeconds());return`${t}${n}${r}T${s}${i}${a}Z`}function FE(e){const t=e.uid||`${Date.now()}@iron-fist-dojo`,n=ym(new Date),r=ym(e.startsAt),s=ym(e.endsAt),i=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Iron Fist Dojo//EN","CALSCALE:GREGORIAN","BEGIN:VEVENT",`UID:${t}`,`DTSTAMP:${n}`,`DTSTART:${r}`,`DTEND:${s}`,`SUMMARY:${vm(e.title)}`];return e.description&&i.push(`DESCRIPTION:${vm(e.description)}`),e.location&&i.push(`LOCATION:${vm(e.location)}`),i.push("END:VEVENT","END:VCALENDAR"),i.join(`\r
`)}function vm(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/,/g,",")}function UE(e){const t=e.startsAt.toISOString().replace(/-|:|\.\d{3}Z/g,""),n=e.endsAt.toISOString().replace(/-|:|\.\d{3}Z/g,"");return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:e.title,details:e.description||"",location:e.location||"",dates:`${t}/${n}`}).toString()}`}function U8(){const{profile:e}=pt(),{data:t,isLoading:n}=VB(e==null?void 0:e.program),r=c=>{const[u,d]=c.split(":"),h=parseInt(u),f=h>=12?"PM":"AM";return`${h%12||12}:${d} ${f}`},s=c=>{const u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=new Date().getDay();let f=u.indexOf(c)-d;return f<0&&(f+=7),f===0?"Today":f===1?"Tomorrow":c};function i(c){if(!c)return 60;const[u,d]=(c||"").split(":").map(h=>parseInt(h||"0",10));return u*60+(d||0)}function a(c,u){const h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(c),f=new Date,m=f.getDay();let v=h-m;v<0&&(v+=7);const p=new Date;p.setDate(f.getDate()+v);const[x="0",y="0"]=(u||"00:00").split(":");return p.setHours(parseInt(x,10)),p.setMinutes(parseInt(y,10)),p.setSeconds(0),p.setMilliseconds(0),p}if(n)return o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-secondary rounded w-1/3"}),o.jsx("div",{className:"space-y-3",children:[1,2,3].map(c=>o.jsx("div",{className:"h-20 bg-secondary rounded"},c))})]})});const l=(t==null?void 0:t.slice(0,4))||[];return o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6",children:[o.jsx("h2",{className:"font-display text-lg sm:text-xl text-foreground tracking-wide",children:"UPCOMING CLASSES"}),o.jsx(Qt,{className:"w-5 h-5 text-primary mt-3 sm:mt-0"})]}),l.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No upcoming classes found"}):o.jsx("div",{className:"space-y-3",children:l.map((c,u)=>o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+u*.05},className:"bg-secondary/50 rounded-lg p-3 sm:p-4 hover:bg-secondary transition-colors",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:c.title}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mt-2 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Do,{className:"w-4 h-4"}),r(c.start_time)," - ",r(c.end_time)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ly,{className:"w-4 h-4"}),c.location]})]})]}),o.jsxs("div",{className:"text-right flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${s(c.day_of_week)==="Today"?"bg-primary text-primary-foreground":s(c.day_of_week)==="Tomorrow"?"bg-gold/20 text-gold":"bg-secondary text-foreground"}`,children:s(c.day_of_week)}),c.level&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:c.level})]}),o.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-2",children:[o.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{const d=a(c.day_of_week,c.start_time),h=new Date(d.getTime()+(i(c.end_time)-i(c.start_time)||60)*6e4),f={title:c.title,description:c.description||c.body||"",location:c.location||"",startsAt:d,endsAt:h},m=UE(f);window.open(m,"_blank")},className:"w-full sm:w-auto",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Google"]}),o.jsx(F,{variant:"ghost",size:"sm",className:"w-full sm:w-auto",onClick:()=>{const d=a(c.day_of_week,c.start_time),h=new Date(d.getTime()+(i(c.end_time)-i(c.start_time)||60)*6e4),f={title:c.title,description:c.description||c.body||"",location:c.location||"",startsAt:d,endsAt:h},m=FE(f),v=new Blob([m],{type:"text/calendar;charset=utf-8"}),p=URL.createObjectURL(v),x=document.createElement("a");x.href=p,x.download=`${(c.title||"event").replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(x),x.click(),x.remove(),setTimeout(()=>URL.revokeObjectURL(p),1e4)},children:"Download"})]})]})]})},c.id))}),o.jsx("a",{href:"#schedule",className:"block mt-4 text-center text-primary hover:text-primary/80 text-sm font-medium",children:"View Full Schedule "})]})}function V8(){return dn({queryKey:["announcements"],queryFn:async()=>{const{data:e,error:t}=await K.from("announcements").select("*").eq("is_published",!0).order("created_at",{ascending:!1});if(t)throw t;return e}})}function VE(){const{data:e,isLoading:t}=V8(),n=s=>{switch(s){case"high":return o.jsx(dO,{className:"w-4 h-4 text-primary"});default:return o.jsx(pO,{className:"w-4 h-4 text-muted-foreground"})}};if(t)return o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-secondary rounded w-1/3"}),o.jsx("div",{className:"space-y-3",children:[1,2].map(s=>o.jsx("div",{className:"h-16 bg-secondary rounded"},s))})]})});const r=(e==null?void 0:e.slice(0,3))||[];return o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6",children:[o.jsx("h2",{className:"font-display text-lg sm:text-xl text-foreground tracking-wide",children:"ANNOUNCEMENTS"}),o.jsx(Id,{className:"w-5 h-5 text-primary mt-3 sm:mt-0"})]}),r.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No announcements"}):o.jsx("div",{className:"space-y-3",children:r.map((s,i)=>o.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+i*.05},className:`rounded-lg p-3 sm:p-4 ${s.priority==="high"?"bg-primary/10 border border-primary/20":"bg-secondary/50"}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:n(s.priority)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground text-sm sm:text-base",children:s.title}),o.jsx("p",{className:"text-muted-foreground text-sm mt-1 line-clamp-3",children:s.content}),o.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:Jv(new Date(s.created_at),{addSuffix:!0})})]})]})},s.id))})]})}const dl=[{name:"White belt",color:"bg-white border border-border",value:0},{name:"Yellow belt",color:"bg-yellow-400",value:1},{name:"Orange belt",color:"bg-orange-500",value:2},{name:"Purple belt",color:"bg-violet-600 text-white",value:3},{name:"Green belt",color:"bg-green-500",value:4},{name:"Brown belt",color:"bg-amber-700",value:5},{name:"Black belt",color:"bg-black text-white",value:6}];function BE(){const{profile:e}=pt(),t=dl.find(s=>{var i;return s.name.toLowerCase()===((i=e==null?void 0:e.belt_rank)==null?void 0:i.toLowerCase())})||dl[0],n=dl[t.value+1],r=(t.value+1)/dl.length*100;return o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"font-display text-xl text-foreground tracking-wide",children:"YOUR PROGRESS"}),o.jsx(Dy,{className:"w-5 h-5 text-gold"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-6",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg ${t.color} flex items-center justify-center shadow-lg flex-shrink-0`,children:t.name==="Black"&&o.jsx("span",{className:"text-white font-display text-sm",children:""})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-foreground font-semibold",children:[t.name," Belt"]}),o.jsxs("p",{className:"text-muted-foreground text-sm capitalize",children:[e==null?void 0:e.program," Program"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Journey Progress"}),o.jsxs("span",{className:"text-foreground font-medium",children:[Math.round(r),"%"]})]}),o.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:o.jsx(V.div,{initial:{width:0},animate:{width:`${r}%`},transition:{delay:.5,duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-primary to-gold rounded-full"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:dl.map((s,i)=>o.jsxs("div",{className:"flex flex-col items-center min-w-[40px]",children:[o.jsx("div",{className:`w-6 h-6 rounded ${s.color} ${i<=t.value?"ring-2 ring-primary ring-offset-2 ring-offset-background":"opacity-40"}`}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1 hidden sm:block text-center",children:s.name.slice(0,2)})]},s.name))})}),n&&o.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(_p,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-muted-foreground",children:"Next goal:"}),o.jsxs("span",{className:"text-foreground font-medium",children:[n.name," Belt"]})]})})]})}function B8(){const{isInstructor:e}=Wv();return o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card border border-border rounded-xl p-6",children:[o.jsx("h2",{className:"font-display text-xl text-foreground tracking-wide mb-6",children:"QUICK ACTIONS"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e&&o.jsx(we,{to:"/instructor",className:"col-span-1 sm:col-span-2",children:o.jsxs(F,{className:"w-full h-auto py-4 flex gap-2 bg-gradient-to-r from-primary to-gold hover:opacity-90",children:[o.jsx(Yj,{className:"w-5 h-5"}),o.jsx("span",{children:"Instructor Panel"})]})}),o.jsx("a",{href:`https://wa.me/${"+254700000000".replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:o.jsxs(F,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2",children:[o.jsx(qj,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-xs",children:"WhatsApp"})]})}),o.jsx("a",{href:"mailto:info@ironfistdojo.com",children:o.jsxs(F,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2",children:[o.jsx(My,{className:"w-5 h-5 text-primary"}),o.jsx("span",{className:"text-xs",children:"Email"})]})}),o.jsx("a",{href:`tel:${"+254 700 000 000".replace(/\s/g,"")}`,children:o.jsxs(F,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2",children:[o.jsx(yO,{className:"w-5 h-5 text-gold"}),o.jsx("span",{className:"text-xs",children:"Call"})]})}),o.jsx(we,{to:"/videos",children:o.jsxs(F,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2 hover:border-primary/50 hover:bg-primary/5",children:[o.jsx(bp,{className:"w-5 h-5 text-primary"}),o.jsx("span",{className:"text-xs",children:"Training Videos"})]})})]})]})}function z8(){var l;const{user:e,profile:t,loading:n}=pt(),r=ot(),{nextClass:s,startsAt:i,isLoading:a}=jz(t==null?void 0:t.program);return g.useEffect(()=>{!n&&!e&&r("/auth")},[e,n,r]),n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]})}):e?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(F8,{}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[o.jsxs(V.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs("h1",{className:"font-display text-3xl md:text-4xl text-foreground tracking-wide",children:["Welcome back, ",((l=t==null?void 0:t.full_name)==null?void 0:l.split(" ")[0])||"Student","!"]}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Your martial arts journey continues. Here's what's happening at the dojo."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsx(H8,{nextClass:s,startsAt:i,isLoading:a}),o.jsx(U8,{}),o.jsx(VE,{})]}),o.jsxs("div",{className:"space-y-6 md:col-span-1",children:[o.jsx(BE,{}),o.jsx(B8,{})]})]}),o.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-8 bg-gradient-to-r from-primary/10 to-gold/10 border border-primary/20 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"font-display text-primary-foreground text-lg",children:""})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-display text-lg text-foreground tracking-wide",children:"MESSAGE FROM SENSEI"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:'"The journey of a thousand miles begins with a single step. Every training session, every kata, every moment of discipline brings you closer to mastery. Train hard, stay humble, and remember  the true battle is always within."'}),o.jsx("p",{className:"text-primary mt-2 font-medium",children:" Sensei Kevin Kiarie"})]})]})})]})]}):null}function I1(e){const[t,n]=e.split(":"),r=parseInt(t||"0",10),s=n?parseInt(n,10):0,i=r>=12?"PM":"AM";return`${r%12===0?12:r%12}:${String(s).padStart(2,"0")} ${i}`}function W8(e){if(!e)return"";const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date,r=Math.floor((e.setHours(0,0,0,0)-n.setHours(0,0,0,0))/(1e3*60*60*24));return r===0?"Today":r===1?"Tomorrow":t[e.getDay()]||""}function H8({nextClass:e,startsAt:t,isLoading:n}){return n?o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-6 w-1/3 bg-secondary rounded mb-4"}),o.jsx("div",{className:"h-12 bg-secondary rounded"})]})}):e?o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-3",children:[o.jsx("h3",{className:"font-display text-xl text-foreground tracking-wide mr-2",children:e.title}),o.jsx("span",{className:"inline-block px-2 py-0.5 text-xs bg-primary text-primary-foreground rounded mt-2 sm:mt-0",children:"Next Class"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[e.program,e.level?`  ${e.level}`:""]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mt-3 text-sm text-muted-foreground",children:[o.jsx("span",{className:"flex items-center gap-2 sm:mr-4",children:e.location}),t&&o.jsxs("span",{children:[W8(new Date(t)),"  ",I1(e.start_time)," - ",I1(e.end_time)]})]})]}),t&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[o.jsxs(F,{variant:"outline",size:"sm",className:"w-full sm:w-auto",onClick:()=>{const r=new Date(t),s=new Date(r.getTime()+(Du(e.end_time)-Du(e.start_time)||60)*6e4),i={title:e.title,description:e.description||e.body||"",location:e.location||"",startsAt:r,endsAt:s},a=UE(i);window.open(a,"_blank")},children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Add to Google"]}),o.jsx(F,{variant:"ghost",size:"sm",className:"w-full sm:w-auto",onClick:()=>{const r=new Date(t),s=new Date(r.getTime()+(Du(e.end_time)-Du(e.start_time)||60)*6e4),i={title:e.title,description:e.description||e.body||"",location:e.location||"",startsAt:r,endsAt:s},a=FE(i),l=new Blob([a],{type:"text/calendar;charset=utf-8"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`${(e.title||"event").replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(c),1e4)},children:"Download .ics"})]})]})}):o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h2",{className:"font-display text-lg text-foreground tracking-wide",children:"NEXT CLASS"})}),o.jsx("p",{className:"text-muted-foreground",children:"No upcoming classes scheduled"})]})}function Du(e){if(!e)return 60;const[t,n]=(e||"").split(":").map(r=>parseInt(r||"0",10));return t*60+(n||0)}function xm({className:e,...t}){return o.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",e),...t})}const D1=[{value:"white",label:"White Belt",color:"bg-gray-100 text-gray-800"},{value:"yellow",label:"Yellow Belt",color:"bg-yellow-400 text-yellow-900"},{value:"orange",label:"Orange Belt",color:"bg-orange-500 text-white"},{value:"green",label:"Green Belt",color:"bg-green-600 text-white"},{value:"blue",label:"Blue Belt",color:"bg-blue-600 text-white"},{value:"purple",label:"Purple Belt",color:"bg-purple-600 text-white"},{value:"brown",label:"Brown Belt",color:"bg-amber-800 text-white"},{value:"black",label:"Black Belt",color:"bg-black text-white"}],q8=[{value:"all",label:"All Videos",icon:""},{value:"kihon",label:"Basics (Kihon)",icon:""},{value:"kata",label:"Kata",icon:""},{value:"kumite",label:"Kumite",icon:""},{value:"conditioning",label:"Conditioning",icon:""},{value:"competition",label:"Competition",icon:""}],zE=e=>D1.find(t=>t.value===e)||D1[0],WE=e=>{if(!e)return"";const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`},HE=e=>dn({queryKey:["videos",e],queryFn:async()=>{let t=K.from("videos").select("*").order("created_at",{ascending:!1});e&&e!=="all"&&(t=t.eq("category",e));const{data:n,error:r}=await t;if(r)throw r;return n}}),br=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));br.displayName="Card";const rs=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));rs.displayName="CardHeader";const ss=g.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ss.displayName="CardTitle";const K8=g.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));K8.displayName="CardDescription";const _r=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));_r.displayName="CardContent";const G8=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));G8.displayName="CardFooter";const Y8=({video:e,userBeltRank:t,onClick:n})=>{const{user:r}=pt(),s=zE(e.minimum_belt_rank),i=e.is_public||r&&t&&M1(t)>=M1(e.minimum_belt_rank);return o.jsx(V.div,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},transition:{duration:.2},children:o.jsxs(br,{className:`group cursor-pointer overflow-hidden border-border/50 bg-card/80 backdrop-blur-sm transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 ${i?"":"opacity-75"}`,onClick:i?n:void 0,children:[o.jsxs("div",{className:"relative aspect-video bg-muted overflow-hidden",children:[e.thumbnail_url?o.jsx("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl opacity-50",children:""})}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:i?o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/90 flex items-center justify-center",children:o.jsx(Kj,{className:"w-8 h-8 text-primary-foreground ml-1",fill:"currentColor"})}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-muted/90 flex items-center justify-center",children:o.jsx(sc,{className:"w-8 h-8 text-muted-foreground"})})}),e.duration_seconds&&o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[o.jsx(Do,{className:"w-3 h-3"}),WE(e.duration_seconds)]}),!i&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsxs(Sn,{variant:"secondary",className:"bg-black/70 text-white border-0",children:[o.jsx(sc,{className:"w-3 h-3 mr-1"}),s.label]})})]}),o.jsxs(_r,{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:o.jsx("h3",{className:"font-semibold text-foreground line-clamp-2 group-hover:text-primary transition-colors",children:e.title})}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:e.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Sn,{variant:"outline",className:`${s.color} border-0 text-xs`,children:s.label}),e.instructor_name&&o.jsx("span",{className:"text-xs text-muted-foreground",children:e.instructor_name}),o.jsx("div",{className:"ml-3",children:o.jsx(Yv,{title:e.title,description:e.description??void 0,url:e.video_url,videoId:e.id})})]})]})]})})};function M1(e){return{white:1,yellow:2,orange:3,green:4,blue:5,purple:6,brown:7,black:8}[e]||0}const Q8=({video:e,isOpen:t,onClose:n})=>{if(!e)return null;const r=zE(e.minimum_belt_rank);return o.jsx(xc,{children:t&&o.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:n,children:o.jsxs(V.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-5xl bg-card rounded-lg overflow-hidden shadow-2xl",onClick:s=>s.stopPropagation(),children:[o.jsx(F,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 bg-black/50 hover:bg-black/70 text-white rounded-full",onClick:n,children:o.jsx(Mo,{className:"w-5 h-5"})}),o.jsx("div",{className:"aspect-video bg-black",children:o.jsx("iframe",{src:e.video_url,title:e.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e.title}),o.jsx("div",{className:"hidden sm:block",children:o.jsx(Yv,{title:e.title,description:e.description??void 0,url:e.video_url,videoId:e.id})})]}),o.jsx(Sn,{className:`${r.color} border-0 shrink-0`,children:r.label})]}),e.description&&o.jsx("p",{className:"text-muted-foreground mb-4",children:e.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.instructor_name&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(js,{className:"w-4 h-4"}),o.jsx("span",{children:e.instructor_name})]}),e.duration_seconds&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Do,{className:"w-4 h-4"}),o.jsx("span",{children:WE(e.duration_seconds)})]})]})]})]})})})},Z8=({selectedCategory:e,onCategoryChange:t})=>o.jsx("div",{className:"flex flex-wrap gap-2",children:q8.map(n=>{const r=e===n.value;return o.jsx(V.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs(F,{variant:r?"default":"outline",size:"sm",onClick:()=>t(n.value),className:`gap-2 ${r?"bg-primary text-primary-foreground shadow-lg shadow-primary/25":"hover:bg-primary/10 hover:border-primary/50"}`,children:[o.jsx("span",{children:n.icon}),o.jsx("span",{children:n.label})]})},n.value)})}),J8=()=>{const{user:e}=pt(),[t,n]=g.useState("all"),[r,s]=g.useState(null),[i,a]=g.useState(!1),{data:l,isLoading:c}=HE(t),{data:u}=dn({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:m}=await K.from("profiles").select("belt_rank").eq("user_id",e.id).maybeSingle();return m},enabled:!!e}),d=m=>{s(m),a(!0)},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:e?"/dashboard":"/",children:o.jsx(F,{variant:"ghost",size:"icon",children:o.jsx(Fc,{className:"w-5 h-5"})})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bp,{className:"w-6 h-6 text-primary"}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Training Videos"})]})]}),!e&&o.jsx(we,{to:"/auth",children:o.jsxs(F,{variant:"default",size:"sm",className:"gap-2",children:[o.jsx(sc,{className:"w-4 h-4"}),"Sign in for full access"]})})]})})}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsx(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:o.jsx(Z8,{selectedCategory:t,onCategoryChange:n})}),!e&&o.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-8 p-4 rounded-lg bg-primary/10 border border-primary/20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(sc,{className:"w-5 h-5 text-primary shrink-0"}),o.jsxs("p",{className:"text-sm text-foreground",children:[o.jsx("strong",{children:"Limited access:"})," Sign in to unlock all videos based on your belt rank. Some videos are only available to registered students."]})]})}),c?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((m,v)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(xm,{className:"aspect-video rounded-lg"}),o.jsx(xm,{className:"h-4 w-3/4"}),o.jsx(xm,{className:"h-3 w-1/2"})]},v))}):l&&l.length>0?o.jsx(V.div,{variants:h,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(m=>o.jsx(V.div,{variants:f,children:o.jsx(Y8,{video:m,userBeltRank:(u==null?void 0:u.belt_rank)||void 0,onClick:()=>d(m)})},m.id))}):o.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[o.jsx(bp,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No videos found"}),o.jsx("p",{className:"text-muted-foreground",children:t!=="all"?"No videos available in this category yet.":"Check back soon for new training content."})]})]}),o.jsx(Q8,{video:r,isOpen:i,onClose:()=>{a(!1),s(null)}})]})};function Xv({current:e}){const t=ot(),n=()=>{t(e==="admin"?"/instructor":"/admin")};return o.jsxs(F,{size:"sm",variant:"ghost",onClick:n,className:"flex items-center gap-2",children:[e==="admin"?o.jsx(ta,{className:"w-4 h-4"}):o.jsx(Od,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:e==="admin"?"Instructor":"Admin"})]})}var X8=g.createContext(void 0);function ex(e){const t=g.useContext(X8);return e||t||"ltr"}var wm="rovingFocusGroup.onEntryFocus",e9={bubbles:!1,cancelable:!0},Gc="RovingFocusGroup",[Pg,qE,t9]=Ry(Gc),[n9,KE]=pr(Gc,[t9]),[r9,s9]=n9(Gc),GE=g.forwardRef((e,t)=>o.jsx(Pg.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Pg.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(i9,{...e,ref:t})})}));GE.displayName=Gc;var i9=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=g.useRef(null),m=Ce(t,f),v=ex(i),[p,x]=Bs({prop:a,defaultProp:l??null,onChange:c,caller:Gc}),[y,w]=g.useState(!1),b=Nn(u),_=qE(n),S=g.useRef(!1),[j,k]=g.useState(0);return g.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(wm,b),()=>N.removeEventListener(wm,b)},[b]),o.jsx(r9,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:p,onItemFocus:g.useCallback(N=>x(N),[x]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:g.useCallback(()=>k(N=>N-1),[]),children:o.jsx(ue.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{S.current=!0}),onFocus:ee(e.onFocus,N=>{const T=!S.current;if(N.target===N.currentTarget&&T&&!y){const E=new CustomEvent(wm,e9);if(N.currentTarget.dispatchEvent(E),!E.defaultPrevented){const D=_().filter($=>$.focusable),P=D.find($=>$.active),z=D.find($=>$.id===p),Q=[P,z,...D].filter(Boolean).map($=>$.ref.current);ZE(Q,d)}}S.current=!1}),onBlur:ee(e.onBlur,()=>w(!1))})})}),YE="RovingFocusGroupItem",QE=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=Rr(),u=i||c,d=s9(YE,n),h=d.currentTabStopId===u,f=qE(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return g.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),o.jsx(Pg.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(ue.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ee(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=l9(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=f().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const _=b.indexOf(x.currentTarget);b=d.loop?c9(b,_+1):b.slice(_+1)}setTimeout(()=>ZE(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:p!=null}):a})})});QE.displayName=YE;var a9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function o9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function l9(e,t,n){const r=o9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return a9[r]}function ZE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function c9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var u9=GE,d9=QE,Wh="Tabs",[h9,i7]=pr(Wh,[KE]),JE=KE(),[f9,tx]=h9(Wh),XE=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ex(l),[h,f]=Bs({prop:r,onChange:s,defaultProp:i??"",caller:Wh});return o.jsx(f9,{scope:n,baseId:Rr(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:o.jsx(ue.div,{dir:d,"data-orientation":a,...u,ref:t})})});XE.displayName=Wh;var eT="TabsList",tT=g.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=tx(eT,n),a=JE(n);return o.jsx(u9,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});tT.displayName=eT;var nT="TabsTrigger",rT=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=tx(nT,n),l=JE(n),c=aT(a.baseId,r),u=oT(a.baseId,r),d=r===a.value;return o.jsx(d9,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ee(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:ee(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:ee(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(r)})})})});rT.displayName=nT;var sT="TabsContent",iT=g.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=tx(sT,n),c=aT(l.baseId,r),u=oT(l.baseId,r),d=r===l.value,h=g.useRef(d);return g.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(zr,{present:s||d,children:({present:f})=>o.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});iT.displayName=sT;function aT(e,t){return`${e}-trigger-${t}`}function oT(e,t){return`${e}-content-${t}`}var m9=XE,lT=tT,cT=rT,uT=iT;const p9=m9,dT=g.forwardRef(({className:e,...t},n)=>o.jsx(lT,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));dT.displayName=lT.displayName;const wl=g.forwardRef(({className:e,...t},n)=>o.jsx(cT,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));wl.displayName=cT.displayName;const bl=g.forwardRef(({className:e,...t},n)=>o.jsx(uT,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bl.displayName=uT.displayName;const nx=g.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));nx.displayName="Textarea";function L1(e,[t,n]){return Math.min(n,Math.max(t,e))}function hT(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var g9=[" ","Enter","ArrowUp","ArrowDown"],y9=[" ","Enter"],Yi="Select",[Hh,qh,v9]=Ry(Yi),[Go,a7]=pr(Yi,[v9,Uo]),Kh=Uo(),[x9,ri]=Go(Yi),[w9,b9]=Go(Yi),fT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:v}=e,p=Kh(t),[x,y]=g.useState(null),[w,b]=g.useState(null),[_,S]=g.useState(!1),j=ex(u),[k,N]=Bs({prop:r,defaultProp:s??!1,onChange:i,caller:Yi}),[T,E]=Bs({prop:a,defaultProp:l,onChange:c,caller:Yi}),D=g.useRef(null),P=x?v||!!x.closest("form"):!0,[z,O]=g.useState(new Set),Q=Array.from(z).map($=>$.props.value).join(";");return o.jsx(Pk,{...p,children:o.jsxs(x9,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Rr(),value:T,onValueChange:E,open:k,onOpenChange:N,dir:j,triggerPointerDownPosRef:D,disabled:f,children:[o.jsx(Hh.Provider,{scope:t,children:o.jsx(w9,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback($=>{O(L=>new Set(L).add($))},[]),onNativeOptionRemove:g.useCallback($=>{O(L=>{const R=new Set(L);return R.delete($),R})},[]),children:n})}),P?o.jsxs(LT,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:$=>E($.target.value),disabled:f,form:v,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(z)]},Q):null]})})};fT.displayName=Yi;var mT="SelectTrigger",pT=g.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Kh(n),a=ri(mT,n),l=a.disabled||r,c=Ce(t,a.onTriggerChange),u=qh(n),d=g.useRef("touch"),[h,f,m]=FT(p=>{const x=u().filter(b=>!b.disabled),y=x.find(b=>b.value===a.value),w=UT(x,p,y);w!==void 0&&a.onValueChange(w.value)}),v=p=>{l||(a.onOpenChange(!0),m()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(Ph,{asChild:!0,...i,children:o.jsx(ue.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":$T(a.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:ee(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:ee(s.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&g9.includes(p.key)&&(v(),p.preventDefault())})})})});pT.displayName=mT;var gT="SelectValue",yT=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=ri(gT,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=Ce(t,c.onValueNodeChange);return _t(()=>{u(d)},[u,d]),o.jsx(ue.span,{...l,ref:h,style:{pointerEvents:"none"},children:$T(c.value)?o.jsx(o.Fragment,{children:a}):i})});yT.displayName=gT;var _9="SelectIcon",vT=g.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});vT.displayName=_9;var S9="SelectPortal",xT=e=>o.jsx(Lc,{asChild:!0,...e});xT.displayName=S9;var Qi="SelectContent",wT=g.forwardRef((e,t)=>{const n=ri(Qi,e.__scopeSelect),[r,s]=g.useState();if(_t(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ea.createPortal(o.jsx(bT,{scope:e.__scopeSelect,children:o.jsx(Hh.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(_T,{...e,ref:t})});wT.displayName=Qi;var Ln=10,[bT,si]=Go(Qi),j9="SelectContentImpl",k9=Wi("SelectContent.RemoveScroll"),_T=g.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x,...y}=e,w=ri(Qi,n),[b,_]=g.useState(null),[S,j]=g.useState(null),k=Ce(t,W=>_(W)),[N,T]=g.useState(null),[E,D]=g.useState(null),P=qh(n),[z,O]=g.useState(!1),Q=g.useRef(!1);g.useEffect(()=>{if(b)return qv(b)},[b]),Hv();const $=g.useCallback(W=>{const[Ee,...Ge]=P().map(Se=>Se.ref.current),[ke]=Ge.slice(-1),xe=document.activeElement;for(const Se of W)if(Se===xe||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===Ee&&S&&(S.scrollTop=0),Se===ke&&S&&(S.scrollTop=S.scrollHeight),Se==null||Se.focus(),document.activeElement!==xe))return},[P,S]),L=g.useCallback(()=>$([N,b]),[$,N,b]);g.useEffect(()=>{z&&L()},[z,L]);const{onOpenChange:R,triggerPointerDownPosRef:A}=w;g.useEffect(()=>{if(b){let W={x:0,y:0};const Ee=ke=>{var xe,Se;W={x:Math.abs(Math.round(ke.pageX)-(((xe=A.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Se=A.current)==null?void 0:Se.y)??0))}},Ge=ke=>{W.x<=10&&W.y<=10?ke.preventDefault():b.contains(ke.target)||R(!1),document.removeEventListener("pointermove",Ee),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Ge,{capture:!0})}}},[b,R,A]),g.useEffect(()=>{const W=()=>R(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[R]);const[B,ie]=FT(W=>{const Ee=P().filter(xe=>!xe.disabled),Ge=Ee.find(xe=>xe.ref.current===document.activeElement),ke=UT(Ee,W,Ge);ke&&setTimeout(()=>ke.ref.current.focus())}),X=g.useCallback((W,Ee,Ge)=>{const ke=!Q.current&&!Ge;(w.value!==void 0&&w.value===Ee||ke)&&(T(W),ke&&(Q.current=!0))},[w.value]),fe=g.useCallback(()=>b==null?void 0:b.focus(),[b]),de=g.useCallback((W,Ee,Ge)=>{const ke=!Q.current&&!Ge;(w.value!==void 0&&w.value===Ee||ke)&&D(W)},[w.value]),De=r==="popper"?Rg:ST,Ke=De===Rg?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:x}:{};return o.jsx(bT,{scope:n,content:b,viewport:S,onViewportChange:j,itemRefCallback:X,selectedItem:N,onItemLeave:fe,itemTextRefCallback:de,focusSelectedItem:L,selectedItemText:E,position:r,isPositioned:z,searchRef:B,children:o.jsx(Bh,{as:k9,allowPinchZoom:!0,children:o.jsx(Uh,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ee(s,W=>{var Ee;(Ee=w.trigger)==null||Ee.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(Oo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(De,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...y,...Ke,onPlaced:()=>O(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ee(y.onKeyDown,W=>{const Ee=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Ee&&W.key.length===1&&ie(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let ke=P().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(W.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const xe=W.target,Se=ke.indexOf(xe);ke=ke.slice(Se+1)}setTimeout(()=>$(ke)),W.preventDefault()}})})})})})})});_T.displayName=j9;var N9="SelectItemAlignedPosition",ST=g.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=ri(Qi,n),a=si(Qi,n),[l,c]=g.useState(null),[u,d]=g.useState(null),h=Ce(t,k=>d(k)),f=qh(n),m=g.useRef(!1),v=g.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=a,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&y){const k=i.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(i.dir!=="rtl"){const xe=E.left-N.left,Se=T.left-xe,St=k.left-Se,hn=k.width+St,ii=Math.max(hn,N.width),Hr=window.innerWidth-Ln,ai=L1(Se,[Ln,Math.max(Ln,Hr-ii)]);l.style.minWidth=hn+"px",l.style.left=ai+"px"}else{const xe=N.right-E.right,Se=window.innerWidth-T.right-xe,St=window.innerWidth-k.right-Se,hn=k.width+St,ii=Math.max(hn,N.width),Hr=window.innerWidth-Ln,ai=L1(Se,[Ln,Math.max(Ln,Hr-ii)]);l.style.minWidth=hn+"px",l.style.right=ai+"px"}const D=f(),P=window.innerHeight-Ln*2,z=p.scrollHeight,O=window.getComputedStyle(u),Q=parseInt(O.borderTopWidth,10),$=parseInt(O.paddingTop,10),L=parseInt(O.borderBottomWidth,10),R=parseInt(O.paddingBottom,10),A=Q+$+z+R+L,B=Math.min(x.offsetHeight*5,A),ie=window.getComputedStyle(p),X=parseInt(ie.paddingTop,10),fe=parseInt(ie.paddingBottom,10),de=k.top+k.height/2-Ln,De=P-de,Ke=x.offsetHeight/2,W=x.offsetTop+Ke,Ee=Q+$+W,Ge=A-Ee;if(Ee<=de){const xe=D.length>0&&x===D[D.length-1].ref.current;l.style.bottom="0px";const Se=u.clientHeight-p.offsetTop-p.offsetHeight,St=Math.max(De,Ke+(xe?fe:0)+Se+L),hn=Ee+St;l.style.height=hn+"px"}else{const xe=D.length>0&&x===D[0].ref.current;l.style.top="0px";const St=Math.max(de,Q+p.offsetTop+(xe?X:0)+Ke)+Ge;l.style.height=St+"px",p.scrollTop=Ee-de+p.offsetTop}l.style.margin=`${Ln}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,p,x,y,i.dir,r]);_t(()=>b(),[b]);const[_,S]=g.useState();_t(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=g.useCallback(k=>{k&&v.current===!0&&(b(),w==null||w(),v.current=!1)},[b,w]);return o.jsx(E9,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ue.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ST.displayName=N9;var C9="SelectPopperPosition",Rg=g.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ln,...i}=e,a=Kh(n);return o.jsx(Qy,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rg.displayName=C9;var[E9,rx]=Go(Qi,{}),Ag="SelectViewport",jT=g.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=si(Ag,n),a=rx(Ag,n),l=Ce(t,i.onViewportChange),c=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Hh.Slot,{scope:n,children:o.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-Ln*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<v){const w=y+m,b=Math.min(v,w),_=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});jT.displayName=Ag;var kT="SelectGroup",[T9,P9]=Go(kT),R9=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Rr();return o.jsx(T9,{scope:n,id:s,children:o.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:t})})});R9.displayName=kT;var NT="SelectLabel",CT=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=P9(NT,n);return o.jsx(ue.div,{id:s.id,...r,ref:t})});CT.displayName=NT;var ah="SelectItem",[A9,ET]=Go(ah),TT=g.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=ri(ah,n),c=si(ah,n),u=l.value===r,[d,h]=g.useState(i??""),[f,m]=g.useState(!1),v=Ce(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,s)}),p=Rr(),x=g.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(A9,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:g.useCallback(w=>{h(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Hh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(ue.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:ee(a.onFocus,()=>m(!0)),onBlur:ee(a.onBlur,()=>m(!1)),onClick:ee(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ee(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ee(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ee(a.onPointerMove,w=>{var b;x.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(a.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ee(a.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(y9.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});TT.displayName=ah;var _l="SelectItemText",PT=g.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=ri(_l,n),l=si(_l,n),c=ET(_l,n),u=b9(_l,n),[d,h]=g.useState(null),f=Ce(t,y=>h(y),c.onItemTextChange,y=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=g.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return _t(()=>(p(v),()=>x(v)),[p,x,v]),o.jsxs(o.Fragment,{children:[o.jsx(ue.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ea.createPortal(i.children,a.valueNode):null]})});PT.displayName=_l;var RT="SelectItemIndicator",AT=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ET(RT,n).isSelected?o.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});AT.displayName=RT;var Og="SelectScrollUpButton",OT=g.forwardRef((e,t)=>{const n=si(Og,e.__scopeSelect),r=rx(Og,e.__scopeSelect),[s,i]=g.useState(!1),a=Ce(t,r.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(DT,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});OT.displayName=Og;var Ig="SelectScrollDownButton",IT=g.forwardRef((e,t)=>{const n=si(Ig,e.__scopeSelect),r=rx(Ig,e.__scopeSelect),[s,i]=g.useState(!1),a=Ce(t,r.onScrollButtonChange);return _t(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(DT,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});IT.displayName=Ig;var DT=g.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=si("SelectScrollButton",n),a=g.useRef(null),l=qh(n),c=g.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),_t(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),O9="SelectSeparator",MT=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});MT.displayName=O9;var Dg="SelectArrow",I9=g.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Kh(n),i=ri(Dg,n),a=si(Dg,n);return i.open&&a.position==="popper"?o.jsx(Zy,{...s,...r,ref:t}):null});I9.displayName=Dg;var D9="SelectBubbleInput",LT=g.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=g.useRef(null),i=Ce(r,s),a=hT(t);return g.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(ue.select,{...n,style:{...xj,...n.style},ref:i,defaultValue:t})});LT.displayName=D9;function $T(e){return e===""||e===void 0}function FT(e){const t=Nn(e),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function UT(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=M9(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function M9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var L9=fT,VT=pT,$9=yT,F9=vT,U9=xT,BT=wT,V9=jT,zT=CT,WT=TT,B9=PT,z9=AT,HT=OT,qT=IT,KT=MT;const Cs=L9,Es=$9,Er=g.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(VT,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(F9,{asChild:!0,children:o.jsx(zj,{className:"h-4 w-4 opacity-50"})})]}));Er.displayName=VT.displayName;const GT=g.forwardRef(({className:e,...t},n)=>o.jsx(HT,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(uO,{className:"h-4 w-4"})}));GT.displayName=HT.displayName;const YT=g.forwardRef(({className:e,...t},n)=>o.jsx(qT,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(zj,{className:"h-4 w-4"})}));YT.displayName=qT.displayName;const Tr=g.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(U9,{children:o.jsxs(BT,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(GT,{}),o.jsx(V9,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(YT,{})]})}));Tr.displayName=BT.displayName;const W9=g.forwardRef(({className:e,...t},n)=>o.jsx(zT,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));W9.displayName=zT.displayName;const rn=g.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(WT,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(z9,{children:o.jsx(cO,{className:"h-4 w-4"})})}),o.jsx(B9,{children:t})]}));rn.displayName=WT.displayName;const H9=g.forwardRef(({className:e,...t},n)=>o.jsx(KT,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",e),...t}));H9.displayName=KT.displayName;var Gh="Dialog",[QT,o7]=pr(Gh),[q9,Zn]=QT(Gh),ZT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=Bs({prop:r,defaultProp:s??!1,onChange:i,caller:Gh});return o.jsx(q9,{scope:t,triggerRef:l,contentRef:c,contentId:Rr(),titleId:Rr(),descriptionId:Rr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};ZT.displayName=Gh;var JT="DialogTrigger",XT=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Zn(JT,n),i=Ce(t,s.triggerRef);return o.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ax(s.open),...r,ref:i,onClick:ee(e.onClick,s.onOpenToggle)})});XT.displayName=JT;var sx="DialogPortal",[K9,eP]=QT(sx,{forceMount:void 0}),tP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Zn(sx,t);return o.jsx(K9,{scope:t,forceMount:n,children:g.Children.map(r,a=>o.jsx(zr,{present:n||i.open,children:o.jsx(Lc,{asChild:!0,container:s,children:a})}))})};tP.displayName=sx;var oh="DialogOverlay",nP=g.forwardRef((e,t)=>{const n=eP(oh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Zn(oh,e.__scopeDialog);return i.modal?o.jsx(zr,{present:r||i.open,children:o.jsx(Y9,{...s,ref:t})}):null});nP.displayName=oh;var G9=Wi("DialogOverlay.RemoveScroll"),Y9=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Zn(oh,n);return o.jsx(Bh,{as:G9,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ue.div,{"data-state":ax(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Zi="DialogContent",rP=g.forwardRef((e,t)=>{const n=eP(Zi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Zn(Zi,e.__scopeDialog);return o.jsx(zr,{present:r||i.open,children:i.modal?o.jsx(Q9,{...s,ref:t}):o.jsx(Z9,{...s,ref:t})})});rP.displayName=Zi;var Q9=g.forwardRef((e,t)=>{const n=Zn(Zi,e.__scopeDialog),r=g.useRef(null),s=Ce(t,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return qv(i)},[]),o.jsx(sP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault())})}),Z9=g.forwardRef((e,t)=>{const n=Zn(Zi,e.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return o.jsx(sP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sP=g.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=Zn(Zi,n),c=g.useRef(null),u=Ce(t,c);return Hv(),o.jsxs(o.Fragment,{children:[o.jsx(Uh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Oo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ax(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(J9,{titleId:l.titleId}),o.jsx(eW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ix="DialogTitle",iP=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Zn(ix,n);return o.jsx(ue.h2,{id:s.titleId,...r,ref:t})});iP.displayName=ix;var aP="DialogDescription",oP=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Zn(aP,n);return o.jsx(ue.p,{id:s.descriptionId,...r,ref:t})});oP.displayName=aP;var lP="DialogClose",cP=g.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Zn(lP,n);return o.jsx(ue.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});cP.displayName=lP;function ax(e){return e?"open":"closed"}var uP="DialogTitleWarning",[l7,dP]=hA(uP,{contentName:Zi,titleName:ix,docsSlug:"dialog"}),J9=({titleId:e})=>{const t=dP(uP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},X9="DialogDescriptionWarning",eW=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dP(X9).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},tW=ZT,nW=XT,rW=tP,hP=nP,fP=rP,mP=iP,pP=oP,sW=cP;const Yh=tW,ox=nW,iW=rW,gP=g.forwardRef(({className:e,...t},n)=>o.jsx(hP,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));gP.displayName=hP.displayName;const Yc=g.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(iW,{children:[o.jsx(gP,{}),o.jsxs(fP,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(sW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Mo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yc.displayName=fP.displayName;const Qc=({className:e,...t})=>o.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Qc.displayName="DialogHeader";const Zc=g.forwardRef(({className:e,...t},n)=>o.jsx(mP,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));Zc.displayName=mP.displayName;const aW=g.forwardRef(({className:e,...t},n)=>o.jsx(pP,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));aW.displayName=pP.displayName;var Qh="Switch",[oW,c7]=pr(Qh),[lW,cW]=oW(Qh),yP=g.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=g.useState(null),v=Ce(t,b=>m(b)),p=g.useRef(!1),x=f?d||!!f.closest("form"):!0,[y,w]=Bs({prop:s,defaultProp:i??!1,onChange:u,caller:Qh});return o.jsxs(lW,{scope:n,checked:y,disabled:l,children:[o.jsx(ue.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":bP(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:ee(e.onClick,b=>{w(_=>!_),x&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),x&&o.jsx(wP,{control:f,bubbles:!p.current,name:r,value:c,checked:y,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});yP.displayName=Qh;var vP="SwitchThumb",xP=g.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=cW(vP,n);return o.jsx(ue.span,{"data-state":bP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});xP.displayName=vP;var uW="SwitchBubbleInput",wP=g.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=g.useRef(null),l=Ce(a,i),c=hT(n),u=wk(t);return g.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const v=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(v)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wP.displayName=uW;function bP(e){return e?"checked":"unchecked"}var _P=yP,dW=xP;const Cc=g.forwardRef(({className:e,...t},n)=>o.jsx(_P,{className:oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:o.jsx(dW,{className:oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Cc.displayName=_P.displayName;function SP(){return dn({queryKey:["admin-classes"],queryFn:async()=>{const{data:e,error:t}=await K.from("classes").select("*").order("day_of_week");if(t)throw t;return e}})}function hW(){const e=Cn();return fr({mutationFn:async t=>{const{data:n,error:r}=await K.from("classes").insert(t).select().single();if(r)throw r;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-classes"]}),e.invalidateQueries({queryKey:["classes"]})}})}function fW(){const e=Cn();return fr({mutationFn:async({id:t,...n})=>{const{data:r,error:s}=await K.from("classes").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-classes"]}),e.invalidateQueries({queryKey:["classes"]})}})}function mW(){const e=Cn();return fr({mutationFn:async t=>{const{error:n}=await K.from("classes").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-classes"]}),e.invalidateQueries({queryKey:["classes"]})}})}function pW(){return dn({queryKey:["admin-announcements"],queryFn:async()=>{const{data:e,error:t}=await K.from("announcements").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}})}function gW(){const e=Cn();return fr({mutationFn:async t=>{const{data:n,error:r}=await K.from("announcements").insert(t).select().single();if(r)throw r;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-announcements"]}),e.invalidateQueries({queryKey:["announcements"]})}})}function yW(){const e=Cn();return fr({mutationFn:async({id:t,...n})=>{const{data:r,error:s}=await K.from("announcements").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-announcements"]}),e.invalidateQueries({queryKey:["announcements"]})}})}function vW(){const e=Cn();return fr({mutationFn:async t=>{const{error:n}=await K.from("announcements").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-announcements"]}),e.invalidateQueries({queryKey:["announcements"]})}})}function jP(e){return dn({queryKey:["attendance",e],queryFn:async()=>{let t=K.from("attendance").select(`
          *,
          classes(title, program)
        `).order("attended_at",{ascending:!1});const{data:n,error:r}=await t.limit(100);if(r)throw r;return n}})}function xW(){const e=Cn();return fr({mutationFn:async({class_id:t,user_id:n})=>{const{data:r,error:s}=await K.from("attendance").insert({class_id:t,user_id:n}).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["attendance"]})}})}function Zh(){return dn({queryKey:["all-students"],queryFn:async()=>{const[{data:e,error:t},{data:n,error:r}]=await Promise.all([K.from("profiles").select("*").order("full_name"),K.from("students").select("*")]);if(t)throw t;if(r)return e;const s=(n||[]).reduce((a,l)=>(a[l.user_id]=l,a),{});return(e||[]).map(a=>{const l=s[a.user_id];return{...a,belt_level:(l==null?void 0:l.belt_level)||null,belt_rank:(l==null?void 0:l.belt_level)||a.belt_rank||null}})}})}function wW(){const e=Cn();return fr({mutationFn:async({user_id:t,role:n})=>{const{error:r}=await K.from("user_roles").delete().eq("user_id",t);if(r)throw r;const{data:s,error:i}=await K.from("user_roles").insert({user_id:t,role:n}).select().single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["all-students"]}),e.invalidateQueries({queryKey:["profiles"]})}})}function lx(){return dn({queryKey:["analytics"],queryFn:async()=>{const{count:e}=await K.from("profiles").select("*",{count:"exact",head:!0}),{count:t}=await K.from("classes").select("*",{count:"exact",head:!0}).eq("is_active",!0),n=new Date;n.setDate(1),n.setHours(0,0,0,0);const{count:r}=await K.from("attendance").select("*",{count:"exact",head:!0}).gte("attended_at",n.toISOString().split("T")[0]),[{data:s},{data:i}]=await Promise.all([K.from("profiles").select("id, user_id, belt_rank"),K.from("students").select("user_id, belt_level")]),a=(i||[]).reduce((m,v)=>(m[v.user_id]=v,m),{}),l=(s||[]).reduce((m,v)=>{var x;const p=((x=a[v.user_id])==null?void 0:x.belt_level)||v.belt_rank||"white";return m[p]=(m[p]||0)+1,m},{}),{data:c}=await K.from("profiles").select("program"),u=(c||[]).reduce((m,{program:v})=>{const p=v||"adults";return m[p]=(m[p]||0)+1,m},{}),d=new Date;d.setDate(d.getDate()-7);const{data:h}=await K.from("attendance").select("attended_at").gte("attended_at",d.toISOString().split("T")[0]),f=(h||[]).reduce((m,{attended_at:v})=>(m[v]=(m[v]||0)+1,m),{});return{studentCount:e||0,classCount:t||0,monthlyAttendance:r||0,beltDistribution:l,programDistribution:u,attendanceByDay:f}}})}const $1=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],bW=["kids","teens","adults","family"],_W=["beginner","intermediate","advanced","all"],SW=["Main Dojo","Training Room A","Training Room B","Outdoor Area"],bm={title:"",description:"",program:"adults",level:"all",location:"Main Dojo",day_of_week:"Monday",start_time:"09:00",end_time:"10:00",capacity:20};function cx(){const{data:e,isLoading:t}=SP(),n=hW(),r=fW(),s=mW(),{toast:i}=mr(),[a,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState(bm),f=async y=>{y.preventDefault();try{c?(await r.mutateAsync({id:c,...d}),i({title:"Class updated successfully!"})):(await n.mutateAsync(d),i({title:"Class created successfully!"})),l(!1),u(null),h(bm)}catch{i({title:"Error",description:"Failed to save class",variant:"destructive"})}},m=y=>{u(y.id),h({title:y.title,description:y.description||"",program:y.program,level:y.level||"all",location:y.location,day_of_week:y.day_of_week,start_time:y.start_time,end_time:y.end_time,capacity:y.capacity||20}),l(!0)},v=async y=>{if(confirm("Are you sure you want to delete this class?"))try{await s.mutateAsync(y),i({title:"Class deleted successfully!"})}catch{i({title:"Error",description:"Failed to delete class",variant:"destructive"})}},p=async(y,w)=>{try{await r.mutateAsync({id:y,is_active:!w}),i({title:`Class ${w?"deactivated":"activated"}`})}catch{i({title:"Error",description:"Failed to update class status",variant:"destructive"})}},x=(e||[]).reduce((y,w)=>(y[w.day_of_week]||(y[w.day_of_week]=[]),y[w.day_of_week].push(w),y),{});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"CLASS SCHEDULE"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your dojo class schedule"})]}),o.jsxs(Yh,{open:a,onOpenChange:y=>{l(y),y||(u(null),h(bm))},children:[o.jsx(ox,{asChild:!0,children:o.jsxs(F,{className:"gap-2",children:[o.jsx($y,{className:"w-4 h-4"}),"Add Class"]})}),o.jsxs(Yc,{className:"max-w-md",children:[o.jsx(Qc,{children:o.jsx(Zc,{className:"font-display tracking-wide",children:c?"EDIT CLASS":"NEW CLASS"})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(et,{htmlFor:"title",children:"Class Title"}),o.jsx(qt,{id:"title",value:d.title,onChange:y=>h({...d,title:y.target.value}),placeholder:"e.g., Morning Karate",required:!0})]}),o.jsxs("div",{children:[o.jsx(et,{htmlFor:"description",children:"Description"}),o.jsx(nx,{id:"description",value:d.description,onChange:y=>h({...d,description:y.target.value}),placeholder:"Class description...",rows:2})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(et,{children:"Program"}),o.jsxs(Cs,{value:d.program,onValueChange:y=>h({...d,program:y}),children:[o.jsx(Er,{children:o.jsx(Es,{})}),o.jsx(Tr,{children:bW.map(y=>o.jsx(rn,{value:y,className:"capitalize",children:y},y))})]})]}),o.jsxs("div",{children:[o.jsx(et,{children:"Level"}),o.jsxs(Cs,{value:d.level,onValueChange:y=>h({...d,level:y}),children:[o.jsx(Er,{children:o.jsx(Es,{})}),o.jsx(Tr,{children:_W.map(y=>o.jsx(rn,{value:y,className:"capitalize",children:y},y))})]})]})]}),o.jsxs("div",{children:[o.jsx(et,{children:"Day"}),o.jsxs(Cs,{value:d.day_of_week,onValueChange:y=>h({...d,day_of_week:y}),children:[o.jsx(Er,{children:o.jsx(Es,{})}),o.jsx(Tr,{children:$1.map(y=>o.jsx(rn,{value:y,children:y},y))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(et,{htmlFor:"start_time",children:"Start Time"}),o.jsx(qt,{id:"start_time",type:"time",value:d.start_time,onChange:y=>h({...d,start_time:y.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(et,{htmlFor:"end_time",children:"End Time"}),o.jsx(qt,{id:"end_time",type:"time",value:d.end_time,onChange:y=>h({...d,end_time:y.target.value}),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(et,{children:"Location"}),o.jsxs(Cs,{value:d.location,onValueChange:y=>h({...d,location:y}),children:[o.jsx(Er,{children:o.jsx(Es,{})}),o.jsx(Tr,{children:SW.map(y=>o.jsx(rn,{value:y,children:y},y))})]})]}),o.jsxs("div",{children:[o.jsx(et,{htmlFor:"capacity",children:"Capacity"}),o.jsx(qt,{id:"capacity",type:"number",min:1,value:d.capacity,onChange:y=>h({...d,capacity:parseInt(y.target.value)||20})})]})]}),o.jsx(F,{type:"submit",className:"w-full",disabled:n.isPending||r.isPending,children:c?"Update Class":"Create Class"})]})]})]})]}),t?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-6",children:[$1.map(y=>{const w=x[y]||[];return w.length===0?null:o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-xl overflow-hidden",children:[o.jsx("div",{className:"bg-muted px-4 py-3 border-b border-border",children:o.jsxs("h3",{className:"font-display text-lg text-foreground tracking-wide flex items-center gap-2",children:[o.jsx(Qt,{className:"w-5 h-5 text-primary"}),y.toUpperCase()]})}),o.jsx("div",{className:"divide-y divide-border",children:w.map(b=>o.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 ${b.is_active?"":"opacity-50"}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground",children:b.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sn,{variant:"outline",className:"capitalize",children:b.program}),b.level&&b.level!=="all"&&o.jsx(Sn,{variant:"secondary",className:"capitalize",children:b.level})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Do,{className:"w-3 h-3"}),b.start_time.slice(0,5)," - ",b.end_time.slice(0,5)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ly,{className:"w-3 h-3"}),b.location]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ta,{className:"w-3 h-3"}),b.capacity," max"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:ml-4 sm:pl-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mr-0 sm:mr-4",children:[o.jsx(Cc,{checked:b.is_active,onCheckedChange:()=>p(b.id,b.is_active)}),o.jsx("span",{className:"text-xs text-muted-foreground",children:b.is_active?"Active":"Inactive"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>m(b),children:o.jsx(Qj,{className:"w-4 h-4"})}),o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>v(b.id),children:o.jsx(Fy,{className:"w-4 h-4 text-destructive"})})]})]})]},b.id))})]},y)}),Object.keys(x).length===0&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Qt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No classes scheduled yet."}),o.jsx("p",{className:"text-sm",children:'Click "Add Class" to create your first class.'})]})]})]})}const _m={title:"",content:"",priority:"normal",expires_at:"",is_published:!0},jW={low:"bg-muted text-muted-foreground",normal:"bg-primary/10 text-primary",high:"bg-gold/10 text-gold",urgent:"bg-destructive/10 text-destructive"};function kW(){const{data:e,isLoading:t}=pW(),n=gW(),r=yW(),s=vW(),{toast:i}=mr(),[a,l]=g.useState(!1),[c,u]=g.useState(null),[d,h]=g.useState(_m),f=async x=>{x.preventDefault();const y={...d,expires_at:d.expires_at||null};try{c?(await r.mutateAsync({id:c,...y}),i({title:"Announcement updated successfully!"})):(await n.mutateAsync(y),i({title:"Announcement created successfully!"})),l(!1),u(null),h(_m)}catch{i({title:"Error",description:"Failed to save announcement",variant:"destructive"})}},m=x=>{var y;u(x.id),h({title:x.title,content:x.content,priority:x.priority||"normal",expires_at:((y=x.expires_at)==null?void 0:y.split("T")[0])||"",is_published:x.is_published}),l(!0)},v=async x=>{if(confirm("Are you sure you want to delete this announcement?"))try{await s.mutateAsync(x),i({title:"Announcement deleted successfully!"})}catch{i({title:"Error",description:"Failed to delete announcement",variant:"destructive"})}},p=async(x,y)=>{try{await r.mutateAsync({id:x,is_published:!y}),i({title:`Announcement ${y?"unpublished":"published"}`})}catch{i({title:"Error",description:"Failed to update announcement",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"ANNOUNCEMENTS"}),o.jsx("p",{className:"text-muted-foreground",children:"Create and manage dojo announcements"})]}),o.jsxs(Yh,{open:a,onOpenChange:x=>{l(x),x||(u(null),h(_m))},children:[o.jsx(ox,{asChild:!0,children:o.jsxs(F,{className:"gap-2",children:[o.jsx($y,{className:"w-4 h-4"}),"New Announcement"]})}),o.jsxs(Yc,{className:"max-w-md",children:[o.jsx(Qc,{children:o.jsx(Zc,{className:"font-display tracking-wide",children:c?"EDIT ANNOUNCEMENT":"NEW ANNOUNCEMENT"})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(et,{htmlFor:"title",children:"Title"}),o.jsx(qt,{id:"title",value:d.title,onChange:x=>h({...d,title:x.target.value}),placeholder:"Announcement title...",required:!0})]}),o.jsxs("div",{children:[o.jsx(et,{htmlFor:"content",children:"Content"}),o.jsx(nx,{id:"content",value:d.content,onChange:x=>h({...d,content:x.target.value}),placeholder:"Announcement details...",rows:4,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(et,{children:"Priority"}),o.jsxs(Cs,{value:d.priority,onValueChange:x=>h({...d,priority:x}),children:[o.jsx(Er,{children:o.jsx(Es,{})}),o.jsxs(Tr,{children:[o.jsx(rn,{value:"low",children:"Low"}),o.jsx(rn,{value:"normal",children:"Normal"}),o.jsx(rn,{value:"high",children:"High"}),o.jsx(rn,{value:"urgent",children:"Urgent"})]})]})]}),o.jsxs("div",{children:[o.jsx(et,{htmlFor:"expires_at",children:"Expires (optional)"}),o.jsx(qt,{id:"expires_at",type:"date",value:d.expires_at,onChange:x=>h({...d,expires_at:x.target.value})})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cc,{id:"is_published",checked:d.is_published,onCheckedChange:x=>h({...d,is_published:x})}),o.jsx(et,{htmlFor:"is_published",children:"Publish immediately"})]}),o.jsx(F,{type:"submit",className:"w-full",disabled:n.isPending||r.isPending,children:c?"Update Announcement":"Create Announcement"})]})]})]})]}),t?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-4",children:[(e||[]).map(x=>o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-card border border-border rounded-xl p-4 ${x.is_published?"":"opacity-60"}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Id,{className:"w-4 h-4 text-primary"}),o.jsx("h3",{className:"font-medium text-foreground",children:x.title}),o.jsx(Sn,{className:jW[x.priority||"normal"],children:x.priority||"normal"}),!x.is_published&&o.jsxs(Sn,{variant:"outline",className:"gap-1",children:[o.jsx(wp,{className:"w-3 h-3"}),"Draft"]})]}),o.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:x.content}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Do,{className:"w-3 h-3"}),Jv(new Date(x.created_at),{addSuffix:!0})]}),x.expires_at&&o.jsxs("span",{children:["Expires: ",$E(new Date(x.expires_at),"MMM d, yyyy")]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>p(x.id,x.is_published),children:x.is_published?o.jsx(Wj,{className:"w-4 h-4"}):o.jsx(wp,{className:"w-4 h-4"})}),o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>m(x),children:o.jsx(Qj,{className:"w-4 h-4"})}),o.jsx(F,{variant:"ghost",size:"icon",onClick:()=>v(x.id),children:o.jsx(Fy,{className:"w-4 h-4 text-destructive"})})]})]})},x.id)),(e||[]).length===0&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Id,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No announcements yet."}),o.jsx("p",{className:"text-sm",children:'Click "New Announcement" to create one.'})]})]})]})}function NW(){const{data:e,isLoading:t}=jP(),{data:n}=Zh(),{data:r}=SP(),s=xW(),{toast:i}=mr(),[a,l]=g.useState(!1),[c,u]=g.useState(""),[d,h]=g.useState(""),[f,m]=g.useState(""),[v,p]=g.useState("all"),x=async()=>{if(!c||!d){i({title:"Please select both class and student",variant:"destructive"});return}try{await s.mutateAsync({class_id:c,user_id:d}),i({title:"Attendance recorded successfully!"}),l(!1),u(""),h("")}catch(S){i({title:"Error",description:S.message||"Failed to record attendance",variant:"destructive"})}},y=(n||[]).reduce((S,j)=>(S[j.user_id]=j,S),{}),b=(e||[]).filter(S=>{var T,E,D;const j=y[S.user_id],k=!f||((T=j==null?void 0:j.full_name)==null?void 0:T.toLowerCase().includes(f.toLowerCase()))||((D=(E=S.classes)==null?void 0:E.title)==null?void 0:D.toLowerCase().includes(f.toLowerCase())),N=v==="all"||S.class_id===v;return k&&N}).reduce((S,j)=>{const k=j.attended_at;return S[k]||(S[k]=[]),S[k].push(j),S},{}),_=(r||[]).filter(S=>S.is_active);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"ATTENDANCE"}),o.jsx("p",{className:"text-muted-foreground",children:"Track student class attendance"})]}),o.jsxs(Yh,{open:a,onOpenChange:l,children:[o.jsx(ox,{asChild:!0,children:o.jsxs(F,{className:"gap-2",children:[o.jsx(Zu,{className:"w-4 h-4"}),"Record Attendance"]})}),o.jsxs(Yc,{className:"max-w-md",children:[o.jsx(Qc,{children:o.jsx(Zc,{className:"font-display tracking-wide",children:"RECORD ATTENDANCE"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(et,{children:"Select Class"}),o.jsxs(Cs,{value:c,onValueChange:u,children:[o.jsx(Er,{children:o.jsx(Es,{placeholder:"Choose a class..."})}),o.jsx(Tr,{children:_.map(S=>o.jsxs(rn,{value:S.id,children:[S.title," (",S.day_of_week," ",S.start_time.slice(0,5),")"]},S.id))})]})]}),o.jsxs("div",{children:[o.jsx(et,{children:"Select Student"}),o.jsxs(Cs,{value:d,onValueChange:h,children:[o.jsx(Er,{children:o.jsx(Es,{placeholder:"Choose a student..."})}),o.jsx(Tr,{children:(n||[]).map(S=>o.jsxs(rn,{value:S.user_id,children:[S.full_name,o.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",S.belt_level||S.belt_rank||"white"," belt)"]})]},S.user_id))})]})]}),o.jsx(F,{onClick:x,className:"w-full",disabled:s.isPending,children:"Record Attendance"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Gj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(qt,{placeholder:"Search by student or class...",value:f,onChange:S=>m(S.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mO,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs(Cs,{value:v,onValueChange:p,children:[o.jsx(Er,{className:"w-48",children:o.jsx(Es,{placeholder:"Filter by class"})}),o.jsxs(Tr,{children:[o.jsx(rn,{value:"all",children:"All Classes"}),_.map(S=>o.jsx(rn,{value:S.id,children:S.title},S.id))]})]})]})]}),t?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-6",children:[Object.entries(b).map(([S,j])=>o.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-xl overflow-hidden",children:[o.jsxs("div",{className:"bg-muted px-4 py-3 border-b border-border flex items-center justify-between",children:[o.jsxs("h3",{className:"font-display text-lg text-foreground tracking-wide flex items-center gap-2",children:[o.jsx(Qt,{className:"w-5 h-5 text-primary"}),$E(new Date(S),"EEEE, MMMM d, yyyy")]}),o.jsxs(Sn,{variant:"secondary",children:[j.length," attended"]})]}),o.jsx("div",{className:"divide-y divide-border",children:j.map(k=>{var T,E;const N=y[k.user_id];return o.jsxs("div",{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Zu,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:(N==null?void 0:N.full_name)||"Unknown Student"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:((T=k.classes)==null?void 0:T.title)||"Unknown Class"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Sn,{variant:"outline",className:"capitalize",children:[(N==null?void 0:N.belt_level)||(N==null?void 0:N.belt_rank)||"white"," belt"]}),o.jsx(Sn,{variant:"outline",className:"capitalize",children:(E=k.classes)==null?void 0:E.program})]})]},k.id)})})]},S)),Object.keys(b).length===0&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Zu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No attendance records found."}),o.jsx("p",{className:"text-sm",children:"Record attendance when students attend classes."})]})]})]})}const CW={white:"#E5E7EB",yellow:"#FDE047",orange:"#FB923C",green:"#4ADE80",blue:"#60A5FA",purple:"#A78BFA",brown:"#A16207",black:"#1F2937"},EW=["white","yellow","orange","green","blue","purple","brown","black"];function TW(){const{data:e,isLoading:t}=lx();if(t)return o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})});const{studentCount:n=0,classCount:r=0,monthlyAttendance:s=0,beltDistribution:i={},programDistribution:a={},attendanceByDay:l={}}=e||{},c=Object.keys(l).length>0?Math.round(Object.values(l).reduce((h,f)=>h+f,0)/Object.keys(l).length):0,u=EW.filter(h=>i[h]>0),d=Math.max(...Object.values(i).map(h=>h),1);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"ANALYTICS"}),o.jsx("p",{className:"text-muted-foreground",children:"Insights into your dojo performance"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:o.jsxs(br,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:[o.jsx(rs,{className:"pb-2",children:o.jsxs(ss,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(ta,{className:"w-4 h-4"}),"Total Students"]})}),o.jsxs(_r,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:n}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Registered members"})]})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:o.jsxs(br,{className:"bg-gradient-to-br from-gold/10 to-gold/5 border-gold/20",children:[o.jsx(rs,{className:"pb-2",children:o.jsxs(ss,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(Qt,{className:"w-4 h-4"}),"Active Classes"]})}),o.jsxs(_r,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:r}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Weekly sessions"})]})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:o.jsxs(br,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-500/20",children:[o.jsx(rs,{className:"pb-2",children:o.jsxs(ss,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(_p,{className:"w-4 h-4"}),"Monthly Attendance"]})}),o.jsxs(_r,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:s}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This month"})]})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:o.jsxs(br,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5 border-purple-500/20",children:[o.jsx(rs,{className:"pb-2",children:o.jsxs(ss,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(Bj,{className:"w-4 h-4"}),"Avg. Daily Attendance"]})}),o.jsxs(_r,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:c}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 7 days"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:o.jsxs(br,{children:[o.jsx(rs,{children:o.jsxs(ss,{className:"font-display tracking-wide flex items-center gap-2",children:[o.jsx(Dy,{className:"w-5 h-5 text-primary"}),"BELT DISTRIBUTION"]})}),o.jsx(_r,{children:o.jsxs("div",{className:"space-y-3",children:[u.map(h=>{const f=i[h]||0,m=Math.round(f/d*100);return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"capitalize text-foreground",children:[h," Belt"]}),o.jsxs("span",{className:"text-muted-foreground",children:[f," students"]})]}),o.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:o.jsx(V.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:.5,delay:.5},className:"h-full rounded-full",style:{backgroundColor:CW[h]}})})]},h)}),u.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No student data available"})]})})]})}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:o.jsxs(br,{children:[o.jsx(rs,{children:o.jsxs(ss,{className:"font-display tracking-wide flex items-center gap-2",children:[o.jsx(lO,{className:"w-5 h-5 text-primary"}),"PROGRAM ENROLLMENT"]})}),o.jsx(_r,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Object.entries(a).map(([h,f],m)=>{const v=["bg-primary","bg-gold","bg-green-500","bg-purple-500"],p=Object.values(a).reduce((y,w)=>y+w,0),x=p>0?Math.round(f/p*100):0;return o.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6+m*.1},className:"bg-muted/50 rounded-xl p-4 text-center",children:[o.jsx("div",{className:`w-12 h-12 ${v[m%v.length]} rounded-full mx-auto mb-2 flex items-center justify-center`,children:o.jsxs("span",{className:"text-white font-bold text-lg",children:[x,"%"]})}),o.jsx("p",{className:"font-medium capitalize text-foreground",children:h}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[f," students"]})]},h)}),Object.keys(a).length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4 col-span-2",children:"No program data available"})]})})]})})]}),o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:o.jsxs(br,{children:[o.jsx(rs,{children:o.jsxs(ss,{className:"font-display tracking-wide flex items-center gap-2",children:[o.jsx(_p,{className:"w-5 h-5 text-primary"}),"7-DAY ATTENDANCE TREND"]})}),o.jsx(_r,{children:Object.keys(l).length>0?o.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:Object.entries(l).sort(([h],[f])=>new Date(h).getTime()-new Date(f).getTime()).map(([h,f])=>{const m=Math.max(...Object.values(l).map(x=>x)),v=m>0?f/m*100:0,p=new Date(h).toLocaleDateString("en-US",{weekday:"short"});return o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx(V.div,{initial:{height:0},animate:{height:`${v}%`},transition:{duration:.5,delay:.7},className:"w-full bg-gradient-to-t from-primary to-primary/50 rounded-t-md min-h-[4px]"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:p}),o.jsx("p",{className:"text-xs font-medium text-foreground",children:f})]},h)})}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No attendance data for the past 7 days"})})]})})]})}function PW(){const{user:e,loading:t}=pt(),{isInstructor:n,isLoading:r}=Wv(),s=ot();return g.useEffect(()=>{!t&&!e&&s("/auth")},[e,t,s]),g.useEffect(()=>{!t&&!r&&e&&!n&&s("/dashboard")},[e,t,r,n,s]),t||r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading instructor panel..."})]})}):!e||!n?null:o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/dashboard",children:o.jsx(F,{variant:"ghost",size:"icon",children:o.jsx(Fc,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl md:text-2xl text-foreground tracking-wide flex items-center gap-2",children:[o.jsx(Yj,{className:"w-6 h-6 text-primary"}),"INSTRUCTOR PANEL"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your dojo"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"hidden sm:block",children:o.jsx(Xv,{current:"instructor"})}),o.jsx(we,{to:"/instructor/profile",children:o.jsxs(F,{variant:"ghost",size:"sm",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),o.jsx(we,{to:"/instructor/classes",children:o.jsxs(F,{variant:"ghost",size:"sm",children:[o.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Manage Timetable"]})})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-6 py-8",children:o.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:o.jsxs(p9,{defaultValue:"classes",className:"space-y-6",children:[o.jsx("div",{className:"sticky top-16 z-40 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsxs(dT,{className:"grid grid-cols-4 w-full max-w-2xl px-2 md:px-0",children:[o.jsxs(wl,{value:"classes",className:"gap-2",children:[o.jsx(Qt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Classes"})]}),o.jsxs(wl,{value:"announcements",className:"gap-2",children:[o.jsx(Id,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Announcements"})]}),o.jsxs(wl,{value:"attendance",className:"gap-2",children:[o.jsx(Zu,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Attendance"})]}),o.jsxs(wl,{value:"analytics",className:"gap-2",children:[o.jsx(Bj,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]})]})}),o.jsx(bl,{value:"classes",children:o.jsx(cx,{})}),o.jsx(bl,{value:"announcements",children:o.jsx(kW,{})}),o.jsx(bl,{value:"attendance",children:o.jsx(NW,{})}),o.jsx(bl,{value:"analytics",children:o.jsx(TW,{})})]})})})]})}const F1=["all","competition","kids","adults"];function U1(e){const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1024&&n<t.length-1;)r/=1024,n++;return`${r.toFixed(1)} ${t[n]}`}function RW(e){const t=e.match(/(?:youtube(?:-nocookie)?\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([A-Za-z0-9_-]{6,})/);return t?t[1]:null}function AW(){const e=g.useRef(null),{user:t,profile:n}=pt(),r=ot(),{toast:s}=mr(),[i,a]=g.useState("upload"),[l,c]=g.useState(null),[u,d]=g.useState(null),[h,f]=g.useState(""),[m,v]=g.useState(""),[p,x]=g.useState(F1[0]),[y,w]=g.useState(""),[b,_]=g.useState(null),[S,j]=g.useState(!1),k=500*1024*1024;function N(E){_(null);const D=E.target.files&&E.target.files[0];if(D){if(!D.type.startsWith("video/")){_("Please select a valid video file.");return}if(D.size>k){_(`File too large  max ${U1(k)}.`);return}c(D),d(URL.createObjectURL(D))}}async function T(E){if(E.preventDefault(),_(null),!t){_("You must be signed in to upload.");return}if(!h.trim()){_("Please enter a title for the video.");return}j(!0);try{let D="",P=null;if(i==="youtube"){const $=RW(y.trim());if(!$){_("Invalid YouTube URL"),j(!1);return}D=`https://www.youtube.com/embed/${$}`,P=`https://img.youtube.com/vi/${$}/hqdefault.jpg`}else{if(!l){_("Please select a video file to upload."),j(!1);return}const $=`videos/${t.id}/${Date.now()}_${l.name.replace(/[^a-zA-Z0-9_.-]/g,"_")}`,{error:L}=await K.storage.from("videos").upload($,l,{upsert:!1});if(L){console.error("Upload error",L),s({title:"Upload failed",description:L.message||"Check storage bucket and permissions",variant:"destructive"}),j(!1);return}const{data:R}=K.storage.from("videos").getPublicUrl($);D=R.publicUrl}const z={title:h.trim(),description:m.trim()||null,category:p,video_url:D,thumbnail_url:P,is_public:!1,minimum_belt_rank:"white",instructor_name:(n==null?void 0:n.full_name)||t.email||null},{data:O,error:Q}=await K.from("videos").insert(z).select().maybeSingle();if(Q){console.error("Insert error",Q),s({title:"Failed to save video",description:Q.message||void 0,variant:"destructive"}),j(!1);return}s({title:"Video added",description:"Your video is saved to the library"}),f(""),v(""),c(null),d($=>($&&URL.revokeObjectURL($),null)),w(""),r("/instructor/videos")}catch(D){console.error("Upload flow error",D),s({title:"Upload failed",variant:"destructive"})}finally{j(!1)}}return o.jsx("div",{className:"min-h-screen bg-background text-foreground py-8 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-card border border-border rounded-lg shadow p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Instructor  Add Training Video"}),o.jsxs("div",{className:"mb-6 flex gap-2",children:[o.jsx("button",{onClick:()=>a("upload"),className:`px-3 py-2 rounded ${i==="upload"?"bg-primary text-primary-foreground":"bg-muted"}`,children:"Upload File"}),o.jsx("button",{onClick:()=>a("youtube"),className:`px-3 py-2 rounded ${i==="youtube"?"bg-primary text-primary-foreground":"bg-muted"}`,children:"YouTube Link"})]}),o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Title"}),o.jsx("input",{value:h,onChange:E=>f(E.target.value),placeholder:"E.g. Advanced Kicks  Session 3",className:"w-full bg-input border border-border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Description"}),o.jsx("textarea",{value:m,onChange:E=>v(E.target.value),rows:4,placeholder:"Short summary of the video",className:"w-full bg-input border border-border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Program"}),o.jsx("select",{value:p,onChange:E=>x(E.target.value),className:"w-full bg-input border border-border rounded px-3 py-2",children:F1.map(E=>o.jsx("option",{value:E,children:E},E))})]}),i==="upload"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Video File"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>{var E;return(E=e.current)==null?void 0:E.click()},className:"px-4 py-2 bg-primary text-primary-foreground rounded",children:"Choose File"}),o.jsx("input",{ref:e,type:"file",accept:"video/*",onChange:N,className:"hidden"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:l?`${l.name}  ${U1(l.size)}`:"No file selected"})]}),u&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Preview"}),o.jsx("video",{src:u,controls:!0,className:"w-full rounded bg-black"})]})]}),i==="youtube"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"YouTube URL"}),o.jsx("input",{value:y,onChange:E=>w(E.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full bg-input border border-border rounded px-3 py-2"})]}),b&&o.jsx("div",{className:"text-sm text-destructive",children:b}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"submit",disabled:S,className:"px-6 py-2 bg-primary text-primary-foreground font-semibold rounded",children:S?"Saving":"Save Video"}),o.jsx("button",{type:"button",onClick:()=>{c(null),u&&(URL.revokeObjectURL(u),d(null)),_(null),w("")},className:"px-4 py-2 bg-muted rounded",children:"Clear"})]})]})]})})}function kP(){const{user:e}=pt(),t=ot(),{toast:n}=mr(),[r,s]=g.useState([]),[i,a]=g.useState(""),[l,c]=g.useState(!0),[u,d]=g.useState(null),[h,f]=g.useState(null),[m,v]=g.useState(""),[p,x]=g.useState(""),[y,w]=g.useState("info"),[b,_]=g.useState(!1),[S,j]=g.useState(null),k=["white","yellow","orange","green","blue","purple","brown","black"];g.useEffect(()=>{if(!e){t("/auth");return}N()},[e,t]);async function N(){try{const{data:P,error:z}=await K.from("profiles").select("*").order("created_at",{ascending:!1});if(z)throw z;const{data:O}=await K.from("user_roles").select("user_id, role"),Q=new Map((O||[]).map(L=>[L.user_id,L.role])),$=(P||[]).map(L=>({...L,role:Q.get(L.user_id)||"student"}));s($)}catch(P){console.error("Error loading users:",P)}finally{c(!1)}}const T=g.useMemo(()=>{const P=i.trim().toLowerCase();return P?r.filter(z=>(z.full_name||"").toLowerCase().includes(P)||(z.email||"").toLowerCase().includes(P)||(z.phone||"").includes(P)):r},[i,r]);async function E(P,z,O){var Q;try{const{error:$}=await K.from("profiles").update({belt_rank:O}).eq("id",P);if($)throw $;n({title:"Belt rank updated!"});try{const L=((Q=r.find(R=>R.id===P))==null?void 0:Q.belt_rank)||null;await K.from("belt_changes").insert({user_id:z,changed_by:e==null?void 0:e.id,old_belt:L,new_belt:O})}catch(L){console.warn("Failed to write belt change audit",L)}try{await K.from("students").upsert({user_id:z,belt_level:O})}catch(L){console.warn("Failed to sync students.belt_level",L)}await N(),d(null)}catch($){console.error("Error updating belt:",$),n({title:"Failed to update belt rank",variant:"destructive"})}}async function D(P,z){try{const{error:O}=await K.from("profiles").update({program:z}).eq("id",P);if(O)throw O;n({title:"Program updated!"}),await N()}catch(O){console.error("Error updating program:",O),n({title:"Failed to update program",variant:"destructive"})}}return l?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/instructor",children:o.jsx(F,{variant:"ghost",size:"icon",children:o.jsx(Fc,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl text-foreground flex items-center gap-2",children:[o.jsx(ta,{className:"w-5 h-5 text-primary"}),"MANAGE STUDENTS"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage student profiles"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Gj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{value:i,onChange:P=>a(P.target.value),placeholder:"Search students...",className:"pl-10 pr-4 py-2 bg-secondary border border-border rounded-lg w-64"})]})]})})}),o.jsxs("main",{className:"max-w-6xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-secondary",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Name"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Email"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Phone"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Role"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Belt"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Program"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Actions"})]})}),o.jsx("tbody",{children:T.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No students found"})}):T.map(P=>o.jsxs("tr",{className:"border-t border-border hover:bg-secondary/50",children:[o.jsx("td",{className:"p-4",children:P.full_name}),o.jsx("td",{className:"p-4 text-muted-foreground",children:P.email}),o.jsx("td",{className:"p-4 text-muted-foreground",children:P.phone||"-"}),o.jsx("td",{className:"p-4 capitalize",children:P.role}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${P.belt_rank==="black"?"bg-foreground text-background":P.belt_rank==="brown"?"bg-amber-800 text-white":P.belt_rank==="purple"?"bg-purple-600 text-white":P.belt_rank==="blue"?"bg-blue-600 text-white":P.belt_rank==="green"?"bg-green-600 text-white":P.belt_rank==="orange"?"bg-orange-500 text-white":P.belt_rank==="yellow"?"bg-yellow-400 text-black":"bg-gray-100 text-gray-800"}`,children:P.belt_rank||"white"})}),o.jsx("td",{className:"p-4 capitalize",children:P.program||"-"}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F,{variant:"outline",size:"sm",onClick:()=>f(P),disabled:b&&(h==null?void 0:h.user_id)===P.user_id,children:b&&(h==null?void 0:h.user_id)===P.user_id?o.jsx("div",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Notify"}),o.jsx(F,{variant:"outline",size:"sm",onClick:()=>d(P),children:"Edit"})]})})]},P.id))})]})})}),u&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"font-display text-lg mb-4",children:"Edit Student"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:u.full_name}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Belt Rank"}),o.jsx("select",{defaultValue:u.belt_rank||"white",id:"belt-select",className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:k.map(P=>o.jsx("option",{value:P,className:"capitalize",children:P},P))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Program"}),o.jsxs("select",{defaultValue:u.program||"adults",id:"program-select",className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:[o.jsx("option",{value:"kids",children:"Kids"}),o.jsx("option",{value:"teens",children:"Teens"}),o.jsx("option",{value:"adults",children:"Adults"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(F,{variant:"hero",onClick:async()=>{if(!u)return;const P=document.getElementById("belt-select"),z=document.getElementById("program-select");if(P&&z){j(u.user_id);try{await E(u.id,u.user_id,P.value),await D(u.id,z.value)}finally{j(null)}}},className:"flex-1",disabled:S===(u==null?void 0:u.user_id),children:S===(u==null?void 0:u.user_id)?o.jsx("div",{className:"w-4 h-4 border-2 border-background border-t-transparent rounded-full animate-spin mx-auto"}):"Save Changes"}),o.jsx(F,{variant:"outline",onClick:()=>d(null),disabled:S===(u==null?void 0:u.user_id),children:"Cancel"})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"font-display text-lg mb-2",children:"Send Notification"}),o.jsxs("p",{className:"text-muted-foreground mb-4",children:["To: ",h.full_name," (",h.email,")"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Title"}),o.jsx("input",{value:m,onChange:P=>v(P.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"Short title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Message"}),o.jsx("textarea",{value:p,onChange:P=>x(P.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg h-28",placeholder:"Write your message to the student"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Type"}),o.jsxs("select",{value:y,onChange:P=>w(P.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:[o.jsx("option",{value:"info",children:"Info"}),o.jsx("option",{value:"reminder",children:"Reminder"}),o.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(F,{variant:"hero",onClick:async()=>{if(h){_(!0);try{const{error:P}=await K.from("notifications").insert({user_id:h.user_id,title:m||"Message from instructor",message:p||"",type:y});if(P)throw P;n({title:"Notification sent"}),f(null),v(""),x(""),w("info")}catch(P){console.error("Failed to send notification",P),n({title:"Failed to send notification",variant:"destructive"})}finally{_(!1)}}},className:"flex-1",disabled:b,children:"Send"}),o.jsx(F,{variant:"outline",onClick:()=>f(null),disabled:b,children:"Cancel"})]})]})})]})]})}function OW(){const{user:e}=pt(),t=ot(),{toast:n}=mr(),[r,s]=g.useState([]),[i,a]=g.useState(!0),[l,c]=g.useState({title:"",program:"adults",location:"",day_of_week:"Monday",start_time:"18:00",end_time:"19:00",capacity:20});g.useEffect(()=>{if(!e){t("/auth");return}u()},[e,t]);async function u(){try{const{data:v,error:p}=await K.from("classes").select("*").eq("instructor_id",e==null?void 0:e.id).order("day_of_week");if(p)throw p;s(v||[])}catch(v){console.error("Error loading classes:",v)}finally{a(!1)}}async function d(){if(e){if(!l.title||!l.location){n({title:"Please fill in all fields",variant:"destructive"});return}try{const{error:v}=await K.from("classes").insert({...l,instructor_id:e.id,is_active:!0});if(v)throw v;n({title:"Class created successfully!"}),c({title:"",program:"adults",location:"",day_of_week:"Monday",start_time:"18:00",end_time:"19:00",capacity:20}),await u()}catch(v){console.error("Error creating class:",v),n({title:"Failed to create class",variant:"destructive"})}}}async function h(v){try{const{error:p}=await K.from("classes").update({is_active:!v.is_active}).eq("id",v.id);if(p)throw p;await u()}catch(p){console.error("Error toggling class:",p)}}async function f(v){if(confirm("Are you sure you want to delete this class?"))try{const{error:p}=await K.from("classes").delete().eq("id",v);if(p)throw p;n({title:"Class deleted"}),await u()}catch(p){console.error("Error deleting class:",p),n({title:"Failed to delete class",variant:"destructive"})}}const m=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return i?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/instructor",children:o.jsx(F,{variant:"ghost",size:"icon",children:o.jsx(Fc,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl text-foreground flex items-center gap-2",children:[o.jsx(Qt,{className:"w-5 h-5 text-primary"}),"MANAGE CLASSES"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and manage your class schedule"})]})]})})}),o.jsx("main",{className:"max-w-6xl mx-auto px-6 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[o.jsxs("h2",{className:"font-display text-lg mb-4 flex items-center gap-2",children:[o.jsx($y,{className:"w-5 h-5 text-primary"}),"CREATE NEW CLASS"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Title"}),o.jsx("input",{value:l.title,onChange:v=>c({...l,title:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"e.g. Kids Karate"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Location"}),o.jsx("input",{value:l.location,onChange:v=>c({...l,location:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"e.g. Main Dojo"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Program"}),o.jsxs("select",{value:l.program,onChange:v=>c({...l,program:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:[o.jsx("option",{value:"kids",children:"Kids"}),o.jsx("option",{value:"teens",children:"Teens"}),o.jsx("option",{value:"adults",children:"Adults"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Day"}),o.jsx("select",{value:l.day_of_week,onChange:v=>c({...l,day_of_week:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:m.map(v=>o.jsx("option",{value:v,children:v},v))})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Start Time"}),o.jsx("input",{type:"time",value:l.start_time,onChange:v=>c({...l,start_time:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"End Time"}),o.jsx("input",{type:"time",value:l.end_time,onChange:v=>c({...l,end_time:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Capacity"}),o.jsx("input",{type:"number",value:l.capacity,onChange:v=>c({...l,capacity:parseInt(v.target.value)}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg"})]})]}),o.jsx(F,{variant:"hero",onClick:d,className:"w-full",children:"Create Class"})]})]}),o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[o.jsx("h2",{className:"font-display text-lg mb-4",children:"YOUR CLASSES"}),r.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No classes created yet. Create your first class!"}):o.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:r.map(v=>o.jsx("div",{className:`p-4 bg-secondary rounded-lg border ${v.is_active?"border-primary/30":"border-border opacity-60"}`,children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:v.title}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.day_of_week,"  ",v.start_time," - ",v.end_time]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.location,"  ",v.program,"  Capacity: ",v.capacity]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(F,{variant:"outline",size:"sm",onClick:()=>h(v),children:v.is_active?"Deactivate":"Activate"}),o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>f(v.id),className:"text-destructive",children:o.jsx(Fy,{className:"w-4 h-4"})})]})]})},v.id))})]})]})})]})}const IW=()=>{const{data:e,isLoading:t}=HE("all"),[n,r]=g.useState(null),[s,i]=g.useState({}),a=Cn(),l=fr({mutationFn:async h=>{const{data:f,error:m}=await K.from("videos").update(h.changes).eq("id",h.id).select().maybeSingle();if(m)throw m;return f},onSuccess:()=>{a.invalidateQueries(["videos"]),r(null)}}),c=fr({mutationFn:async h=>{const{data:f,error:m}=await K.from("videos").select("video_url").eq("id",h).maybeSingle();if(m)throw m;if(f&&f.video_url&&typeof f.video_url=="string")try{const x=f.video_url.match(/\/storage\/v1\/object\/public\/([^\/]+)\/(.+)$/);if(x){const y=x[1],w=decodeURIComponent(x[2]);await K.storage.from(y).remove([w])}}catch(p){console.warn("Failed to remove storage object",p)}const{error:v}=await K.from("videos").delete().eq("id",h);if(v)throw v;return h},onSuccess:()=>a.invalidateQueries(["videos"])}),u=h=>{r(h),i({title:h.title,description:h.description,category:h.category,minimum_belt_rank:h.minimum_belt_rank,is_public:h.is_public})},d=async h=>{h.preventDefault(),n&&await l.mutateAsync({id:n.id,changes:s})};return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Instructor  Manage Videos"}),t?o.jsx("div",{children:"Loading videos"}):e&&e.length>0?o.jsx("div",{className:"space-y-3",children:e.map(h=>o.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:h.title}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.category,"  ",h.instructor_name||""]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>u(h),className:"px-3 py-1 bg-yellow-600 rounded text-black text-sm",children:"Edit"}),o.jsx("button",{onClick:()=>{confirm("Delete this video? This cannot be undone.")&&c.mutate(h.id)},className:"px-3 py-1 bg-red-600 rounded text-white text-sm",children:"Delete"})]})]},h.id))}):o.jsx("div",{children:"No videos found."}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4",children:o.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-900 rounded max-w-lg w-full p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Edit Video"}),o.jsx("label",{className:"block text-sm",children:"Title"}),o.jsx("input",{className:"w-full mb-3 p-2 border rounded",value:s.title??"",onChange:h=>i(f=>({...f,title:h.target.value}))}),o.jsx("label",{className:"block text-sm",children:"Description"}),o.jsx("textarea",{className:"w-full mb-3 p-2 border rounded",value:s.description??"",onChange:h=>i(f=>({...f,description:h.target.value}))}),o.jsx("label",{className:"block text-sm",children:"Category"}),o.jsx("input",{className:"w-full mb-3 p-2 border rounded",value:s.category??"",onChange:h=>i(f=>({...f,category:h.target.value}))}),o.jsx("label",{className:"block text-sm",children:"Minimum Belt Rank"}),o.jsx("input",{className:"w-full mb-3 p-2 border rounded",value:s.minimum_belt_rank??"",onChange:h=>i(f=>({...f,minimum_belt_rank:h.target.value}))}),o.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[o.jsx("input",{type:"checkbox",checked:!!s.is_public,onChange:h=>i(f=>({...f,is_public:h.target.checked}))}),o.jsx("span",{className:"text-sm",children:"Public"})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>r(null),className:"px-3 py-1 border rounded",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l.isLoading,className:"px-3 py-1 bg-green-600 rounded text-white",children:l.isLoading?"Saving":"Save"})]})]})})]})};function DW(){const{user:e,profile:t,refreshProfile:n}=pt(),r=ot(),{toast:s}=mr(),[i,a]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState(!1),[h,f]=g.useState(null),[m,v]=g.useState(null),p=g.useRef(null);g.useEffect(()=>{if(!e){r("/auth");return}t&&(a(t.phone||""),c(t.full_name||""),f(t.avatar_url||null))},[e,t,r]);function x(w){var S;const b=(S=w.target.files)==null?void 0:S[0];if(!b)return;v(b);const _=new FileReader;_.onload=()=>f(String(_.result)),_.readAsDataURL(b)}async function y(){if(e){d(!0);try{let w=(t==null?void 0:t.avatar_url)??null;if(m){const _=`avatars/${e.id}/${Date.now()}_${m.name}`,{error:S}=await K.storage.from("avatars").upload(_,m,{upsert:!0});if(S)console.error("Avatar upload error:",S),s({title:"Avatar upload failed",description:"Check if storage bucket exists",variant:"destructive"});else{const{data:j}=K.storage.from("avatars").getPublicUrl(_);w=j.publicUrl}}const{error:b}=await K.from("profiles").update({full_name:l,phone:i.replace(/\D/g,""),avatar_url:w}).eq("user_id",e.id);if(b)throw b;await n(),s({title:"Profile updated successfully!"})}catch(w){console.error("Save error:",w),s({title:"Failed to save profile",variant:"destructive"})}finally{d(!1)}}}return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/instructor",children:o.jsx(F,{variant:"ghost",size:"icon",children:o.jsx(Fc,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl text-foreground flex items-center gap-2",children:[o.jsx(js,{className:"w-5 h-5 text-primary"}),"EDIT PROFILE"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your instructor profile"})]})]})})}),o.jsx("main",{className:"max-w-4xl mx-auto px-6 py-8",children:o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-40 h-40 mx-auto bg-secondary rounded-full overflow-hidden mb-4 border-4 border-primary/20",children:h?o.jsx("img",{src:h,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(js,{className:"w-16 h-16 text-muted-foreground"})})}),o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx(F,{variant:"outline",size:"sm",onClick:()=>{var w;return(w=p.current)==null?void 0:w.click()},children:"Upload Photo"}),o.jsx("input",{ref:p,type:"file",accept:"image/*",className:"hidden",onChange:x}),h&&o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>{v(null),f(null)},children:"Remove"})]})]}),o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),o.jsx("input",{value:l,onChange:w=>c(w.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"Your full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("input",{value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full mt-1 p-3 bg-secondary/50 border border-border rounded-lg text-muted-foreground cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone Number"}),o.jsx("input",{value:i,onChange:w=>a(w.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"Your phone number"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(F,{variant:"hero",onClick:y,disabled:u,className:"flex-1",children:u?"Saving...":"Save Changes"}),o.jsx(F,{variant:"outline",onClick:()=>r("/instructor"),children:"Cancel"})]})]})]})})})]})}function MW(){const{user:e,profile:t,refreshProfile:n,loading:r}=pt(),s=ot(),[i,a]=g.useState("White"),[l,c]=g.useState("kids"),[u,d]=g.useState("Mwiki"),[h,f]=g.useState(""),[m,v]=g.useState(!1),[p,x]=g.useState(null);g.useEffect(()=>{!r&&!e&&s("/auth"),(async()=>{if(!e)return;const{data:b}=await K.from("students").select("id").eq("user_id",e.id).maybeSingle();b&&s("/dashboard")})()},[e,r,s]),g.useEffect(()=>{t&&(t.phone&&f(t.phone),t.belt_rank&&a(t.belt_rank),t.program&&(t.program==="kids"||t.program==="teens"||t.program==="adults")&&c(t.program),t.location&&d(t.location))},[t]);async function y(w){if(w.preventDefault(),x(null),!!e){v(!0);try{const{error:b}=await K.from("students").upsert({user_id:e.id,belt_level:i,program:l,location:u,enrollment_date:new Date().toISOString().slice(0,10)},{onConflict:"user_id"});if(b)throw b;const{error:_}=await K.from("profiles").upsert({user_id:e.id,full_name:(t==null?void 0:t.full_name)??void 0,email:(t==null?void 0:t.email)??void 0,phone:h,belt_rank:i,program:l,location:u},{onConflict:"user_id"});if(_)throw _;await n(),s("/dashboard")}catch(b){x(b.message||String(b))}finally{v(!1)}}}return o.jsx("div",{className:"min-h-screen bg-black text-white py-12 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto bg-gray-900 rounded-lg p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Complete Your Onboarding"}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Finish your student profile so instructors can place you in the right class."}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Full name"}),o.jsx("input",{readOnly:!0,value:(t==null?void 0:t.full_name)??"",className:"w-full bg-gray-800 px-3 py-2 rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Phone"}),o.jsx("input",{value:h,onChange:w=>f(w.target.value),placeholder:"0713...",className:"w-full bg-gray-800 px-3 py-2 rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Program"}),o.jsxs("select",{value:l,onChange:w=>c(w.target.value),className:"w-full bg-gray-800 px-3 py-2 rounded",children:[o.jsx("option",{value:"kids",children:"Kids"}),o.jsx("option",{value:"teens",children:"Teens"}),o.jsx("option",{value:"adults",children:"Adults"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Location"}),o.jsxs("select",{value:u,onChange:w=>d(w.target.value),className:"w-full bg-gray-800 px-3 py-2 rounded",children:[o.jsx("option",{children:"Mwiki"}),o.jsx("option",{children:"Kasarani"}),o.jsx("option",{children:"Sunton Mwiki"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Current belt level"}),o.jsxs("select",{value:i,onChange:w=>a(w.target.value),className:"w-full bg-gray-800 px-3 py-2 rounded",children:[o.jsx("option",{children:"White belt"}),o.jsx("option",{children:"Yellow belt"}),o.jsx("option",{children:"Orange belt"}),o.jsx("option",{children:"Purple belt"}),o.jsx("option",{children:"Green belt"}),o.jsx("option",{children:"Brown belt"}),o.jsx("option",{children:"Black belt"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Belt assignment will be confirmed by your instructor."})]}),p&&o.jsx("div",{className:"text-sm text-red-400",children:p}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-yellow-600 text-black rounded",children:m?"Saving...":"Complete Onboarding"}),o.jsx("button",{type:"button",onClick:()=>s("/dashboard"),className:"px-4 py-2 bg-gray-800 rounded",children:"Skip"})]})]})]})})}const LW=()=>{const e=na();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},$W=[{to:"/admin",label:"Overview",icon:Od},{to:"/admin/classes",label:"Classes",icon:Qt},{to:"/admin/users",label:"Users",icon:ta},{to:"/admin/notifications",label:"Notifications",icon:Ad},{to:"/admin/gallery",label:"Gallery",icon:O0},{to:"/admin/reports",label:"Reports",icon:O0},{to:"/instructor/upload",label:"Upload Video",icon:SO},{to:"/admin/settings",label:"Settings",icon:vO}];function V1({compact:e}){const t=na();return o.jsxs("aside",{className:`bg-card border border-border rounded-xl p-3 sm:p-4 ${e?"w-20":"w-full sm:w-64"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-primary rounded flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold",children:"IF"})}),!e&&o.jsxs("div",{className:"hidden sm:block",children:[o.jsx("div",{className:"font-display text-sm text-foreground",children:"Admin"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Control Panel"})]})]}),!e&&o.jsx("div",{className:"mb-3 hidden sm:block",children:o.jsx(Xv,{current:"admin"})}),o.jsx("nav",{className:"flex flex-col gap-1",children:$W.map(n=>{const r=n.icon,s=t.pathname===n.to||!e&&t.pathname.startsWith(n.to);return o.jsxs(we,{to:n.to,className:`flex items-center gap-3 p-2 rounded-md hover:bg-accent transition-colors ${s?"bg-primary/10":""}`,children:[o.jsx(r,{className:"w-5 h-5 text-primary"}),!e&&o.jsx("span",{className:"text-sm text-foreground hidden sm:inline",children:n.label})]},n.to)})}),o.jsxs("div",{className:"mt-6 text-xs text-muted-foreground hidden sm:block",children:[o.jsx("div",{children:"Version: 1.0"}),o.jsx("div",{className:"mt-2",children:"Last sync: --"})]})]})}function Sm({title:e,value:t,icon:n}){return o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 sm:p-5 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:e}),o.jsx("div",{className:"text-xl sm:text-3xl font-medium text-foreground mt-1",children:t})]}),n&&o.jsx(n,{className:"w-6 sm:w-10 h-6 sm:h-10 text-primary"})]})}function FW(){const[e,t]=g.useState(!1),[n,r]=g.useState(!1),s=g.useRef(null),i=g.useRef(null),{data:a,isLoading:l}=lx(),{data:c}=Zh();return g.useEffect(()=>{if(!e)return;i.current=document.activeElement;const u=s.current;if(!u)return;const h=Array.from(u.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])')),f=h[0],m=h[h.length-1];(f||u).focus();function v(p){if(p.key==="Escape"&&t(!1),p.key==="Tab"){if(!h.length){p.preventDefault();return}p.shiftKey&&document.activeElement===f?(p.preventDefault(),m.focus()):!p.shiftKey&&document.activeElement===m&&(p.preventDefault(),f.focus())}}return document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v),i.current&&i.current.focus()}},[e]),o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[o.jsx("div",{className:"hidden lg:block lg:col-span-3",children:o.jsx(V1,{})}),o.jsx(xc,{children:e&&o.jsxs(V.div,{className:"lg:hidden fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>t(!1)}),o.jsxs(V.aside,{ref:u=>s.current=u,initial:{x:-320},animate:{x:0},exit:{x:-320},transition:{type:"spring",stiffness:260,damping:30},className:"absolute left-0 top-0 bottom-0 w-72 p-4","aria-modal":"true",role:"dialog",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-medium",children:"Admin"}),o.jsx("button",{"aria-label":"Close menu",className:"p-2 rounded-md hover:bg-muted",onClick:()=>t(!1),children:o.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M6 6l12 12M6 18L18 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),o.jsx(V1,{compact:!1})]})]})}),o.jsxs("div",{className:"lg:col-span-9 space-y-6",children:[o.jsxs("header",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"sm:hidden",children:o.jsx("button",{"aria-label":"Open menu",onClick:()=>t(!0),className:"p-2 rounded-md bg-card border border-border",children:o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-2xl sm:text-3xl text-foreground",children:"Admin Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Manage classes, users, notifications, and reports"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"hidden sm:block",children:o.jsx(Xv,{current:"admin"})}),o.jsx(F,{variant:"ghost",size:"sm",children:"Import"}),o.jsx(F,{size:"sm",children:"New"})]})]}),o.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsx(Sm,{title:"Active Students",value:l?"":(a==null?void 0:a.studentCount)??0,icon:ta}),o.jsx(Sm,{title:"Upcoming Classes",value:l?"":(a==null?void 0:a.classCount)??0,icon:Qt}),o.jsx(Sm,{title:"Monthly Attendance",value:l?"":(a==null?void 0:a.monthlyAttendance)??0,icon:hO})]}),o.jsx(Yh,{open:n,onOpenChange:r,children:o.jsxs(Yc,{className:"max-w-4xl w-full",children:[o.jsx(Qc,{children:o.jsx(Zc,{children:"Manage Students"})}),o.jsx("div",{className:"py-2",children:o.jsx(kP,{})})]})}),o.jsxs("section",{className:"mt-4 bg-card border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Manage Students"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F,{variant:"ghost",size:"sm",onClick:()=>r(!0),children:"Manage"}),o.jsx(we,{to:"/instructor/users",className:"text-sm text-primary",children:"Open User Manager "})]})]}),o.jsxs("div",{className:"space-y-2",children:[(c||[]).slice(0,5).map(u=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:u.full_name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:u.email})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:u.program||""})]},u.id)),(c||[]).length===0&&o.jsx("div",{className:"text-sm text-muted-foreground",children:"No students yet."})]})]}),o.jsx("section",{className:"mt-4",children:o.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Upload Training Video"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Add a new training video to the library"})]}),o.jsx("div",{children:o.jsx(we,{to:"/instructor/upload",children:o.jsx(F,{children:"Upload"})})})]})}),o.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(BE,{}),o.jsx(VE,{})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"font-display text-lg text-foreground",children:"Manage Classes"}),o.jsx(we,{to:"/admin/classes",className:"text-sm text-primary",children:"Open Class Manager "})]}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsx(cx,{})})]})]})]})]})})}const Ja=g.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:oe("w-full caption-bottom text-sm",e),...t})}));Ja.displayName="Table";const Xa=g.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:oe("[&_tr]:border-b",e),...t}));Xa.displayName="TableHeader";const eo=g.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:oe("[&_tr:last-child]:border-0",e),...t}));eo.displayName="TableBody";const UW=g.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));UW.displayName="TableFooter";const Hn=g.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:oe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Hn.displayName="TableRow";const Ct=g.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ct.displayName="TableHead";const Et=g.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Et.displayName="TableCell";const VW=g.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:oe("mt-4 text-sm text-muted-foreground",e),...t}));VW.displayName="TableCaption";function BW(){const e=ot(),{data:t,isLoading:n}=Zh(),r=wW(),[s,i]=g.useState({}),[a,l]=g.useState({}),c=async(u,d)=>{const h=u.user_id||u.id;l(f=>({...f,[h]:d})),i(f=>({...f,[h]:!0}));try{await r.mutateAsync({user_id:h,role:d})}catch(f){console.error("Failed to update role",f),l(m=>{const v={...m};return delete v[h],v})}finally{i(f=>({...f,[h]:!1}))}};return o.jsx("div",{className:"min-h-screen bg-background p-4 sm:p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4 sm:mb-6",children:[o.jsx(F,{variant:"ghost",onClick:()=>e(-1),className:"p-2",children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-2xl",children:"User Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Search, view and manage users"})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[o.jsx(F,{className:"flex-1 sm:flex-none",children:"Invite"}),o.jsx(F,{variant:"outline",children:"Export"})]})]}),o.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[o.jsx(we,{to:"/admin",className:"text-primary",children:"Admin"}),o.jsx("span",{className:"mx-2",children:"/"}),o.jsx("span",{children:"User Management"})]})]})]}),o.jsx("div",{className:"hidden sm:block bg-card border border-border rounded-lg overflow-auto",children:o.jsxs(Ja,{children:[o.jsx(Xa,{children:o.jsxs(Hn,{children:[o.jsx(Ct,{children:"Name"}),o.jsx(Ct,{children:"Email"}),o.jsx(Ct,{children:"Role"}),o.jsx(Ct,{children:"Joined"}),o.jsx(Ct,{})]})}),o.jsx(eo,{children:(t||[]).map(u=>o.jsxs(Hn,{children:[o.jsx(Et,{children:u.full_name}),o.jsx(Et,{children:u.email}),o.jsx(Et,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"rounded-md border px-2 py-1 text-sm",value:a[u.user_id||u.id]||u.role||"student",onChange:d=>c(u,d.target.value),disabled:!!s[u.user_id||u.id],children:[o.jsx("option",{value:"student",children:"student"}),o.jsx("option",{value:"instructor",children:"instructor"}),o.jsx("option",{value:"admin",children:"admin"})]}),s[u.user_id||u.id]&&o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})]})}),o.jsx(Et,{children:new Date(u.inserted_at||u.created_at).toLocaleDateString()}),o.jsx(Et,{className:"text-right",children:o.jsx(F,{size:"sm",variant:"ghost",children:"View"})})]},u.id))})]})}),o.jsx("div",{className:"sm:hidden space-y-3",children:(t||[]).map(u=>o.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:u.full_name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:u.email}),o.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Role: ",o.jsx("span",{className:"font-medium text-foreground",children:u.role||"student"})]}),o.jsx("div",{className:"mt-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"rounded-md border px-2 py-1 text-sm mt-2",value:a[u.user_id||u.id]||u.role||"student",onChange:d=>c(u,d.target.value),disabled:!!s[u.user_id||u.id],children:[o.jsx("option",{value:"student",children:"student"}),o.jsx("option",{value:"instructor",children:"instructor"}),o.jsx("option",{value:"admin",children:"admin"})]}),s[u.user_id||u.id]&&o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})]})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(F,{size:"sm",variant:"ghost",children:"View"})})]})},u.id))})]})})}function zW(){const e=ot(),{notifications:t,isLoading:n,markAsRead:r,markAllAsRead:s}=Gv();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-md hover:bg-muted bg-card border border-border",children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-2xl",children:"Notifications"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage notifications"}),o.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:[o.jsx(we,{to:"/admin",className:"text-primary",children:"Admin"}),o.jsx("span",{className:"mx-2",children:"/"}),o.jsx("span",{children:"Notifications"})]})]})]}),o.jsx("div",{children:o.jsx(F,{variant:"outline",onClick:()=>s&&s(),children:"Mark all read"})})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 space-y-3",children:[(t||[]).map(i=>o.jsx("div",{className:`p-3 rounded ${i.is_read?"opacity-60":"bg-secondary/40"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:i.title}),i.body&&o.jsx("div",{className:"text-sm text-muted-foreground",children:i.body})]}),o.jsx("div",{className:"flex items-center gap-2",children:!i.is_read&&o.jsx(F,{size:"sm",onClick:()=>r&&r(i.id),children:"Mark read"})})]})},i.id)),(t||[]).length===0&&o.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No notifications"})]})]})})}function WW(){const e=ot();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-md hover:bg-muted bg-card border border-border",children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-2xl",children:"Classes"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage class schedules and templates"}),o.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:[o.jsx(we,{to:"/admin",className:"text-primary",children:"Admin"}),o.jsx("span",{className:"mx-2",children:"/"}),o.jsx("span",{children:"Classes"})]})]})]}),o.jsx(cx,{})]})})}function HW(){const e=ot(),{user:t}=pt(),{toast:n}=mr(),[r,s]=g.useState(()=>localStorage.getItem("siteTitle")||"Iron Fist Dojo"),[i,a]=g.useState(()=>{const h=localStorage.getItem("registrationsOpen");return h===null?!0:h==="true"}),[l,c]=g.useState(()=>localStorage.getItem("maintenanceMode")==="true");g.useEffect(()=>{},[t]);const u=()=>{localStorage.setItem("siteTitle",r),localStorage.setItem("registrationsOpen",String(i)),localStorage.setItem("maintenanceMode",String(l)),n({title:"Settings saved"})},d=()=>{s("Iron Fist Dojo"),a(!0),c(!1),n({title:"Settings reset to defaults"})};return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-md hover:bg-muted bg-card border border-border",children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-2xl",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Application and operational settings for the dojo"}),o.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:[o.jsx(we,{to:"/admin",className:"text-primary",children:"Admin"}),o.jsx("span",{className:"mx-2",children:"/"}),o.jsx("span",{children:"Settings"})]})]})]}),o.jsxs("section",{className:"bg-card border border-border rounded-lg p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx(et,{children:"Site Title"}),o.jsx(qt,{value:r,onChange:h=>s(h.target.value),className:"mt-2"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Registrations"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Allow new users to sign up"})]}),o.jsx(Cc,{checked:i,onCheckedChange:h=>a(!!h)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Maintenance Mode"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Prevent site access for regular users"})]}),o.jsx(Cc,{checked:l,onCheckedChange:h=>c(!!h)})]}),o.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[o.jsx(F,{onClick:u,children:"Save Settings"}),o.jsx(F,{variant:"outline",onClick:d,children:"Reset"})]})]})]})})}function Mu(e,t){if(!t||!t.length)return;const n=Object.keys(t[0]),r=[n.join(",")].concat(t.map(l=>n.map(c=>{const u=l[c]??"";return`"${String(u).replace(/"/g,'""')}"`}).join(","))).join(`
`),s=new Blob([r],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(s),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(i)}function qW(){const e=ot(),{data:t,isLoading:n}=lx(),{data:r}=Zh(),{data:s}=jP();return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-md hover:bg-muted bg-card border border-border",children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-2xl",children:"Reports"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Operational reports and exports"}),o.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:[o.jsx(we,{to:"/admin",className:"text-primary",children:"Admin"}),o.jsx("span",{className:"mx-2",children:"/"}),o.jsx("span",{children:"Reports"})]})]})]}),o.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Students"}),o.jsx("div",{className:"text-2xl font-medium mt-1",children:n?"":(t==null?void 0:t.studentCount)??0})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Active classes"}),o.jsx("div",{className:"text-2xl font-medium mt-1",children:n?"":(t==null?void 0:t.classCount)??0})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Attendance (30d)"}),o.jsx("div",{className:"text-2xl font-medium mt-1",children:n?"":(t==null?void 0:t.monthlyAttendance)??0})]})]}),o.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-medium",children:"Belt Distribution"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(F,{size:"sm",variant:"ghost",onClick:()=>Mu("belt-distribution.csv",Object.entries((t==null?void 0:t.beltDistribution)||{}).map(([i,a])=>({belt:i,count:a}))),children:"Export CSV"})})]}),o.jsx("div",{children:o.jsxs(Ja,{children:[o.jsx(Xa,{children:o.jsxs(Hn,{children:[o.jsx(Ct,{children:"Belt"}),o.jsx(Ct,{children:"Count"})]})}),o.jsx(eo,{children:Object.entries((t==null?void 0:t.beltDistribution)||{}).map(([i,a])=>o.jsxs(Hn,{children:[o.jsx(Et,{children:i}),o.jsx(Et,{children:a})]},i))})]})})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-medium",children:"Program Distribution"}),o.jsx(F,{size:"sm",variant:"ghost",onClick:()=>Mu("program-distribution.csv",Object.entries((t==null?void 0:t.programDistribution)||{}).map(([i,a])=>({program:i,count:a}))),children:"Export CSV"})]}),o.jsx("div",{children:o.jsxs(Ja,{children:[o.jsx(Xa,{children:o.jsxs(Hn,{children:[o.jsx(Ct,{children:"Program"}),o.jsx(Ct,{children:"Count"})]})}),o.jsx(eo,{children:Object.entries((t==null?void 0:t.programDistribution)||{}).map(([i,a])=>o.jsxs(Hn,{children:[o.jsx(Et,{children:i}),o.jsx(Et,{children:a})]},i))})]})})]})]}),o.jsxs("section",{className:"mt-6 bg-card border border-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-medium",children:"Recent Attendance"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(F,{size:"sm",variant:"outline",onClick:()=>Mu("attendance.csv",(s||[]).map(i=>({id:i.id,user_id:i.user_id,class_id:i.class_id,attended_at:i.attended_at}))),children:"Export CSV"}),o.jsx(F,{size:"sm",onClick:()=>Mu("students.csv",(r||[]).map(i=>({id:i.id,full_name:i.full_name,email:i.email,belt_rank:i.belt_rank,program:i.program}))),children:"Export Students"})]})]}),o.jsx("div",{className:"overflow-auto",children:o.jsxs(Ja,{children:[o.jsx(Xa,{children:o.jsxs(Hn,{children:[o.jsx(Ct,{children:"When"}),o.jsx(Ct,{children:"Student"}),o.jsx(Ct,{children:"Class"})]})}),o.jsx(eo,{children:(s||[]).map(i=>{var a,l;return o.jsxs(Hn,{children:[o.jsx(Et,{children:new Date(i.attended_at).toLocaleString()}),o.jsx(Et,{children:((a=i.profiles)==null?void 0:a.full_name)||i.user_id}),o.jsx(Et,{children:((l=i.classes)==null?void 0:l.title)||i.class_id})]},i.id)})})]})})]})]})})}function KW(){const e=ot(),[t,n]=g.useState([]),[r,s]=g.useState(""),[i,a]=g.useState("");g.useEffect(()=>{n(_c())},[]);function l(){if(!r)return;const d=LB({image_url:r,alt:i});n(d),s(""),a("")}function c(d){const h=$B(d);n(h)}function u(d,h){const f=[...t],m=h,v=d?h-1:h+1;if(v<0||v>=f.length)return;const p=f[m];f[m]=f[v],f[v]=p,Qv(f),n(f)}return o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded-md hover:bg-muted bg-card border border-border",children:o.jsx(Io,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-2xl",children:"Gallery"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage public gallery images"})]})]}),o.jsx("section",{className:"bg-card border border-border rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(qt,{placeholder:"Image URL",value:r,onChange:d=>s(d.target.value)}),o.jsx(qt,{placeholder:"Alt text",value:i,onChange:d=>a(d.target.value)}),o.jsx(F,{onClick:l,children:"Add"})]})}),o.jsx("section",{className:"bg-card border border-border rounded-lg p-4",children:o.jsxs(Ja,{children:[o.jsx(Xa,{children:o.jsxs(Hn,{children:[o.jsx(Ct,{children:"Preview"}),o.jsx(Ct,{children:"Alt"}),o.jsx(Ct,{children:"Actions"})]})}),o.jsx(eo,{children:t.map((d,h)=>o.jsxs(Hn,{children:[o.jsx(Et,{children:o.jsx("img",{src:d.image_url,alt:d.alt,className:"w-24 h-16 object-cover rounded"})}),o.jsx(Et,{children:d.alt}),o.jsxs(Et,{className:"flex items-center gap-2",children:[o.jsx(F,{size:"sm",variant:"ghost",onClick:()=>u(!0,h),children:""}),o.jsx(F,{size:"sm",variant:"ghost",onClick:()=>u(!1,h),children:""}),o.jsx(F,{size:"sm",variant:"destructive",onClick:()=>c(d.id),children:"Remove"})]})]},d.id))})]})})]})})}function hi({children:e}){const{session:t,loading:n}=pt(),{data:r,isLoading:s}=iE();return n||s?null:t?r==="admin"||r==="instructor"?o.jsx(o.Fragment,{children:e}):o.jsx(dw,{to:"/dashboard",replace:!0}):o.jsx(dw,{to:"/auth",replace:!0})}const GW=new FM,YW=()=>o.jsx(WM,{client:GW,children:o.jsx(_M,{children:o.jsx(Z4,{basename:"/karate",children:o.jsxs(M5,{children:[o.jsx(aI,{}),o.jsx($I,{}),o.jsxs(W4,{children:[o.jsx(rt,{path:"/",element:o.jsx(HB,{})}),o.jsx(rt,{path:"/auth",element:o.jsx(_z,{})}),o.jsx(rt,{path:"/dashboard",element:o.jsx(z8,{})}),o.jsx(rt,{path:"/videos",element:o.jsx(J8,{})}),o.jsx(rt,{path:"/instructor",element:o.jsx(PW,{})}),o.jsx(rt,{path:"/instructor/upload",element:o.jsx(AW,{})}),o.jsx(rt,{path:"/instructor/users",element:o.jsx(kP,{})}),o.jsx(rt,{path:"/instructor/videos",element:o.jsx(IW,{})}),o.jsx(rt,{path:"/instructor/classes",element:o.jsx(OW,{})}),o.jsx(rt,{path:"/instructor/profile",element:o.jsx(DW,{})}),o.jsx(rt,{path:"/onboarding",element:o.jsx(MW,{})}),o.jsx(rt,{path:"/admin",element:o.jsx(hi,{children:o.jsx(FW,{})})}),o.jsx(rt,{path:"/admin/classes",element:o.jsx(hi,{children:o.jsx(WW,{})})}),o.jsx(rt,{path:"/admin/users",element:o.jsx(hi,{children:o.jsx(BW,{})})}),o.jsx(rt,{path:"/admin/notifications",element:o.jsx(hi,{children:o.jsx(zW,{})})}),o.jsx(rt,{path:"/admin/gallery",element:o.jsx(hi,{children:o.jsx(KW,{})})}),o.jsx(rt,{path:"/admin/reports",element:o.jsx(hi,{children:o.jsx(qW,{})})}),o.jsx(rt,{path:"/admin/settings",element:o.jsx(hi,{children:o.jsx(HW,{})})}),o.jsx(rt,{path:"*",element:o.jsx(LW,{})})]})]})})})});hj(document.getElementById("root")).render(o.jsx(YW,{}));
