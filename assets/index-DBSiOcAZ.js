var jx=e=>{throw TypeError(e)};var Jh=(e,t,n)=>t.has(e)||jx("Cannot "+n);var N=(e,t,n)=>(Jh(e,t,"read from private field"),n?n.call(e):t.get(e)),re=(e,t,n)=>t.has(e)?jx("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),H=(e,t,n,r)=>(Jh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pe=(e,t,n)=>(Jh(e,t,"access private method"),n);var Gc=(e,t,n,r)=>({set _(s){H(e,t,s,n)},get _(){return N(e,t,r)}});function PR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function cS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uS={exports:{}},nh={},dS={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),RR=Symbol.for("react.portal"),AR=Symbol.for("react.fragment"),OR=Symbol.for("react.strict_mode"),IR=Symbol.for("react.profiler"),DR=Symbol.for("react.provider"),MR=Symbol.for("react.context"),LR=Symbol.for("react.forward_ref"),$R=Symbol.for("react.suspense"),FR=Symbol.for("react.memo"),UR=Symbol.for("react.lazy"),kx=Symbol.iterator;function VR(e){return e===null||typeof e!="object"?null:(e=kx&&e[kx]||e["@@iterator"],typeof e=="function"?e:null)}var hS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fS=Object.assign,mS={};function Po(e,t,n){this.props=e,this.context=t,this.refs=mS,this.updater=n||hS}Po.prototype.isReactComponent={};Po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pS(){}pS.prototype=Po.prototype;function Fg(e,t,n){this.props=e,this.context=t,this.refs=mS,this.updater=n||hS}var Ug=Fg.prototype=new pS;Ug.constructor=Fg;fS(Ug,Po.prototype);Ug.isPureReactComponent=!0;var Cx=Array.isArray,gS=Object.prototype.hasOwnProperty,Vg={current:null},yS={key:!0,ref:!0,__self:!0,__source:!0};function vS(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)gS.call(t,r)&&!yS.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ec,type:e,key:i,ref:a,props:s,_owner:Vg.current}}function BR(e,t){return{$$typeof:Ec,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ec}function zR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nx=/\/+/g;function ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zR(""+e.key):t.toString(36)}function Ru(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ec:case RR:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+ef(a,0):r,Cx(s)?(n="",e!=null&&(n=e.replace(Nx,"$&/")+"/"),Ru(s,t,n,"",function(u){return u})):s!=null&&(Bg(s)&&(s=BR(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Nx,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Cx(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+ef(i,l);a+=Ru(i,t,n,c,s)}else if(c=VR(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+ef(i,l++),a+=Ru(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Yc(e,t,n){if(e==null)return e;var r=[],s=0;return Ru(e,r,"","",function(i){return t.call(n,i,s++)}),r}function WR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},Au={transition:null},HR={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Au,ReactCurrentOwner:Vg};function xS(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Yc,forEach:function(e,t,n){Yc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yc(e,function(){t++}),t},toArray:function(e){return Yc(e,function(t){return t})||[]},only:function(e){if(!Bg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Po;ve.Fragment=AR;ve.Profiler=IR;ve.PureComponent=Fg;ve.StrictMode=OR;ve.Suspense=$R;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;ve.act=xS;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fS({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Vg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gS.call(t,c)&&!yS.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ec,type:e.type,key:s,ref:i,props:r,_owner:a}};ve.createContext=function(e){return e={$$typeof:MR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DR,_context:e},e.Consumer=e};ve.createElement=vS;ve.createFactory=function(e){var t=vS.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:LR,render:e}};ve.isValidElement=Bg;ve.lazy=function(e){return{$$typeof:UR,_payload:{_status:-1,_result:e},_init:WR}};ve.memo=function(e,t){return{$$typeof:FR,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Au.transition;Au.transition={};try{e()}finally{Au.transition=t}};ve.unstable_act=xS;ve.useCallback=function(e,t){return $t.current.useCallback(e,t)};ve.useContext=function(e){return $t.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};ve.useEffect=function(e,t){return $t.current.useEffect(e,t)};ve.useId=function(){return $t.current.useId()};ve.useImperativeHandle=function(e,t,n){return $t.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return $t.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return $t.current.useReducer(e,t,n)};ve.useRef=function(e){return $t.current.useRef(e)};ve.useState=function(e){return $t.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return $t.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return $t.current.useTransition()};ve.version="18.3.1";dS.exports=ve;var p=dS.exports;const $=cS(p),zg=PR({__proto__:null,default:$},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR=p,KR=Symbol.for("react.element"),GR=Symbol.for("react.fragment"),YR=Object.prototype.hasOwnProperty,QR=qR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XR={key:!0,ref:!0,__self:!0,__source:!0};function wS(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)YR.call(t,r)&&!XR.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:KR,type:e,key:i,ref:a,props:s,_owner:QR.current}}nh.Fragment=GR;nh.jsx=wS;nh.jsxs=wS;uS.exports=nh;var o=uS.exports,bS={exports:{}},dn={},SS={exports:{}},_S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,A){var V=R.length;R.push(A);e:for(;0<V;){var ae=V-1>>>1,ee=R[ae];if(0<s(ee,A))R[ae]=A,R[V]=ee,V=ae;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var A=R[0],V=R.pop();if(V!==A){R[0]=V;e:for(var ae=0,ee=R.length,fe=ee>>>1;ae<fe;){var de=2*(ae+1)-1,Me=R[de],Ge=de+1,z=R[Ge];if(0>s(Me,V))Ge<ee&&0>s(z,Me)?(R[ae]=z,R[Ge]=V,ae=Ge):(R[ae]=Me,R[de]=V,ae=de);else if(Ge<ee&&0>s(z,V))R[ae]=z,R[Ge]=V,ae=Ge;else break e}}return A}function s(R,A){var V=R.sortIndex-A.sortIndex;return V!==0?V:R.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=R)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function S(R){if(g=!1,b(R),!v)if(n(c)!==null)v=!0,F(_);else{var A=n(u);A!==null&&U(S,A.startTime-R)}}function _(R,A){v=!1,g&&(g=!1,w(C),C=-1),m=!0;var V=f;try{for(b(A),h=n(c);h!==null&&(!(h.expirationTime>A)||R&&!O());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ee=ae(h.expirationTime<=A);A=e.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(c)&&r(c),b(A)}else r(c);h=n(c)}if(h!==null)var fe=!0;else{var de=n(u);de!==null&&U(S,de.startTime-A),fe=!1}return fe}finally{h=null,f=V,m=!1}}var j=!1,k=null,C=-1,T=5,E=-1;function O(){return!(e.unstable_now()-E<T)}function P(){if(k!==null){var R=e.unstable_now();E=R;var A=!0;try{A=k(!0,R)}finally{A?W():(j=!1,k=null)}}else j=!1}var W;if(typeof x=="function")W=function(){x(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Q=I.port2;I.port1.onmessage=P,W=function(){Q.postMessage(null)}}else W=function(){y(P,0)};function F(R){k=R,j||(j=!0,W())}function U(R,A){C=y(function(){R(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,F(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var V=f;f=A;try{return R()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,A){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var V=f;f=R;try{return A()}finally{f=V}},e.unstable_scheduleCallback=function(R,A,V){var ae=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ae+V:ae):V=ae,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,R={id:d++,callback:A,priorityLevel:R,startTime:V,expirationTime:ee,sortIndex:-1},V>ae?(R.sortIndex=V,t(u,R),n(c)===null&&R===n(u)&&(g?(w(C),C=-1):g=!0,U(S,V-ae))):(R.sortIndex=ee,t(c,R),v||m||(v=!0,F(_))),R},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(R){var A=f;return function(){var V=f;f=A;try{return R.apply(this,arguments)}finally{f=V}}}})(_S);SS.exports=_S;var ZR=SS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=p,cn=ZR;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jS=new Set,Ul={};function Xi(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(Ul[e]=t,e=0;e<t.length;e++)jS.add(t[e])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=Object.prototype.hasOwnProperty,eA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ex={},Tx={};function tA(e){return jm.call(Tx,e)?!0:jm.call(Ex,e)?!1:eA.test(e)?Tx[e]=!0:(Ex[e]=!0,!1)}function nA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rA(e,t,n,r){if(t===null||typeof t>"u"||nA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wg=/[\-:]([a-z])/g;function Hg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wg,Hg);bt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wg,Hg);bt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wg,Hg);bt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function qg(e,t,n,r){var s=bt.hasOwnProperty(t)?bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rA(t,n,s,r)&&(n=null),r||s===null?tA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gr=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),_a=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),kS=Symbol.for("react.provider"),CS=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),Yg=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),NS=Symbol.for("react.offscreen"),Px=Symbol.iterator;function Qo(e){return e===null||typeof e!="object"?null:(e=Px&&e[Px]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,tf;function dl(e){if(tf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tf=t&&t[1]||""}return`
`+tf+e}var nf=!1;function rf(e,t){if(!e||nf)return"";nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{nf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dl(e):""}function sA(e){switch(e.tag){case 5:return dl(e.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return e=rf(e.type,!1),e;case 11:return e=rf(e.type.render,!1),e;case 1:return e=rf(e.type,!0),e;default:return""}}function Em(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ja:return"Fragment";case _a:return"Portal";case km:return"Profiler";case Kg:return"StrictMode";case Cm:return"Suspense";case Nm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CS:return(e.displayName||"Context")+".Consumer";case kS:return(e._context.displayName||"Context")+".Provider";case Gg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yg:return t=e.displayName||null,t!==null?t:Em(e.type)||"Memo";case ls:t=e._payload,e=e._init;try{return Em(e(t))}catch{}}return null}function iA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(t);case 8:return t===Kg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ES(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aA(e){var t=ES(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xc(e){e._valueTracker||(e._valueTracker=aA(e))}function TS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ES(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function td(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tm(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PS(e,t){t=t.checked,t!=null&&qg(e,"checked",t,!1)}function Pm(e,t){PS(e,t);var n=Vs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rm(e,t.type,Vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ax(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rm(e,t,n){(t!=="number"||td(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hl=Array.isArray;function Va(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Am(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ox(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(hl(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vs(n)}}function RS(e,t){var n=Vs(t.value),r=Vs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ix(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Om(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zc,OS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oA=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){oA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function IS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function DS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=IS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var lA=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(e,t){if(t){if(lA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Dm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mm=null;function Qg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lm=null,Ba=null,za=null;function Dx(e){if(e=Rc(e)){if(typeof Lm!="function")throw Error(D(280));var t=e.stateNode;t&&(t=oh(t),Lm(e.stateNode,e.type,t))}}function MS(e){Ba?za?za.push(e):za=[e]:Ba=e}function LS(){if(Ba){var e=Ba,t=za;if(za=Ba=null,Dx(e),t)for(e=0;e<t.length;e++)Dx(t[e])}}function $S(e,t){return e(t)}function FS(){}var sf=!1;function US(e,t,n){if(sf)return e(t,n);sf=!0;try{return $S(e,t,n)}finally{sf=!1,(Ba!==null||za!==null)&&(FS(),LS())}}function Bl(e,t){var n=e.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var $m=!1;if($r)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){$m=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{$m=!1}function cA(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _l=!1,nd=null,rd=!1,Fm=null,uA={onError:function(e){_l=!0,nd=e}};function dA(e,t,n,r,s,i,a,l,c){_l=!1,nd=null,cA.apply(uA,arguments)}function hA(e,t,n,r,s,i,a,l,c){if(dA.apply(this,arguments),_l){if(_l){var u=nd;_l=!1,nd=null}else throw Error(D(198));rd||(rd=!0,Fm=u)}}function Zi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function VS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mx(e){if(Zi(e)!==e)throw Error(D(188))}function fA(e){var t=e.alternate;if(!t){if(t=Zi(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Mx(s),e;if(i===r)return Mx(s),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function BS(e){return e=fA(e),e!==null?zS(e):null}function zS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zS(e);if(t!==null)return t;e=e.sibling}return null}var WS=cn.unstable_scheduleCallback,Lx=cn.unstable_cancelCallback,mA=cn.unstable_shouldYield,pA=cn.unstable_requestPaint,tt=cn.unstable_now,gA=cn.unstable_getCurrentPriorityLevel,Xg=cn.unstable_ImmediatePriority,HS=cn.unstable_UserBlockingPriority,sd=cn.unstable_NormalPriority,yA=cn.unstable_LowPriority,qS=cn.unstable_IdlePriority,rh=null,gr=null;function vA(e){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(rh,e,void 0,(e.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:bA,xA=Math.log,wA=Math.LN2;function bA(e){return e>>>=0,e===0?32:31-(xA(e)/wA|0)|0}var Jc=64,eu=4194304;function fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function id(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=fl(l):(i&=a,i!==0&&(r=fl(i)))}else a=n&~s,a!==0?r=fl(a):i!==0&&(r=fl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zn(t),s=1<<n,r|=e[n],t&=~s;return r}function SA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _A(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Zn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=SA(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Um(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KS(){var e=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),e}function af(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zn(t),e[t]=n}function jA(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Zn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Zg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pe=0;function GS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var YS,Jg,QS,XS,ZS,Vm=!1,tu=[],Ts=null,Ps=null,Rs=null,zl=new Map,Wl=new Map,hs=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $x(e,t){switch(e){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(t.pointerId)}}function Zo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Rc(t),t!==null&&Jg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function CA(e,t,n,r,s){switch(t){case"focusin":return Ts=Zo(Ts,e,t,n,r,s),!0;case"dragenter":return Ps=Zo(Ps,e,t,n,r,s),!0;case"mouseover":return Rs=Zo(Rs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return zl.set(i,Zo(zl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wl.set(i,Zo(Wl.get(i)||null,e,t,n,r,s)),!0}return!1}function JS(e){var t=xi(e.target);if(t!==null){var n=Zi(t);if(n!==null){if(t=n.tag,t===13){if(t=VS(n),t!==null){e.blockedOn=t,ZS(e.priority,function(){QS(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Mm=r,n.target.dispatchEvent(r),Mm=null}else return t=Rc(n),t!==null&&Jg(t),e.blockedOn=n,!1;t.shift()}return!0}function Fx(e,t,n){Ou(e)&&n.delete(t)}function NA(){Vm=!1,Ts!==null&&Ou(Ts)&&(Ts=null),Ps!==null&&Ou(Ps)&&(Ps=null),Rs!==null&&Ou(Rs)&&(Rs=null),zl.forEach(Fx),Wl.forEach(Fx)}function Jo(e,t){e.blockedOn===t&&(e.blockedOn=null,Vm||(Vm=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,NA)))}function Hl(e){function t(s){return Jo(s,e)}if(0<tu.length){Jo(tu[0],e);for(var n=1;n<tu.length;n++){var r=tu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ts!==null&&Jo(Ts,e),Ps!==null&&Jo(Ps,e),Rs!==null&&Jo(Rs,e),zl.forEach(t),Wl.forEach(t),n=0;n<hs.length;n++)r=hs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)JS(n),n.blockedOn===null&&hs.shift()}var Wa=Gr.ReactCurrentBatchConfig,ad=!0;function EA(e,t,n,r){var s=Pe,i=Wa.transition;Wa.transition=null;try{Pe=1,ey(e,t,n,r)}finally{Pe=s,Wa.transition=i}}function TA(e,t,n,r){var s=Pe,i=Wa.transition;Wa.transition=null;try{Pe=4,ey(e,t,n,r)}finally{Pe=s,Wa.transition=i}}function ey(e,t,n,r){if(ad){var s=Bm(e,t,n,r);if(s===null)gf(e,t,r,od,n),$x(e,r);else if(CA(s,e,t,n,r))r.stopPropagation();else if($x(e,r),t&4&&-1<kA.indexOf(e)){for(;s!==null;){var i=Rc(s);if(i!==null&&YS(i),i=Bm(e,t,n,r),i===null&&gf(e,t,r,od,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gf(e,t,r,null,n)}}var od=null;function Bm(e,t,n,r){if(od=null,e=Qg(r),e=xi(e),e!==null)if(t=Zi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=VS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return od=e,null}function e_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gA()){case Xg:return 1;case HS:return 4;case sd:case yA:return 16;case qS:return 536870912;default:return 16}default:return 16}}var ks=null,ty=null,Iu=null;function t_(){if(Iu)return Iu;var e,t=ty,n=t.length,r,s="value"in ks?ks.value:ks.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Iu=s.slice(e,1<r?1-r:void 0)}function Du(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nu(){return!0}function Ux(){return!1}function hn(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nu:Ux,this.isPropagationStopped=Ux,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),t}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=hn(Ro),Pc=Ke({},Ro,{view:0,detail:0}),PA=hn(Pc),of,lf,el,sh=Ke({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==el&&(el&&e.type==="mousemove"?(of=e.screenX-el.screenX,lf=e.screenY-el.screenY):lf=of=0,el=e),of)},movementY:function(e){return"movementY"in e?e.movementY:lf}}),Vx=hn(sh),RA=Ke({},sh,{dataTransfer:0}),AA=hn(RA),OA=Ke({},Pc,{relatedTarget:0}),cf=hn(OA),IA=Ke({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),DA=hn(IA),MA=Ke({},Ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LA=hn(MA),$A=Ke({},Ro,{data:0}),Bx=hn($A),FA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VA[e])?!!t[e]:!1}function ry(){return BA}var zA=Ke({},Pc,{key:function(e){if(e.key){var t=FA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Du(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(e){return e.type==="keypress"?Du(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Du(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WA=hn(zA),HA=Ke({},sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=hn(HA),qA=Ke({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry}),KA=hn(qA),GA=Ke({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),YA=hn(GA),QA=Ke({},sh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XA=hn(QA),ZA=[9,13,27,32],sy=$r&&"CompositionEvent"in window,jl=null;$r&&"documentMode"in document&&(jl=document.documentMode);var JA=$r&&"TextEvent"in window&&!jl,n_=$r&&(!sy||jl&&8<jl&&11>=jl),Wx=" ",Hx=!1;function r_(e,t){switch(e){case"keyup":return ZA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ka=!1;function e2(e,t){switch(e){case"compositionend":return s_(t);case"keypress":return t.which!==32?null:(Hx=!0,Wx);case"textInput":return e=t.data,e===Wx&&Hx?null:e;default:return null}}function t2(e,t){if(ka)return e==="compositionend"||!sy&&r_(e,t)?(e=t_(),Iu=ty=ks=null,ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return n_&&t.locale!=="ko"?null:t.data;default:return null}}var n2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n2[e.type]:t==="textarea"}function i_(e,t,n,r){MS(r),t=ld(t,"onChange"),0<t.length&&(n=new ny("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kl=null,ql=null;function r2(e){g_(e,0)}function ih(e){var t=Ea(e);if(TS(t))return e}function s2(e,t){if(e==="change")return t}var a_=!1;if($r){var uf;if($r){var df="oninput"in document;if(!df){var Kx=document.createElement("div");Kx.setAttribute("oninput","return;"),df=typeof Kx.oninput=="function"}uf=df}else uf=!1;a_=uf&&(!document.documentMode||9<document.documentMode)}function Gx(){kl&&(kl.detachEvent("onpropertychange",o_),ql=kl=null)}function o_(e){if(e.propertyName==="value"&&ih(ql)){var t=[];i_(t,ql,e,Qg(e)),US(r2,t)}}function i2(e,t,n){e==="focusin"?(Gx(),kl=t,ql=n,kl.attachEvent("onpropertychange",o_)):e==="focusout"&&Gx()}function a2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ih(ql)}function o2(e,t){if(e==="click")return ih(t)}function l2(e,t){if(e==="input"||e==="change")return ih(t)}function c2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:c2;function Kl(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jm.call(t,s)||!er(e[s],t[s]))return!1}return!0}function Yx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qx(e,t){var n=Yx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yx(n)}}function l_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?l_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c_(){for(var e=window,t=td();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=td(e.document)}return t}function iy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u2(e){var t=c_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&l_(n.ownerDocument.documentElement,n)){if(r!==null&&iy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Qx(n,i);var a=Qx(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var d2=$r&&"documentMode"in document&&11>=document.documentMode,Ca=null,zm=null,Cl=null,Wm=!1;function Xx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wm||Ca==null||Ca!==td(r)||(r=Ca,"selectionStart"in r&&iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Kl(Cl,r)||(Cl=r,r=ld(zm,"onSelect"),0<r.length&&(t=new ny("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ca)))}function ru(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},hf={},u_={};$r&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function ah(e){if(hf[e])return hf[e];if(!Na[e])return e;var t=Na[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in u_)return hf[e]=t[n];return e}var d_=ah("animationend"),h_=ah("animationiteration"),f_=ah("animationstart"),m_=ah("transitionend"),p_=new Map,Zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(e,t){p_.set(e,t),Xi(t,[e])}for(var ff=0;ff<Zx.length;ff++){var mf=Zx[ff],h2=mf.toLowerCase(),f2=mf[0].toUpperCase()+mf.slice(1);Qs(h2,"on"+f2)}Qs(d_,"onAnimationEnd");Qs(h_,"onAnimationIteration");Qs(f_,"onAnimationStart");Qs("dblclick","onDoubleClick");Qs("focusin","onFocus");Qs("focusout","onBlur");Qs(m_,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Jx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hA(r,t,void 0,e),e.currentTarget=null}function g_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Jx(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Jx(s,l,u),i=c}}}if(rd)throw e=Fm,rd=!1,Fm=null,e}function $e(e,t){var n=t[Ym];n===void 0&&(n=t[Ym]=new Set);var r=e+"__bubble";n.has(r)||(y_(t,e,2,!1),n.add(r))}function pf(e,t,n){var r=0;t&&(r|=4),y_(n,e,r,t)}var su="_reactListening"+Math.random().toString(36).slice(2);function Gl(e){if(!e[su]){e[su]=!0,jS.forEach(function(n){n!=="selectionchange"&&(m2.has(n)||pf(n,!1,e),pf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[su]||(t[su]=!0,pf("selectionchange",!1,t))}}function y_(e,t,n,r){switch(e_(t)){case 1:var s=EA;break;case 4:s=TA;break;default:s=ey}n=s.bind(null,t,n,e),s=void 0,!$m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function gf(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=xi(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}US(function(){var u=i,d=Qg(n),h=[];e:{var f=p_.get(e);if(f!==void 0){var m=ny,v=e;switch(e){case"keypress":if(Du(n)===0)break e;case"keydown":case"keyup":m=WA;break;case"focusin":v="focus",m=cf;break;case"focusout":v="blur",m=cf;break;case"beforeblur":case"afterblur":m=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=KA;break;case d_:case h_:case f_:m=DA;break;case m_:m=YA;break;case"scroll":m=PA;break;case"wheel":m=XA;break;case"copy":case"cut":case"paste":m=LA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zx}var g=(t&4)!==0,y=!g&&e==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var x=u,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,w!==null&&(S=Bl(x,w),S!=null&&g.push(Yl(x,S,b)))),y)break;x=x.return}0<g.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Mm&&(v=n.relatedTarget||n.fromElement)&&(xi(v)||v[Fr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?xi(v):null,v!==null&&(y=Zi(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=Vx,S="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=zx,S="onPointerLeave",w="onPointerEnter",x="pointer"),y=m==null?f:Ea(m),b=v==null?f:Ea(v),f=new g(S,x+"leave",m,n,d),f.target=y,f.relatedTarget=b,S=null,xi(d)===u&&(g=new g(w,x+"enter",v,n,d),g.target=b,g.relatedTarget=y,S=g),y=S,m&&v)t:{for(g=m,w=v,x=0,b=g;b;b=la(b))x++;for(b=0,S=w;S;S=la(S))b++;for(;0<x-b;)g=la(g),x--;for(;0<b-x;)w=la(w),b--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=la(g),w=la(w)}g=null}else g=null;m!==null&&e0(h,f,m,g,!1),v!==null&&y!==null&&e0(h,y,v,g,!0)}}e:{if(f=u?Ea(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=s2;else if(qx(f))if(a_)_=l2;else{_=a2;var j=i2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=o2);if(_&&(_=_(e,u))){i_(h,_,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Rm(f,"number",f.value)}switch(j=u?Ea(u):window,e){case"focusin":(qx(j)||j.contentEditable==="true")&&(Ca=j,zm=u,Cl=null);break;case"focusout":Cl=zm=Ca=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,Xx(h,n,d);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":Xx(h,n,d)}var k;if(sy)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ka?r_(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(n_&&n.locale!=="ko"&&(ka||C!=="onCompositionStart"?C==="onCompositionEnd"&&ka&&(k=t_()):(ks=d,ty="value"in ks?ks.value:ks.textContent,ka=!0)),j=ld(u,C),0<j.length&&(C=new Bx(C,e,null,n,d),h.push({event:C,listeners:j}),k?C.data=k:(k=s_(n),k!==null&&(C.data=k)))),(k=JA?e2(e,n):t2(e,n))&&(u=ld(u,"onBeforeInput"),0<u.length&&(d=new Bx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}g_(h,t)})}function Yl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ld(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bl(e,n),i!=null&&r.unshift(Yl(e,i,s)),i=Bl(e,t),i!=null&&r.push(Yl(e,i,s))),e=e.return}return r}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function e0(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Bl(n,i),c!=null&&a.unshift(Yl(n,c,l))):s||(c=Bl(n,i),c!=null&&a.push(Yl(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var p2=/\r\n?/g,g2=/\u0000|\uFFFD/g;function t0(e){return(typeof e=="string"?e:""+e).replace(p2,`
`).replace(g2,"")}function iu(e,t,n){if(t=t0(t),t0(e)!==t&&n)throw Error(D(425))}function cd(){}var Hm=null,qm=null;function Km(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gm=typeof setTimeout=="function"?setTimeout:void 0,y2=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,v2=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(e){return n0.resolve(null).then(e).catch(x2)}:Gm;function x2(e){setTimeout(function(){throw e})}function yf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hl(t)}function As(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function r0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),fr="__reactFiber$"+Ao,Ql="__reactProps$"+Ao,Fr="__reactContainer$"+Ao,Ym="__reactEvents$"+Ao,w2="__reactListeners$"+Ao,b2="__reactHandles$"+Ao;function xi(e){var t=e[fr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fr]||n[fr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=r0(e);e!==null;){if(n=e[fr])return n;e=r0(e)}return t}e=n,n=e.parentNode}return null}function Rc(e){return e=e[fr]||e[Fr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function oh(e){return e[Ql]||null}var Qm=[],Ta=-1;function Xs(e){return{current:e}}function Fe(e){0>Ta||(e.current=Qm[Ta],Qm[Ta]=null,Ta--)}function De(e,t){Ta++,Qm[Ta]=e.current,e.current=t}var Bs={},Pt=Xs(Bs),Yt=Xs(!1),$i=Bs;function fo(e,t){var n=e.type.contextTypes;if(!n)return Bs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(e){return e=e.childContextTypes,e!=null}function ud(){Fe(Yt),Fe(Pt)}function s0(e,t,n){if(Pt.current!==Bs)throw Error(D(168));De(Pt,t),De(Yt,n)}function v_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,iA(e)||"Unknown",s));return Ke({},n,r)}function dd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,$i=Pt.current,De(Pt,e),De(Yt,Yt.current),!0}function i0(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=v_(e,t,$i),r.__reactInternalMemoizedMergedChildContext=e,Fe(Yt),Fe(Pt),De(Pt,e)):Fe(Yt),De(Yt,n)}var Tr=null,lh=!1,vf=!1;function x_(e){Tr===null?Tr=[e]:Tr.push(e)}function S2(e){lh=!0,x_(e)}function Zs(){if(!vf&&Tr!==null){vf=!0;var e=0,t=Pe;try{var n=Tr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tr=null,lh=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(e+1)),WS(Xg,Zs),s}finally{Pe=t,vf=!1}}return null}var Pa=[],Ra=0,hd=null,fd=0,wn=[],bn=0,Fi=null,Ar=1,Or="";function hi(e,t){Pa[Ra++]=fd,Pa[Ra++]=hd,hd=e,fd=t}function w_(e,t,n){wn[bn++]=Ar,wn[bn++]=Or,wn[bn++]=Fi,Fi=e;var r=Ar;e=Or;var s=32-Zn(r)-1;r&=~(1<<s),n+=1;var i=32-Zn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ar=1<<32-Zn(t)+s|n<<s|r,Or=i+e}else Ar=1<<i|n<<s|r,Or=e}function ay(e){e.return!==null&&(hi(e,1),w_(e,1,0))}function oy(e){for(;e===hd;)hd=Pa[--Ra],Pa[Ra]=null,fd=Pa[--Ra],Pa[Ra]=null;for(;e===Fi;)Fi=wn[--bn],wn[bn]=null,Or=wn[--bn],wn[bn]=null,Ar=wn[--bn],wn[bn]=null}var an=null,sn=null,Ve=!1,Yn=null;function b_(e,t){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function a0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,an=e,sn=As(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,an=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fi!==null?{id:Ar,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,an=e,sn=null,!0):!1;default:return!1}}function Xm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zm(e){if(Ve){var t=sn;if(t){var n=t;if(!a0(e,t)){if(Xm(e))throw Error(D(418));t=As(n.nextSibling);var r=an;t&&a0(e,t)?b_(r,n):(e.flags=e.flags&-4097|2,Ve=!1,an=e)}}else{if(Xm(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ve=!1,an=e}}}function o0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function au(e){if(e!==an)return!1;if(!Ve)return o0(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Km(e.type,e.memoizedProps)),t&&(t=sn)){if(Xm(e))throw S_(),Error(D(418));for(;t;)b_(e,t),t=As(t.nextSibling)}if(o0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sn=As(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=an?As(e.stateNode.nextSibling):null;return!0}function S_(){for(var e=sn;e;)e=As(e.nextSibling)}function mo(){sn=an=null,Ve=!1}function ly(e){Yn===null?Yn=[e]:Yn.push(e)}var _2=Gr.ReactCurrentBatchConfig;function tl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function ou(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function l0(e){var t=e._init;return t(e._payload)}function __(e){function t(w,x){if(e){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=Ms(w,x),w.index=0,w.sibling=null,w}function i(w,x,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,x,b,S){return x===null||x.tag!==6?(x=kf(b,w.mode,S),x.return=w,x):(x=s(x,b),x.return=w,x)}function c(w,x,b,S){var _=b.type;return _===ja?d(w,x,b.props.children,S,b.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ls&&l0(_)===x.type)?(S=s(x,b.props),S.ref=tl(w,x,b),S.return=w,S):(S=Bu(b.type,b.key,b.props,null,w.mode,S),S.ref=tl(w,x,b),S.return=w,S)}function u(w,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Cf(b,w.mode,S),x.return=w,x):(x=s(x,b.children||[]),x.return=w,x)}function d(w,x,b,S,_){return x===null||x.tag!==7?(x=Di(b,w.mode,S,_),x.return=w,x):(x=s(x,b),x.return=w,x)}function h(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=kf(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qc:return b=Bu(x.type,x.key,x.props,null,w.mode,b),b.ref=tl(w,null,x),b.return=w,b;case _a:return x=Cf(x,w.mode,b),x.return=w,x;case ls:var S=x._init;return h(w,S(x._payload),b)}if(hl(x)||Qo(x))return x=Di(x,w.mode,b,null),x.return=w,x;ou(w,x)}return null}function f(w,x,b,S){var _=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(w,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qc:return b.key===_?c(w,x,b,S):null;case _a:return b.key===_?u(w,x,b,S):null;case ls:return _=b._init,f(w,x,_(b._payload),S)}if(hl(b)||Qo(b))return _!==null?null:d(w,x,b,S,null);ou(w,b)}return null}function m(w,x,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(b)||null,l(x,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qc:return w=w.get(S.key===null?b:S.key)||null,c(x,w,S,_);case _a:return w=w.get(S.key===null?b:S.key)||null,u(x,w,S,_);case ls:var j=S._init;return m(w,x,b,j(S._payload),_)}if(hl(S)||Qo(S))return w=w.get(b)||null,d(x,w,S,_,null);ou(x,S)}return null}function v(w,x,b,S){for(var _=null,j=null,k=x,C=x=0,T=null;k!==null&&C<b.length;C++){k.index>C?(T=k,k=null):T=k.sibling;var E=f(w,k,b[C],S);if(E===null){k===null&&(k=T);break}e&&k&&E.alternate===null&&t(w,k),x=i(E,x,C),j===null?_=E:j.sibling=E,j=E,k=T}if(C===b.length)return n(w,k),Ve&&hi(w,C),_;if(k===null){for(;C<b.length;C++)k=h(w,b[C],S),k!==null&&(x=i(k,x,C),j===null?_=k:j.sibling=k,j=k);return Ve&&hi(w,C),_}for(k=r(w,k);C<b.length;C++)T=m(k,w,C,b[C],S),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),x=i(T,x,C),j===null?_=T:j.sibling=T,j=T);return e&&k.forEach(function(O){return t(w,O)}),Ve&&hi(w,C),_}function g(w,x,b,S){var _=Qo(b);if(typeof _!="function")throw Error(D(150));if(b=_.call(b),b==null)throw Error(D(151));for(var j=_=null,k=x,C=x=0,T=null,E=b.next();k!==null&&!E.done;C++,E=b.next()){k.index>C?(T=k,k=null):T=k.sibling;var O=f(w,k,E.value,S);if(O===null){k===null&&(k=T);break}e&&k&&O.alternate===null&&t(w,k),x=i(O,x,C),j===null?_=O:j.sibling=O,j=O,k=T}if(E.done)return n(w,k),Ve&&hi(w,C),_;if(k===null){for(;!E.done;C++,E=b.next())E=h(w,E.value,S),E!==null&&(x=i(E,x,C),j===null?_=E:j.sibling=E,j=E);return Ve&&hi(w,C),_}for(k=r(w,k);!E.done;C++,E=b.next())E=m(k,w,C,E.value,S),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),x=i(E,x,C),j===null?_=E:j.sibling=E,j=E);return e&&k.forEach(function(P){return t(w,P)}),Ve&&hi(w,C),_}function y(w,x,b,S){if(typeof b=="object"&&b!==null&&b.type===ja&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Qc:e:{for(var _=b.key,j=x;j!==null;){if(j.key===_){if(_=b.type,_===ja){if(j.tag===7){n(w,j.sibling),x=s(j,b.props.children),x.return=w,w=x;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ls&&l0(_)===j.type){n(w,j.sibling),x=s(j,b.props),x.ref=tl(w,j,b),x.return=w,w=x;break e}n(w,j);break}else t(w,j);j=j.sibling}b.type===ja?(x=Di(b.props.children,w.mode,S,b.key),x.return=w,w=x):(S=Bu(b.type,b.key,b.props,null,w.mode,S),S.ref=tl(w,x,b),S.return=w,w=S)}return a(w);case _a:e:{for(j=b.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(w,x.sibling),x=s(x,b.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=Cf(b,w.mode,S),x.return=w,w=x}return a(w);case ls:return j=b._init,y(w,x,j(b._payload),S)}if(hl(b))return v(w,x,b,S);if(Qo(b))return g(w,x,b,S);ou(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,b),x.return=w,w=x):(n(w,x),x=kf(b,w.mode,S),x.return=w,w=x),a(w)):n(w,x)}return y}var po=__(!0),j_=__(!1),md=Xs(null),pd=null,Aa=null,cy=null;function uy(){cy=Aa=pd=null}function dy(e){var t=md.current;Fe(md),e._currentValue=t}function Jm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ha(e,t){pd=e,cy=Aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ht=!0),e.firstContext=null)}function En(e){var t=e._currentValue;if(cy!==e)if(e={context:e,memoizedValue:t,next:null},Aa===null){if(pd===null)throw Error(D(308));Aa=e,pd.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var wi=null;function hy(e){wi===null?wi=[e]:wi.push(e)}function k_(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,hy(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ur(e,r)}function Ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cs=!1;function fy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ur(e,n)}return s=r.interleaved,s===null?(t.next=t,hy(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ur(e,n)}function Mu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zg(e,n)}}function c0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gd(e,t,n,r){var s=e.updateQueue;cs=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(f=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ke({},h,f);break e;case 2:cs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Vi|=a,e.lanes=a,e.memoizedState=h}}function u0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Ac={},yr=Xs(Ac),Xl=Xs(Ac),Zl=Xs(Ac);function bi(e){if(e===Ac)throw Error(D(174));return e}function my(e,t){switch(De(Zl,t),De(Xl,e),De(yr,Ac),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Om(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Om(t,e)}Fe(yr),De(yr,t)}function go(){Fe(yr),Fe(Xl),Fe(Zl)}function N_(e){bi(Zl.current);var t=bi(yr.current),n=Om(t,e.type);t!==n&&(De(Xl,e),De(yr,n))}function py(e){Xl.current===e&&(Fe(yr),Fe(Xl))}var We=Xs(0);function yd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xf=[];function gy(){for(var e=0;e<xf.length;e++)xf[e]._workInProgressVersionPrimary=null;xf.length=0}var Lu=Gr.ReactCurrentDispatcher,wf=Gr.ReactCurrentBatchConfig,Ui=0,qe=null,dt=null,mt=null,vd=!1,Nl=!1,Jl=0,j2=0;function _t(){throw Error(D(321))}function yy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function vy(e,t,n,r,s,i){if(Ui=i,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lu.current=e===null||e.memoizedState===null?E2:T2,e=n(r,s),Nl){i=0;do{if(Nl=!1,Jl=0,25<=i)throw Error(D(301));i+=1,mt=dt=null,t.updateQueue=null,Lu.current=P2,e=n(r,s)}while(Nl)}if(Lu.current=xd,t=dt!==null&&dt.next!==null,Ui=0,mt=dt=qe=null,vd=!1,t)throw Error(D(300));return e}function xy(){var e=Jl!==0;return Jl=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?qe.memoizedState=mt=e:mt=mt.next=e,mt}function Tn(){if(dt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=mt===null?qe.memoizedState:mt.next;if(t!==null)mt=t,dt=e;else{if(e===null)throw Error(D(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},mt===null?qe.memoizedState=mt=e:mt=mt.next=e}return mt}function ec(e,t){return typeof t=="function"?t(e):t}function bf(e){var t=Tn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Ui&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,qe.lanes|=d,Vi|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,er(r,t.memoizedState)||(Ht=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,qe.lanes|=i,Vi|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sf(e){var t=Tn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);er(i,t.memoizedState)||(Ht=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function E_(){}function T_(e,t){var n=qe,r=Tn(),s=t(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,wy(A_.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,tc(9,R_.bind(null,n,r,s,t),void 0,null),pt===null)throw Error(D(349));Ui&30||P_(n,t,s)}return s}function P_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R_(e,t,n,r){t.value=n,t.getSnapshot=r,O_(t)&&I_(e)}function A_(e,t,n){return n(function(){O_(t)&&I_(e)})}function O_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch{return!0}}function I_(e){var t=Ur(e,1);t!==null&&Jn(t,e,1,-1)}function d0(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:e},t.queue=e,e=e.dispatch=N2.bind(null,qe,e),[t.memoizedState,e]}function tc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function D_(){return Tn().memoizedState}function $u(e,t,n,r){var s=or();qe.flags|=e,s.memoizedState=tc(1|t,n,void 0,r===void 0?null:r)}function ch(e,t,n,r){var s=Tn();r=r===void 0?null:r;var i=void 0;if(dt!==null){var a=dt.memoizedState;if(i=a.destroy,r!==null&&yy(r,a.deps)){s.memoizedState=tc(t,n,i,r);return}}qe.flags|=e,s.memoizedState=tc(1|t,n,i,r)}function h0(e,t){return $u(8390656,8,e,t)}function wy(e,t){return ch(2048,8,e,t)}function M_(e,t){return ch(4,2,e,t)}function L_(e,t){return ch(4,4,e,t)}function $_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F_(e,t,n){return n=n!=null?n.concat([e]):null,ch(4,4,$_.bind(null,t,e),n)}function by(){}function U_(e,t){var n=Tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function V_(e,t){var n=Tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function B_(e,t,n){return Ui&21?(er(n,t)||(n=KS(),qe.lanes|=n,Vi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ht=!0),e.memoizedState=n)}function k2(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=wf.transition;wf.transition={};try{e(!1),t()}finally{Pe=n,wf.transition=r}}function z_(){return Tn().memoizedState}function C2(e,t,n){var r=Ds(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W_(e))H_(t,n);else if(n=k_(e,t,n,r),n!==null){var s=Lt();Jn(n,e,r,s),q_(n,t,r)}}function N2(e,t,n){var r=Ds(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W_(e))H_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,er(l,a)){var c=t.interleaved;c===null?(s.next=s,hy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=k_(e,t,s,r),n!==null&&(s=Lt(),Jn(n,e,r,s),q_(n,t,r))}}function W_(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function H_(e,t){Nl=vd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function q_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zg(e,n)}}var xd={readContext:En,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},E2={readContext:En,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:h0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$u(4194308,4,$_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $u(4194308,4,e,t)},useInsertionEffect:function(e,t){return $u(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=C2.bind(null,qe,e),[r.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:d0,useDebugValue:by,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=d0(!1),t=e[0];return e=k2.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=qe,s=or();if(Ve){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),pt===null)throw Error(D(349));Ui&30||P_(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,h0(A_.bind(null,r,i,e),[e]),r.flags|=2048,tc(9,R_.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=or(),t=pt.identifierPrefix;if(Ve){var n=Or,r=Ar;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=j2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T2={readContext:En,useCallback:U_,useContext:En,useEffect:wy,useImperativeHandle:F_,useInsertionEffect:M_,useLayoutEffect:L_,useMemo:V_,useReducer:bf,useRef:D_,useState:function(){return bf(ec)},useDebugValue:by,useDeferredValue:function(e){var t=Tn();return B_(t,dt.memoizedState,e)},useTransition:function(){var e=bf(ec)[0],t=Tn().memoizedState;return[e,t]},useMutableSource:E_,useSyncExternalStore:T_,useId:z_,unstable_isNewReconciler:!1},P2={readContext:En,useCallback:U_,useContext:En,useEffect:wy,useImperativeHandle:F_,useInsertionEffect:M_,useLayoutEffect:L_,useMemo:V_,useReducer:Sf,useRef:D_,useState:function(){return Sf(ec)},useDebugValue:by,useDeferredValue:function(e){var t=Tn();return dt===null?t.memoizedState=e:B_(t,dt.memoizedState,e)},useTransition:function(){var e=Sf(ec)[0],t=Tn().memoizedState;return[e,t]},useMutableSource:E_,useSyncExternalStore:T_,useId:z_,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ep(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uh={isMounted:function(e){return(e=e._reactInternals)?Zi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),s=Ds(e),i=Dr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Os(e,i,s),t!==null&&(Jn(t,e,s,r),Mu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),s=Ds(e),i=Dr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Os(e,i,s),t!==null&&(Jn(t,e,s,r),Mu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Ds(e),s=Dr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Os(e,s,r),t!==null&&(Jn(t,e,r,n),Mu(t,e,r))}};function f0(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Kl(n,r)||!Kl(s,i):!0}function K_(e,t,n){var r=!1,s=Bs,i=t.contextType;return typeof i=="object"&&i!==null?i=En(i):(s=Qt(t)?$i:Pt.current,r=t.contextTypes,i=(r=r!=null)?fo(e,s):Bs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function m0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&uh.enqueueReplaceState(t,t.state,null)}function tp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},fy(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=En(i):(i=Qt(t)?$i:Pt.current,s.context=fo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ep(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&uh.enqueueReplaceState(s,s.state,null),gd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var n="",r=t;do n+=sA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function _f(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function np(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var R2=typeof WeakMap=="function"?WeakMap:Map;function G_(e,t,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bd||(bd=!0,hp=r),np(e,t)},n}function Y_(e,t,n){n=Dr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){np(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){np(e,t),typeof r!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function p0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new R2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=H2.bind(null,e,t,n),t.then(e,e))}function g0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function y0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dr(-1,1),t.tag=2,Os(n,t,1))),n.lanes|=1),e)}var A2=Gr.ReactCurrentOwner,Ht=!1;function It(e,t,n,r){t.child=e===null?j_(t,null,n,r):po(t,e.child,n,r)}function v0(e,t,n,r,s){n=n.render;var i=t.ref;return Ha(t,s),r=vy(e,t,n,r,i,s),n=xy(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vr(e,t,s)):(Ve&&n&&ay(t),t.flags|=1,It(e,t,r,s),t.child)}function x0(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ty(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Q_(e,t,i,r,s)):(e=Bu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(a,r)&&e.ref===t.ref)return Vr(e,t,s)}return t.flags|=1,e=Ms(i,r),e.ref=t.ref,e.return=t,t.child=e}function Q_(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Kl(i,r)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ht=!0);else return t.lanes=e.lanes,Vr(e,t,s)}return rp(e,t,n,r,s)}function X_(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Ia,en),en|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(Ia,en),en|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,De(Ia,en),en|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,De(Ia,en),en|=r;return It(e,t,s,n),t.child}function Z_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rp(e,t,n,r,s){var i=Qt(n)?$i:Pt.current;return i=fo(t,i),Ha(t,s),n=vy(e,t,n,r,i,s),r=xy(),e!==null&&!Ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vr(e,t,s)):(Ve&&r&&ay(t),t.flags|=1,It(e,t,n,s),t.child)}function w0(e,t,n,r,s){if(Qt(n)){var i=!0;dd(t)}else i=!1;if(Ha(t,s),t.stateNode===null)Fu(e,t),K_(t,n,r),tp(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=Qt(n)?$i:Pt.current,u=fo(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&m0(t,a,r,u),cs=!1;var f=t.memoizedState;a.state=f,gd(t,r,a,s),c=t.memoizedState,l!==r||f!==c||Yt.current||cs?(typeof d=="function"&&(ep(t,n,d,r),c=t.memoizedState),(l=cs||f0(t,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,C_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Vn(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=En(c):(c=Qt(n)?$i:Pt.current,c=fo(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&m0(t,a,r,c),cs=!1,f=t.memoizedState,a.state=f,gd(t,r,a,s);var v=t.memoizedState;l!==h||f!==v||Yt.current||cs?(typeof m=="function"&&(ep(t,n,m,r),v=t.memoizedState),(u=cs||f0(t,n,u,r,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sp(e,t,n,r,i,s)}function sp(e,t,n,r,s,i){Z_(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&i0(t,n,!1),Vr(e,t,i);r=t.stateNode,A2.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=po(t,e.child,null,i),t.child=po(t,null,l,i)):It(e,t,l,i),t.memoizedState=r.state,s&&i0(t,n,!0),t.child}function J_(e){var t=e.stateNode;t.pendingContext?s0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&s0(e,t.context,!1),my(e,t.containerInfo)}function b0(e,t,n,r,s){return mo(),ly(s),t.flags|=256,It(e,t,n,r),t.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function ej(e,t,n){var r=t.pendingProps,s=We.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(We,s&1),e===null)return Zm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=fh(a,r,0,null),e=Di(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ap(n),t.memoizedState=ip,e):Sy(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return O2(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ms(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ms(l,i):(i=Di(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?ap(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=ip,r}return i=e.child,e=i.sibling,r=Ms(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sy(e,t){return t=fh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lu(e,t,n,r){return r!==null&&ly(r),po(t,e.child,null,n),e=Sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O2(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=_f(Error(D(422))),lu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=fh({mode:"visible",children:r.children},s,0,null),i=Di(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&po(t,e.child,null,a),t.child.memoizedState=ap(a),t.memoizedState=ip,i);if(!(t.mode&1))return lu(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(D(419)),r=_f(i,r,void 0),lu(e,t,a,r)}if(l=(a&e.childLanes)!==0,Ht||l){if(r=pt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ur(e,s),Jn(r,e,s,-1))}return Ey(),r=_f(Error(D(421))),lu(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=q2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,sn=As(s.nextSibling),an=t,Ve=!0,Yn=null,e!==null&&(wn[bn++]=Ar,wn[bn++]=Or,wn[bn++]=Fi,Ar=e.id,Or=e.overflow,Fi=t),t=Sy(t,r.children),t.flags|=4096,t)}function S0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jm(e.return,t,n)}function jf(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function tj(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(It(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&S0(e,n,t);else if(e.tag===19)S0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(We,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),jf(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}jf(t,!0,n,null,i);break;case"together":jf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function I2(e,t,n){switch(t.tag){case 3:J_(t),mo();break;case 5:N_(t);break;case 1:Qt(t.type)&&dd(t);break;case 4:my(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;De(md,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(We,We.current&1),t.flags|=128,null):n&t.child.childLanes?ej(e,t,n):(De(We,We.current&1),e=Vr(e,t,n),e!==null?e.sibling:null);De(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tj(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(We,We.current),r)break;return null;case 22:case 23:return t.lanes=0,X_(e,t,n)}return Vr(e,t,n)}var nj,op,rj,sj;nj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};op=function(){};rj=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,bi(yr.current);var i=null;switch(n){case"input":s=Tm(e,s),r=Tm(e,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=Am(e,s),r=Am(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=cd)}Im(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ul.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ul.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$e("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};sj=function(e,t,n,r){n!==r&&(t.flags|=4)};function nl(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function D2(e,t,n){var r=t.pendingProps;switch(oy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Qt(t.type)&&ud(),jt(t),null;case 3:return r=t.stateNode,go(),Fe(Yt),Fe(Pt),gy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(au(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(pp(Yn),Yn=null))),op(e,t),jt(t),null;case 5:py(t);var s=bi(Zl.current);if(n=t.type,e!==null&&t.stateNode!=null)rj(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return jt(t),null}if(e=bi(yr.current),au(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fr]=t,r[Ql]=i,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(s=0;s<ml.length;s++)$e(ml[s],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":Rx(r,i),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$e("invalid",r);break;case"textarea":Ox(r,i),$e("invalid",r)}Im(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&iu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&iu(r.textContent,l,e),s=["children",""+l]):Ul.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&$e("scroll",r)}switch(n){case"input":Xc(r),Ax(r,i,!0);break;case"textarea":Xc(r),Ix(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[fr]=t,e[Ql]=r,nj(e,t,!1,!1),t.stateNode=e;e:{switch(a=Dm(n,r),n){case"dialog":$e("cancel",e),$e("close",e),s=r;break;case"iframe":case"object":case"embed":$e("load",e),s=r;break;case"video":case"audio":for(s=0;s<ml.length;s++)$e(ml[s],e);s=r;break;case"source":$e("error",e),s=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),s=r;break;case"details":$e("toggle",e),s=r;break;case"input":Rx(e,r),s=Tm(e,r),$e("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),$e("invalid",e);break;case"textarea":Ox(e,r),s=Am(e,r),$e("invalid",e);break;default:s=r}Im(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?DS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OS(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vl(e,c):typeof c=="number"&&Vl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ul.hasOwnProperty(i)?c!=null&&i==="onScroll"&&$e("scroll",e):c!=null&&qg(e,i,c,a))}switch(n){case"input":Xc(e),Ax(e,r,!1);break;case"textarea":Xc(e),Ix(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Va(e,!!r.multiple,i,!1):r.defaultValue!=null&&Va(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)sj(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=bi(Zl.current),bi(yr.current),au(t)){if(r=t.stateNode,n=t.memoizedProps,r[fr]=t,(i=r.nodeValue!==n)&&(e=an,e!==null))switch(e.tag){case 3:iu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&iu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=t,t.stateNode=r}return jt(t),null;case 13:if(Fe(We),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&sn!==null&&t.mode&1&&!(t.flags&128))S_(),mo(),t.flags|=98560,i=!1;else if(i=au(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[fr]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),i=!1}else Yn!==null&&(pp(Yn),Yn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?ft===0&&(ft=3):Ey())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return go(),op(e,t),e===null&&Gl(t.stateNode.containerInfo),jt(t),null;case 10:return dy(t.type._context),jt(t),null;case 17:return Qt(t.type)&&ud(),jt(t),null;case 19:if(Fe(We),i=t.memoizedState,i===null)return jt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)nl(i,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=yd(e),a!==null){for(t.flags|=128,nl(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(We,We.current&1|2),t.child}e=e.sibling}i.tail!==null&&tt()>vo&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(e=yd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ve)return jt(t),null}else 2*tt()-i.renderingStartTime>vo&&n!==1073741824&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=tt(),t.sibling=null,n=We.current,De(We,r?n&1|2:n&1),t):(jt(t),null);case 22:case 23:return Ny(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?en&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function M2(e,t){switch(oy(t),t.tag){case 1:return Qt(t.type)&&ud(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return go(),Fe(Yt),Fe(Pt),gy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return py(t),null;case 13:if(Fe(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(We),null;case 4:return go(),null;case 10:return dy(t.type._context),null;case 22:case 23:return Ny(),null;case 24:return null;default:return null}}var cu=!1,Nt=!1,L2=typeof WeakSet=="function"?WeakSet:Set,G=null;function Oa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function lp(e,t,n){try{n()}catch(r){et(e,t,r)}}var _0=!1;function $2(e,t){if(Hm=ad,e=c_(),iy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:e,selectionRange:n},ad=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:Vn(t.type,g),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){et(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return v=_0,_0=!1,v}function El(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&lp(t,n,i)}s=s.next}while(s!==r)}}function dh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ij(e){var t=e.alternate;t!==null&&(e.alternate=null,ij(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fr],delete t[Ql],delete t[Ym],delete t[w2],delete t[b2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aj(e){return e.tag===5||e.tag===3||e.tag===4}function j0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=cd));else if(r!==4&&(e=e.child,e!==null))for(up(e,t,n),e=e.sibling;e!==null;)up(e,t,n),e=e.sibling}function dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dp(e,t,n),e=e.sibling;e!==null;)dp(e,t,n),e=e.sibling}var vt=null,Hn=!1;function es(e,t,n){for(n=n.child;n!==null;)oj(e,t,n),n=n.sibling}function oj(e,t,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(rh,n)}catch{}switch(n.tag){case 5:Nt||Oa(n,t);case 6:var r=vt,s=Hn;vt=null,es(e,t,n),vt=r,Hn=s,vt!==null&&(Hn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Hn?(e=vt,n=n.stateNode,e.nodeType===8?yf(e.parentNode,n):e.nodeType===1&&yf(e,n),Hl(e)):yf(vt,n.stateNode));break;case 4:r=vt,s=Hn,vt=n.stateNode.containerInfo,Hn=!0,es(e,t,n),vt=r,Hn=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&lp(n,t,a),s=s.next}while(s!==r)}es(e,t,n);break;case 1:if(!Nt&&(Oa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){et(n,t,l)}es(e,t,n);break;case 21:es(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,es(e,t,n),Nt=r):es(e,t,n);break;default:es(e,t,n)}}function k0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new L2),t.forEach(function(r){var s=K2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Hn=!1;break e;case 3:vt=l.stateNode.containerInfo,Hn=!0;break e;case 4:vt=l.stateNode.containerInfo,Hn=!0;break e}l=l.return}if(vt===null)throw Error(D(160));oj(i,a,s),vt=null,Hn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lj(t,e),t=t.sibling}function lj(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(t,e),ar(e),r&4){try{El(3,e,e.return),dh(3,e)}catch(g){et(e,e.return,g)}try{El(5,e,e.return)}catch(g){et(e,e.return,g)}}break;case 1:Dn(t,e),ar(e),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(Dn(t,e),ar(e),r&512&&n!==null&&Oa(n,n.return),e.flags&32){var s=e.stateNode;try{Vl(s,"")}catch(g){et(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&PS(s,i),Dm(l,a);var u=Dm(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?DS(s,h):d==="dangerouslySetInnerHTML"?OS(s,h):d==="children"?Vl(s,h):qg(s,d,h,u)}switch(l){case"input":Pm(s,i);break;case"textarea":RS(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Va(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Va(s,!!i.multiple,i.defaultValue,!0):Va(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ql]=i}catch(g){et(e,e.return,g)}}break;case 6:if(Dn(t,e),ar(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){et(e,e.return,g)}}break;case 3:if(Dn(t,e),ar(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(g){et(e,e.return,g)}break;case 4:Dn(t,e),ar(e);break;case 13:Dn(t,e),ar(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ky=tt())),r&4&&k0(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(u=Nt)||d,Dn(t,e),Nt=u):Dn(t,e),ar(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(G=e,d=e.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,m=f.child,f.tag){case 0:case 11:case 14:case 15:El(4,f,f.return);break;case 1:Oa(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){et(r,n,g)}}break;case 5:Oa(f,f.return);break;case 22:if(f.memoizedState!==null){N0(h);continue}}m!==null?(m.return=f,G=m):N0(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=IS("display",a))}catch(g){et(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){et(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dn(t,e),ar(e),r&4&&k0(e);break;case 21:break;default:Dn(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aj(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vl(s,""),r.flags&=-33);var i=j0(e);dp(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=j0(e);up(e,l,a);break;default:throw Error(D(161))}}catch(c){et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F2(e,t,n){G=e,cj(e)}function cj(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||cu;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Nt;l=cu;var u=Nt;if(cu=a,(Nt=c)&&!u)for(G=s;G!==null;)a=G,c=a.child,a.tag===22&&a.memoizedState!==null?E0(s):c!==null?(c.return=a,G=c):E0(s);for(;i!==null;)G=i,cj(i),i=i.sibling;G=s,cu=l,Nt=u}C0(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):C0(e)}}function C0(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||dh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&u0(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}u0(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Nt||t.flags&512&&cp(t)}catch(f){et(t,t.return,f)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function N0(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function E0(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dh(4,t)}catch(c){et(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){et(t,s,c)}}var i=t.return;try{cp(t)}catch(c){et(t,i,c)}break;case 5:var a=t.return;try{cp(t)}catch(c){et(t,a,c)}}}catch(c){et(t,t.return,c)}if(t===e){G=null;break}var l=t.sibling;if(l!==null){l.return=t.return,G=l;break}G=t.return}}var U2=Math.ceil,wd=Gr.ReactCurrentDispatcher,_y=Gr.ReactCurrentOwner,Cn=Gr.ReactCurrentBatchConfig,Se=0,pt=null,at=null,wt=0,en=0,Ia=Xs(0),ft=0,nc=null,Vi=0,hh=0,jy=0,Tl=null,Wt=null,ky=0,vo=1/0,Nr=null,bd=!1,hp=null,Is=null,uu=!1,Cs=null,Sd=0,Pl=0,fp=null,Uu=-1,Vu=0;function Lt(){return Se&6?tt():Uu!==-1?Uu:Uu=tt()}function Ds(e){return e.mode&1?Se&2&&wt!==0?wt&-wt:_2.transition!==null?(Vu===0&&(Vu=KS()),Vu):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:e_(e.type)),e):1}function Jn(e,t,n,r){if(50<Pl)throw Pl=0,fp=null,Error(D(185));Tc(e,n,r),(!(Se&2)||e!==pt)&&(e===pt&&(!(Se&2)&&(hh|=n),ft===4&&fs(e,wt)),Xt(e,r),n===1&&Se===0&&!(t.mode&1)&&(vo=tt()+500,lh&&Zs()))}function Xt(e,t){var n=e.callbackNode;_A(e,t);var r=id(e,e===pt?wt:0);if(r===0)n!==null&&Lx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lx(n),t===1)e.tag===0?S2(T0.bind(null,e)):x_(T0.bind(null,e)),v2(function(){!(Se&6)&&Zs()}),n=null;else{switch(GS(r)){case 1:n=Xg;break;case 4:n=HS;break;case 16:n=sd;break;case 536870912:n=qS;break;default:n=sd}n=yj(n,uj.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uj(e,t){if(Uu=-1,Vu=0,Se&6)throw Error(D(327));var n=e.callbackNode;if(qa()&&e.callbackNode!==n)return null;var r=id(e,e===pt?wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_d(e,r);else{t=r;var s=Se;Se|=2;var i=hj();(pt!==e||wt!==t)&&(Nr=null,vo=tt()+500,Ii(e,t));do try{z2();break}catch(l){dj(e,l)}while(!0);uy(),wd.current=i,Se=s,at!==null?t=0:(pt=null,wt=0,t=ft)}if(t!==0){if(t===2&&(s=Um(e),s!==0&&(r=s,t=mp(e,s))),t===1)throw n=nc,Ii(e,0),fs(e,r),Xt(e,tt()),n;if(t===6)fs(e,r);else{if(s=e.current.alternate,!(r&30)&&!V2(s)&&(t=_d(e,r),t===2&&(i=Um(e),i!==0&&(r=i,t=mp(e,i))),t===1))throw n=nc,Ii(e,0),fs(e,r),Xt(e,tt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:fi(e,Wt,Nr);break;case 3:if(fs(e,r),(r&130023424)===r&&(t=ky+500-tt(),10<t)){if(id(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Gm(fi.bind(null,e,Wt,Nr),t);break}fi(e,Wt,Nr);break;case 4:if(fs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Zn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U2(r/1960))-r,10<r){e.timeoutHandle=Gm(fi.bind(null,e,Wt,Nr),r);break}fi(e,Wt,Nr);break;case 5:fi(e,Wt,Nr);break;default:throw Error(D(329))}}}return Xt(e,tt()),e.callbackNode===n?uj.bind(null,e):null}function mp(e,t){var n=Tl;return e.current.memoizedState.isDehydrated&&(Ii(e,t).flags|=256),e=_d(e,t),e!==2&&(t=Wt,Wt=n,t!==null&&pp(t)),e}function pp(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function V2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fs(e,t){for(t&=~jy,t&=~hh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zn(t),r=1<<n;e[n]=-1,t&=~r}}function T0(e){if(Se&6)throw Error(D(327));qa();var t=id(e,0);if(!(t&1))return Xt(e,tt()),null;var n=_d(e,t);if(e.tag!==0&&n===2){var r=Um(e);r!==0&&(t=r,n=mp(e,r))}if(n===1)throw n=nc,Ii(e,0),fs(e,t),Xt(e,tt()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fi(e,Wt,Nr),Xt(e,tt()),null}function Cy(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(vo=tt()+500,lh&&Zs())}}function Bi(e){Cs!==null&&Cs.tag===0&&!(Se&6)&&qa();var t=Se;Se|=1;var n=Cn.transition,r=Pe;try{if(Cn.transition=null,Pe=1,e)return e()}finally{Pe=r,Cn.transition=n,Se=t,!(Se&6)&&Zs()}}function Ny(){en=Ia.current,Fe(Ia)}function Ii(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,y2(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(oy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ud();break;case 3:go(),Fe(Yt),Fe(Pt),gy();break;case 5:py(r);break;case 4:go();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:dy(r.type._context);break;case 22:case 23:Ny()}n=n.return}if(pt=e,at=e=Ms(e.current,null),wt=en=t,ft=0,nc=null,jy=hh=Vi=0,Wt=Tl=null,wi!==null){for(t=0;t<wi.length;t++)if(n=wi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}wi=null}return e}function dj(e,t){do{var n=at;try{if(uy(),Lu.current=xd,vd){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vd=!1}if(Ui=0,mt=dt=qe=null,Nl=!1,Jl=0,_y.current=null,n===null||n.return===null){ft=1,nc=t,at=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=g0(a);if(m!==null){m.flags&=-257,y0(m,a,l,i,t),m.mode&1&&p0(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){p0(i,u,t),Ey();break e}c=Error(D(426))}}else if(Ve&&l.mode&1){var y=g0(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),y0(y,a,l,i,t),ly(yo(c,l));break e}}i=c=yo(c,l),ft!==4&&(ft=2),Tl===null?Tl=[i]:Tl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=G_(i,c,t);c0(i,w);break e;case 1:l=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Is===null||!Is.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Y_(i,l,t);c0(i,S);break e}}i=i.return}while(i!==null)}mj(n)}catch(_){t=_,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function hj(){var e=wd.current;return wd.current=xd,e===null?xd:e}function Ey(){(ft===0||ft===3||ft===2)&&(ft=4),pt===null||!(Vi&268435455)&&!(hh&268435455)||fs(pt,wt)}function _d(e,t){var n=Se;Se|=2;var r=hj();(pt!==e||wt!==t)&&(Nr=null,Ii(e,t));do try{B2();break}catch(s){dj(e,s)}while(!0);if(uy(),Se=n,wd.current=r,at!==null)throw Error(D(261));return pt=null,wt=0,ft}function B2(){for(;at!==null;)fj(at)}function z2(){for(;at!==null&&!mA();)fj(at)}function fj(e){var t=gj(e.alternate,e,en);e.memoizedProps=e.pendingProps,t===null?mj(e):at=t,_y.current=null}function mj(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=M2(n,t),n!==null){n.flags&=32767,at=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,at=null;return}}else if(n=D2(n,t,en),n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);ft===0&&(ft=5)}function fi(e,t,n){var r=Pe,s=Cn.transition;try{Cn.transition=null,Pe=1,W2(e,t,n,r)}finally{Cn.transition=s,Pe=r}return null}function W2(e,t,n,r){do qa();while(Cs!==null);if(Se&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jA(e,i),e===pt&&(at=pt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uu||(uu=!0,yj(sd,function(){return qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var a=Pe;Pe=1;var l=Se;Se|=4,_y.current=null,$2(e,n),lj(n,e),u2(qm),ad=!!Hm,qm=Hm=null,e.current=n,F2(n),pA(),Se=l,Pe=a,Cn.transition=i}else e.current=n;if(uu&&(uu=!1,Cs=e,Sd=s),i=e.pendingLanes,i===0&&(Is=null),vA(n.stateNode),Xt(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bd)throw bd=!1,e=hp,hp=null,e;return Sd&1&&e.tag!==0&&qa(),i=e.pendingLanes,i&1?e===fp?Pl++:(Pl=0,fp=e):Pl=0,Zs(),null}function qa(){if(Cs!==null){var e=GS(Sd),t=Cn.transition,n=Pe;try{if(Cn.transition=null,Pe=16>e?16:e,Cs===null)var r=!1;else{if(e=Cs,Cs=null,Sd=0,Se&6)throw Error(D(331));var s=Se;for(Se|=4,G=e.current;G!==null;){var i=G,a=i.child;if(G.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:El(8,d,i)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,m=d.return;if(ij(d),d===u){G=null;break}if(f!==null){f.return=m,G=f;break}G=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}G=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,G=a;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:El(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,G=w;break e}G=i.return}}var x=e.current;for(G=x;G!==null;){a=G;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,G=b;else e:for(a=x;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dh(9,l)}}catch(_){et(l,l.return,_)}if(l===a){G=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,G=S;break e}G=l.return}}if(Se=s,Zs(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(rh,e)}catch{}r=!0}return r}finally{Pe=n,Cn.transition=t}}return!1}function P0(e,t,n){t=yo(n,t),t=G_(e,t,1),e=Os(e,t,1),t=Lt(),e!==null&&(Tc(e,1,t),Xt(e,t))}function et(e,t,n){if(e.tag===3)P0(e,e,n);else for(;t!==null;){if(t.tag===3){P0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){e=yo(n,e),e=Y_(t,e,1),t=Os(t,e,1),e=Lt(),t!==null&&(Tc(t,1,e),Xt(t,e));break}}t=t.return}}function H2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,pt===e&&(wt&n)===n&&(ft===4||ft===3&&(wt&130023424)===wt&&500>tt()-ky?Ii(e,0):jy|=n),Xt(e,t)}function pj(e,t){t===0&&(e.mode&1?(t=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):t=1);var n=Lt();e=Ur(e,t),e!==null&&(Tc(e,t,n),Xt(e,n))}function q2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pj(e,n)}function K2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),pj(e,n)}var gj;gj=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yt.current)Ht=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ht=!1,I2(e,t,n);Ht=!!(e.flags&131072)}else Ht=!1,Ve&&t.flags&1048576&&w_(t,fd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fu(e,t),e=t.pendingProps;var s=fo(t,Pt.current);Ha(t,n),s=vy(null,t,r,e,s,n);var i=xy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qt(r)?(i=!0,dd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fy(t),s.updater=uh,t.stateNode=s,s._reactInternals=t,tp(t,r,e,n),t=sp(null,t,r,!0,i,n)):(t.tag=0,Ve&&i&&ay(t),It(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Y2(r),e=Vn(r,e),s){case 0:t=rp(null,t,r,e,n);break e;case 1:t=w0(null,t,r,e,n);break e;case 11:t=v0(null,t,r,e,n);break e;case 14:t=x0(null,t,r,Vn(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vn(r,s),rp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vn(r,s),w0(e,t,r,s,n);case 3:e:{if(J_(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,s=i.element,C_(e,t),gd(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=yo(Error(D(423)),t),t=b0(e,t,r,n,s);break e}else if(r!==s){s=yo(Error(D(424)),t),t=b0(e,t,r,n,s);break e}else for(sn=As(t.stateNode.containerInfo.firstChild),an=t,Ve=!0,Yn=null,n=j_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===s){t=Vr(e,t,n);break e}It(e,t,r,n)}t=t.child}return t;case 5:return N_(t),e===null&&Zm(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Km(r,s)?a=null:i!==null&&Km(r,i)&&(t.flags|=32),Z_(e,t),It(e,t,a,n),t.child;case 6:return e===null&&Zm(t),null;case 13:return ej(e,t,n);case 4:return my(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=po(t,null,r,n):It(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vn(r,s),v0(e,t,r,s,n);case 7:return It(e,t,t.pendingProps,n),t.child;case 8:return It(e,t,t.pendingProps.children,n),t.child;case 12:return It(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,De(md,r._currentValue),r._currentValue=a,i!==null)if(er(i.value,a)){if(i.children===s.children&&!Yt.current){t=Vr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Dr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Jm(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Jm(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}It(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ha(t,n),s=En(s),r=r(s),t.flags|=1,It(e,t,r,n),t.child;case 14:return r=t.type,s=Vn(r,t.pendingProps),s=Vn(r.type,s),x0(e,t,r,s,n);case 15:return Q_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vn(r,s),Fu(e,t),t.tag=1,Qt(r)?(e=!0,dd(t)):e=!1,Ha(t,n),K_(t,r,s),tp(t,r,s,n),sp(null,t,r,!0,e,n);case 19:return tj(e,t,n);case 22:return X_(e,t,n)}throw Error(D(156,t.tag))};function yj(e,t){return WS(e,t)}function G2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,n,r){return new G2(e,t,n,r)}function Ty(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y2(e){if(typeof e=="function")return Ty(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gg)return 11;if(e===Yg)return 14}return 2}function Ms(e,t){var n=e.alternate;return n===null?(n=Sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bu(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Ty(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ja:return Di(n.children,s,i,t);case Kg:a=8,s|=8;break;case km:return e=Sn(12,n,t,s|2),e.elementType=km,e.lanes=i,e;case Cm:return e=Sn(13,n,t,s),e.elementType=Cm,e.lanes=i,e;case Nm:return e=Sn(19,n,t,s),e.elementType=Nm,e.lanes=i,e;case NS:return fh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kS:a=10;break e;case CS:a=9;break e;case Gg:a=11;break e;case Yg:a=14;break e;case ls:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Sn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Di(e,t,n,r){return e=Sn(7,e,r,t),e.lanes=n,e}function fh(e,t,n,r){return e=Sn(22,e,r,t),e.elementType=NS,e.lanes=n,e.stateNode={isHidden:!1},e}function kf(e,t,n){return e=Sn(6,e,null,t),e.lanes=n,e}function Cf(e,t,n){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Q2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=af(0),this.expirationTimes=af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Py(e,t,n,r,s,i,a,l,c){return e=new Q2(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Sn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fy(i),e}function X2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vj(e){if(!e)return Bs;e=e._reactInternals;e:{if(Zi(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Qt(n))return v_(e,n,t)}return t}function xj(e,t,n,r,s,i,a,l,c){return e=Py(n,r,!0,e,s,i,a,l,c),e.context=vj(null),n=e.current,r=Lt(),s=Ds(n),i=Dr(r,s),i.callback=t??null,Os(n,i,s),e.current.lanes=s,Tc(e,s,r),Xt(e,r),e}function mh(e,t,n,r){var s=t.current,i=Lt(),a=Ds(s);return n=vj(n),t.context===null?t.context=n:t.pendingContext=n,t=Dr(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Os(s,t,a),e!==null&&(Jn(e,s,a,i),Mu(e,s,a)),a}function jd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function R0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ry(e,t){R0(e,t),(e=e.alternate)&&R0(e,t)}function Z2(){return null}var wj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ay(e){this._internalRoot=e}ph.prototype.render=Ay.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));mh(e,t,null,null)};ph.prototype.unmount=Ay.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bi(function(){mh(null,e,null,null)}),t[Fr]=null}};function ph(e){this._internalRoot=e}ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=XS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hs.length&&t!==0&&t<hs[n].priority;n++);hs.splice(n,0,e),n===0&&JS(e)}};function Oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function A0(){}function J2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=jd(a);i.call(u)}}var a=xj(t,r,e,0,null,!1,!1,"",A0);return e._reactRootContainer=a,e[Fr]=a.current,Gl(e.nodeType===8?e.parentNode:e),Bi(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=jd(c);l.call(u)}}var c=Py(e,0,!1,null,null,!1,!1,"",A0);return e._reactRootContainer=c,e[Fr]=c.current,Gl(e.nodeType===8?e.parentNode:e),Bi(function(){mh(t,c,n,r)}),c}function yh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=jd(a);l.call(c)}}mh(t,a,e,s)}else a=J2(n,t,e,s,r);return jd(a)}YS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fl(t.pendingLanes);n!==0&&(Zg(t,n|1),Xt(t,tt()),!(Se&6)&&(vo=tt()+500,Zs()))}break;case 13:Bi(function(){var r=Ur(e,1);if(r!==null){var s=Lt();Jn(r,e,1,s)}}),Ry(e,1)}};Jg=function(e){if(e.tag===13){var t=Ur(e,134217728);if(t!==null){var n=Lt();Jn(t,e,134217728,n)}Ry(e,134217728)}};QS=function(e){if(e.tag===13){var t=Ds(e),n=Ur(e,t);if(n!==null){var r=Lt();Jn(n,e,t,r)}Ry(e,t)}};XS=function(){return Pe};ZS=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Lm=function(e,t,n){switch(t){case"input":if(Pm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=oh(r);if(!s)throw Error(D(90));TS(r),Pm(r,s)}}}break;case"textarea":RS(e,n);break;case"select":t=n.value,t!=null&&Va(e,!!n.multiple,t,!1)}};$S=Cy;FS=Bi;var eO={usingClientEntryPoint:!1,Events:[Rc,Ea,oh,MS,LS,Cy]},rl={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tO={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=BS(e),e===null?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||Z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{rh=du.inject(tO),gr=du}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eO;dn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(t))throw Error(D(200));return X2(e,t,null,n)};dn.createRoot=function(e,t){if(!Oy(e))throw Error(D(299));var n=!1,r="",s=wj;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Py(e,1,!1,null,null,n,!1,r,s),e[Fr]=t.current,Gl(e.nodeType===8?e.parentNode:e),new Ay(t)};dn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=BS(t),e=e===null?null:e.stateNode,e};dn.flushSync=function(e){return Bi(e)};dn.hydrate=function(e,t,n){if(!gh(t))throw Error(D(200));return yh(null,e,t,!0,n)};dn.hydrateRoot=function(e,t,n){if(!Oy(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=wj;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=xj(t,null,e,1,n??null,s,!1,i,a),e[Fr]=t.current,Gl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ph(t)};dn.render=function(e,t,n){if(!gh(t))throw Error(D(200));return yh(null,e,t,!1,n)};dn.unmountComponentAtNode=function(e){if(!gh(e))throw Error(D(40));return e._reactRootContainer?(Bi(function(){yh(null,null,e,!1,function(){e._reactRootContainer=null,e[Fr]=null})}),!0):!1};dn.unstable_batchedUpdates=Cy;dn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gh(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return yh(e,t,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function bj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bj)}catch(e){console.error(e)}}bj(),bS.exports=dn;var Ji=bS.exports;const Sj=cS(Ji);var _j,O0=Ji;_j=O0.createRoot,O0.hydrateRoot;const nO=1,rO=1e6;let Nf=0;function sO(){return Nf=(Nf+1)%Number.MAX_SAFE_INTEGER,Nf.toString()}const Ef=new Map,I0=e=>{if(Ef.has(e))return;const t=setTimeout(()=>{Ef.delete(e),Rl({type:"REMOVE_TOAST",toastId:e})},rO);Ef.set(e,t)},iO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?I0(n):e.toasts.forEach(r=>{I0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},zu=[];let Wu={toasts:[]};function Rl(e){Wu=iO(Wu,e),zu.forEach(t=>{t(Wu)})}function aO({...e}){const t=sO(),n=s=>Rl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Rl({type:"DISMISS_TOAST",toastId:t});return Rl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function sr(){const[e,t]=p.useState(Wu);return p.useEffect(()=>(zu.push(t),()=>{const n=zu.indexOf(t);n>-1&&zu.splice(n,1)}),[e]),{...e,toast:aO,dismiss:n=>Rl({type:"DISMISS_TOAST",toastId:n})}}function Y(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function D0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jj(...e){return t=>{let n=!1;const r=e.map(s=>{const i=D0(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():D0(e[s],null)}}}}function ye(...e){return p.useCallback(jj(...e),e)}function oO(e,t){const n=p.createContext(t),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function fn(e,t=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=h=>{var w;const{scope:f,children:m,...v}=h,g=((w=f==null?void 0:f[e])==null?void 0:w[c])||l,y=p.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(h,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,v=p.useContext(m);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,lO(s,...t)]}function lO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function zi(e){const t=uO(e),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,l=p.Children.toArray(i),c=l.find(hO);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var cO=zi("Slot");function uO(e){const t=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=mO(s),l=fO(i,s.props);return s.type!==p.Fragment&&(l.ref=r?jj(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kj=Symbol("radix.slottable");function dO(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=kj,t}function hO(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kj}function fO(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function mO(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Iy(e){const t=e+"CollectionProvider",[n,r]=fn(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:y,children:w}=g,x=$.useRef(null),b=$.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:b,collectionRef:x,children:w})};a.displayName=t;const l=e+"CollectionSlot",c=zi(l),u=$.forwardRef((g,y)=>{const{scope:w,children:x}=g,b=i(l,w),S=ye(y,b.collectionRef);return o.jsx(c,{ref:S,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=zi(d),m=$.forwardRef((g,y)=>{const{scope:w,children:x,...b}=g,S=$.useRef(null),_=ye(y,S),j=i(d,w);return $.useEffect(()=>(j.itemMap.set(S,{ref:S,...b}),()=>void j.itemMap.delete(S))),o.jsx(f,{[h]:"",ref:_,children:x})});m.displayName=d;function v(g){const y=i(e+"CollectionConsumer",g);return $.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((j,k)=>b.indexOf(j.ref.current)-b.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},v,r]}var pO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=pO.reduce((e,t)=>{const n=zi(`Primitive.${t}`),r=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Cj(e,t){e&&Ji.flushSync(()=>e.dispatchEvent(t))}function ot(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function gO(e,t=globalThis==null?void 0:globalThis.document){const n=ot(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var yO="DismissableLayer",gp="dismissableLayer.update",vO="dismissableLayer.pointerDownOutside",xO="dismissableLayer.focusOutside",M0,Nj=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oo=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=e,u=p.useContext(Nj),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),v=ye(t,k=>h(k)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),x=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=w,_=bO(k=>{const C=k.target,T=[...u.branches].some(E=>E.contains(C));!S||T||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},f),j=SO(k=>{const C=k.target;[...u.branches].some(E=>E.contains(C))||(i==null||i(k),a==null||a(k),k.defaultPrevented||l==null||l())},f);return gO(k=>{x===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(M0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),L0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=M0)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),L0())},[d,u]),p.useEffect(()=>{const k=()=>m({});return document.addEventListener(gp,k),()=>document.removeEventListener(gp,k)},[]),o.jsx(te.div,{...c,ref:v,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,_.onPointerDownCapture)})});Oo.displayName=yO;var wO="DismissableLayerBranch",Ej=p.forwardRef((e,t)=>{const n=p.useContext(Nj),r=p.useRef(null),s=ye(t,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(te.div,{...e,ref:s})});Ej.displayName=wO;function bO(e,t=globalThis==null?void 0:globalThis.document){const n=ot(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Tj(vO,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function SO(e,t=globalThis==null?void 0:globalThis.document){const n=ot(e),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&Tj(xO,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L0(){const e=new CustomEvent(gp);document.dispatchEvent(e)}function Tj(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Cj(s,i):s.dispatchEvent(i)}var _O=Oo,jO=Ej,rt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},kO="Portal",Oc=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=p.useState(!1);rt(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Sj.createPortal(o.jsx(te.div,{...r,ref:t}),a):null});Oc.displayName=kO;function CO(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Zt=e=>{const{present:t,children:n}=e,r=NO(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=ye(r.ref,EO(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Zt.displayName="Presence";function NO(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=CO(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=hu(r.current);i.current=l==="mounted"?u:"none"},[l]),rt(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,m=hu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),rt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const g=hu(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=m=>{m.target===t&&(i.current=hu(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function hu(e){return(e==null?void 0:e.animationName)||"none"}function EO(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var TO=zg[" useInsertionEffect ".trim().toString()]||rt;function Br({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,a]=PO({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var h;if(l){const f=RO(d)?d(e):d;f!==e&&((h=a.current)==null||h.call(a,f))}else i(d)},[l,e,i,a]);return[c,u]}function PO({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),i=p.useRef(t);return TO(()=>{i.current=t},[t]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function RO(e){return typeof e=="function"}var Pj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AO="VisuallyHidden",vh=p.forwardRef((e,t)=>o.jsx(te.span,{...e,ref:t,style:{...Pj,...e.style}}));vh.displayName=AO;var OO=vh,Dy="ToastProvider",[My,IO,DO]=Iy("Toast"),[Rj,C7]=fn("Toast",[DO]),[MO,xh]=Rj(Dy),Aj=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dy}\`. Expected non-empty \`string\`.`),o.jsx(My.Provider,{scope:t,children:o.jsx(MO,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};Aj.displayName=Dy;var Oj="ToastViewport",LO=["F8"],yp="toast.viewportPause",vp="toast.viewportResume",Ij=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=LO,label:s="Notifications ({hotkey})",...i}=e,a=xh(Oj,n),l=IO(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=ye(t,h,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;p.useEffect(()=>{const y=w=>{var b;r.length!==0&&r.every(S=>w[S]||w.code===S)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),p.useEffect(()=>{const y=c.current,w=h.current;if(v&&y&&w){const x=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(yp);w.dispatchEvent(j),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(vp);w.dispatchEvent(j),a.isClosePausedRef.current=!1}},S=j=>{!y.contains(j.relatedTarget)&&b()},_=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",x),y.addEventListener("focusout",S),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[v,a.isClosePausedRef]);const g=p.useCallback(({tabbingDirection:y})=>{const x=l().map(b=>{const S=b.ref.current,_=[S,...QO(S)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?x.reverse():x).flat()},[l]);return p.useEffect(()=>{const y=h.current;if(y){const w=x=>{var _,j,k;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const C=document.activeElement,T=x.shiftKey;if(x.target===y&&T){(_=u.current)==null||_.focus();return}const P=g({tabbingDirection:T?"backwards":"forwards"}),W=P.findIndex(I=>I===C);Tf(P.slice(W+1))?x.preventDefault():T?(j=u.current)==null||j.focus():(k=d.current)==null||k.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[l,g]),o.jsxs(jO,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(xp,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Tf(y)}}),o.jsx(My.Slot,{scope:n,children:o.jsx(te.ol,{tabIndex:-1,...i,ref:f})}),v&&o.jsx(xp,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Tf(y)}})]})});Ij.displayName=Oj;var Dj="ToastFocusProxy",xp=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=xh(Dj,n);return o.jsx(vh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});xp.displayName=Dj;var Ic="Toast",$O="toast.swipeStart",FO="toast.swipeMove",UO="toast.swipeCancel",VO="toast.swipeEnd",Mj=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=e,[l,c]=Br({prop:r,defaultProp:s??!0,onChange:i,caller:Ic});return o.jsx(Zt,{present:n||l,children:o.jsx(WO,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:ot(e.onPause),onResume:ot(e.onResume),onSwipeStart:Y(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Y(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Mj.displayName=Ic;var[BO,zO]=Rj(Ic,{onClose(){}}),WO=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...v}=e,g=xh(Ic,n),[y,w]=p.useState(null),x=ye(t,I=>w(I)),b=p.useRef(null),S=p.useRef(null),_=s||g.duration,j=p.useRef(0),k=p.useRef(_),C=p.useRef(0),{onToastAdd:T,onToastRemove:E}=g,O=ot(()=>{var Q;(y==null?void 0:y.contains(document.activeElement))&&((Q=g.viewport)==null||Q.focus()),a()}),P=p.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(O,I))},[O]);p.useEffect(()=>{const I=g.viewport;if(I){const Q=()=>{P(k.current),u==null||u()},F=()=>{const U=new Date().getTime()-j.current;k.current=k.current-U,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(yp,F),I.addEventListener(vp,Q),()=>{I.removeEventListener(yp,F),I.removeEventListener(vp,Q)}}},[g.viewport,_,c,u,P]),p.useEffect(()=>{i&&!g.isClosePausedRef.current&&P(_)},[i,_,g.isClosePausedRef,P]),p.useEffect(()=>(T(),()=>E()),[T,E]);const W=p.useMemo(()=>y?zj(y):null,[y]);return g.viewport?o.jsxs(o.Fragment,{children:[W&&o.jsx(HO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),o.jsx(BO,{scope:n,onClose:O,children:Ji.createPortal(o.jsx(My.ItemSlot,{scope:n,children:o.jsx(_O,{asChild:!0,onEscapeKeyDown:Y(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||O(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Y(e.onPointerDown,I=>{I.button===0&&(b.current={x:I.clientX,y:I.clientY})}),onPointerMove:Y(e.onPointerMove,I=>{if(!b.current)return;const Q=I.clientX-b.current.x,F=I.clientY-b.current.y,U=!!S.current,R=["left","right"].includes(g.swipeDirection),A=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=R?A(0,Q):0,ae=R?0:A(0,F),ee=I.pointerType==="touch"?10:2,fe={x:V,y:ae},de={originalEvent:I,delta:fe};U?(S.current=fe,fu(FO,h,de,{discrete:!1})):$0(fe,g.swipeDirection,ee)?(S.current=fe,fu($O,d,de,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(Q)>ee||Math.abs(F)>ee)&&(b.current=null)}),onPointerUp:Y(e.onPointerUp,I=>{const Q=S.current,F=I.target;if(F.hasPointerCapture(I.pointerId)&&F.releasePointerCapture(I.pointerId),S.current=null,b.current=null,Q){const U=I.currentTarget,R={originalEvent:I,delta:Q};$0(Q,g.swipeDirection,g.swipeThreshold)?fu(VO,m,R,{discrete:!0}):fu(UO,f,R,{discrete:!0}),U.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),HO=e=>{const{__scopeToast:t,children:n,...r}=e,s=xh(Ic,t),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return GO(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Oc,{asChild:!0,children:o.jsx(vh,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},qO="ToastTitle",Lj=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(te.div,{...r,ref:t})});Lj.displayName=qO;var KO="ToastDescription",$j=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(te.div,{...r,ref:t})});$j.displayName=KO;var Fj="ToastAction",Uj=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(Bj,{altText:n,asChild:!0,children:o.jsx(Ly,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Fj}\`. Expected non-empty \`string\`.`),null)});Uj.displayName=Fj;var Vj="ToastClose",Ly=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=zO(Vj,n);return o.jsx(Bj,{asChild:!0,children:o.jsx(te.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,s.onClose)})})});Ly.displayName=Vj;var Bj=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return o.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function zj(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),YO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...zj(r))}}),t}function fu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Cj(s,i):s.dispatchEvent(i)}var $0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function GO(e=()=>{}){const t=ot(e);rt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function YO(e){return e.nodeType===e.ELEMENT_NODE}function QO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Tf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var XO=Aj,Wj=Ij,Hj=Mj,qj=Lj,Kj=$j,Gj=Uj,Yj=Ly;function Qj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Qj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Xj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Qj(e))&&(r&&(r+=" "),r+=t);return r}const F0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U0=Xj,wh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return U0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=F0(d)||F0(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...u,h,f]:u},[]);return U0(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...JO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Zj("lucide",s),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(eI,{ref:i,iconNode:t,className:Zj(`lucide-${ZO(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ne("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ne("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ne("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ne("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ne("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ne("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ne("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ne("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=ne("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=ne("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Wy="-",bI=e=>{const t=_I(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Wy);return l[0]===""&&l.length!==1&&l.shift(),uk(l,t)||SI(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},uk=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?uk(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Wy);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},z0=/^\[(.+)\]$/,SI=e=>{if(z0.test(e)){const t=z0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_I=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return kI(Object.entries(e.classGroups),n).forEach(([i,a])=>{kp(a,r,i,t)}),r},kp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:W0(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(jI(s)){kp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{kp(a,W0(t,i),n,r)})})},W0=(e,t)=>{let n=e;return t.split(Wy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jI=e=>e.isThemeGetter,kI=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,CI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},dk="!",NI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let w=l[y];if(u===0){if(w===s&&(r||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(w==="/"){h=y;continue}}w==="["?u++:w==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(dk),v=m?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},EI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},TI=e=>({cache:CI(e.cacheSize),parseClassName:NI(e),...bI(e)}),PI=/\s+/,RI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(PI);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let v=!!m,g=r(v?f.substring(0,m):f);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=EI(d).join(":"),w=h?y+dk:y,x=w+g;if(i.includes(x))continue;i.push(x);const b=s(g,v);for(let S=0;S<b.length;++S){const _=b[S];i.push(w+_)}l=u+(l.length>0?" "+l:l)}return l};function AI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=hk(t))&&(r&&(r+=" "),r+=n);return r}const hk=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=hk(e[r]))&&(n&&(n+=" "),n+=t);return n};function OI(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=TI(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=RI(c,n);return s(c,d),d}return function(){return i(AI.apply(null,arguments))}}const Le=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},fk=/^\[(?:([a-z-]+):)?(.+)\]$/i,II=/^\d+\/\d+$/,DI=new Set(["px","full","screen"]),MI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$I=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kr=e=>Ga(e)||DI.has(e)||II.test(e),ts=e=>Mo(e,"length",GI),Ga=e=>!!e&&!Number.isNaN(Number(e)),Pf=e=>Mo(e,"number",Ga),sl=e=>!!e&&Number.isInteger(Number(e)),VI=e=>e.endsWith("%")&&Ga(e.slice(0,-1)),me=e=>fk.test(e),ns=e=>MI.test(e),BI=new Set(["length","size","percentage"]),zI=e=>Mo(e,BI,mk),WI=e=>Mo(e,"position",mk),HI=new Set(["image","url"]),qI=e=>Mo(e,HI,QI),KI=e=>Mo(e,"",YI),il=()=>!0,Mo=(e,t,n)=>{const r=fk.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},GI=e=>LI.test(e)&&!$I.test(e),mk=()=>!1,YI=e=>FI.test(e),QI=e=>UI.test(e),XI=()=>{const e=Le("colors"),t=Le("spacing"),n=Le("blur"),r=Le("brightness"),s=Le("borderColor"),i=Le("borderRadius"),a=Le("borderSpacing"),l=Le("borderWidth"),c=Le("contrast"),u=Le("grayscale"),d=Le("hueRotate"),h=Le("invert"),f=Le("gap"),m=Le("gradientColorStops"),v=Le("gradientColorStopPositions"),g=Le("inset"),y=Le("margin"),w=Le("opacity"),x=Le("padding"),b=Le("saturate"),S=Le("scale"),_=Le("sepia"),j=Le("skew"),k=Le("space"),C=Le("translate"),T=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",me,t],P=()=>[me,t],W=()=>["",kr,ts],I=()=>["auto",Ga,me],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",me],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Ga,me];return{cacheSize:500,separator:":",theme:{colors:[il],spacing:[kr,ts],blur:["none","",ns,me],brightness:ae(),borderColor:[e],borderRadius:["none","","full",ns,me],borderSpacing:P(),borderWidth:W(),contrast:ae(),grayscale:A(),hueRotate:ae(),invert:A(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[VI,ts],inset:O(),margin:O(),opacity:ae(),padding:P(),saturate:ae(),scale:ae(),sepia:A(),skew:ae(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[ns]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),me]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sl,me]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",sl,me]}],"grid-cols":[{"grid-cols":[il]}],"col-start-end":[{col:["auto",{span:["full",sl,me]},me]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[il]}],"row-start-end":[{row:["auto",{span:[sl,me]},me]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[ns]},ns]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ns,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pf]}],"font-family":[{font:[il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Ga,Pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kr,ts]}],"underline-offset":[{"underline-offset":["auto",kr,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),WI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[kr,me]}],"outline-w":[{outline:[kr,ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[kr,ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ns,KI]}],"shadow-color":[{shadow:[il]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ns,me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[sl,me]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kr,ts,Pf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZI=OI(XI);function le(...e){return ZI(Xj(e))}const JI=XO,pk=p.forwardRef(({className:e,...t},n)=>o.jsx(Wj,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pk.displayName=Wj.displayName;const eD=wh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gk=p.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(Hj,{ref:r,className:le(eD({variant:t}),e),...n}));gk.displayName=Hj.displayName;const tD=p.forwardRef(({className:e,...t},n)=>o.jsx(Gj,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));tD.displayName=Gj.displayName;const yk=p.forwardRef(({className:e,...t},n)=>o.jsx(Yj,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Do,{className:"h-4 w-4"})}));yk.displayName=Yj.displayName;const vk=p.forwardRef(({className:e,...t},n)=>o.jsx(qj,{ref:n,className:le("text-sm font-semibold",e),...t}));vk.displayName=qj.displayName;const xk=p.forwardRef(({className:e,...t},n)=>o.jsx(Kj,{ref:n,className:le("text-sm opacity-90",e),...t}));xk.displayName=Kj.displayName;function nD(){const{toasts:e}=sr();return o.jsxs(JI,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return o.jsxs(gk,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(vk,{children:n}),r&&o.jsx(xk,{children:r})]}),s,o.jsx(yk,{})]},t)}),o.jsx(pk,{})]})}var H0=["light","dark"],rD="(prefers-color-scheme: dark)",sD=p.createContext(void 0),iD={setTheme:e=>{},themes:[]},aD=()=>{var e;return(e=p.useContext(sD))!=null?e:iD};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?H0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,g=!1,y=!0)=>{let w=a?a[v]:v,x=g?v+"|| ''":`'${w}'`,b="";return s&&y&&!g&&H0.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),n==="class"?g||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},m=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${rD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var oD=e=>{switch(e){case"success":return uD;case"info":return hD;case"warning":return dD;case"error":return fD;default:return null}},lD=Array(12).fill(0),cD=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},lD.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),uD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pD=()=>{let[e,t]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Cp=1,gD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Cp++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],$.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(vD(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Cp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zt=new gD,yD=(e,t)=>{let n=(t==null?void 0:t.id)||Cp++;return zt.addToast({title:e,...t,id:n}),n},vD=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",xD=yD,wD=()=>zt.toasts,bD=()=>zt.getActiveToasts(),Rf=Object.assign(xD,{success:zt.success,info:zt.info,warning:zt.warning,error:zt.error,custom:zt.custom,message:zt.message,promise:zt.promise,dismiss:zt.dismiss,loading:zt.loading},{getHistory:wD,getToasts:bD});function SD(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}SD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mu(e){return e.label!==void 0}var _D=3,jD="32px",kD="16px",q0=4e3,CD=356,ND=14,ED=20,TD=200;function Mn(...e){return e.filter(Boolean).join(" ")}function PD(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var RD=e=>{var t,n,r,s,i,a,l,c,u,d,h;let{invert:f,toast:m,unstyled:v,interacting:g,setHeights:y,visibleToasts:w,heights:x,index:b,toasts:S,expanded:_,removeToast:j,defaultRichColors:k,closeButton:C,style:T,cancelButtonStyle:E,actionButtonStyle:O,className:P="",descriptionClassName:W="",duration:I,position:Q,gap:F,loadingIcon:U,expandByDefault:R,classNames:A,icons:V,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:ee}=e,[fe,de]=$.useState(null),[Me,Ge]=$.useState(null),[z,Ee]=$.useState(!1),[Ye,Ce]=$.useState(!1),[be,je]=$.useState(!1),[St,pn]=$.useState(!1),[ii,Qr]=$.useState(!1),[ai,Go]=$.useState(0),[sa,vx]=$.useState(0),Yo=$.useRef(m.duration||I||q0),xx=$.useRef(null),oi=$.useRef(null),bR=b===0,SR=b+1<=w,gn=m.type,ia=m.dismissible!==!1,_R=m.className||"",jR=m.descriptionClassName||"",Kc=$.useMemo(()=>x.findIndex(he=>he.toastId===m.id)||0,[x,m.id]),kR=$.useMemo(()=>{var he;return(he=m.closeButton)!=null?he:C},[m.closeButton,C]),wx=$.useMemo(()=>m.duration||I||q0,[m.duration,I]),Xh=$.useRef(0),aa=$.useRef(0),bx=$.useRef(0),oa=$.useRef(null),[CR,NR]=Q.split("-"),Sx=$.useMemo(()=>x.reduce((he,Re,Ue)=>Ue>=Kc?he:he+Re.height,0),[x,Kc]),_x=pD(),ER=m.invert||f,Zh=gn==="loading";aa.current=$.useMemo(()=>Kc*F+Sx,[Kc,Sx]),$.useEffect(()=>{Yo.current=wx},[wx]),$.useEffect(()=>{Ee(!0)},[]),$.useEffect(()=>{let he=oi.current;if(he){let Re=he.getBoundingClientRect().height;return vx(Re),y(Ue=>[{toastId:m.id,height:Re,position:m.position},...Ue]),()=>y(Ue=>Ue.filter(An=>An.toastId!==m.id))}},[y,m.id]),$.useLayoutEffect(()=>{if(!z)return;let he=oi.current,Re=he.style.height;he.style.height="auto";let Ue=he.getBoundingClientRect().height;he.style.height=Re,vx(Ue),y(An=>An.find(On=>On.toastId===m.id)?An.map(On=>On.toastId===m.id?{...On,height:Ue}:On):[{toastId:m.id,height:Ue,position:m.position},...An])},[z,m.title,m.description,y,m.id]);let Xr=$.useCallback(()=>{Ce(!0),Go(aa.current),y(he=>he.filter(Re=>Re.toastId!==m.id)),setTimeout(()=>{j(m)},TD)},[m,j,y,aa]);$.useEffect(()=>{if(m.promise&&gn==="loading"||m.duration===1/0||m.type==="loading")return;let he;return _||g||ee&&_x?(()=>{if(bx.current<Xh.current){let Re=new Date().getTime()-Xh.current;Yo.current=Yo.current-Re}bx.current=new Date().getTime()})():Yo.current!==1/0&&(Xh.current=new Date().getTime(),he=setTimeout(()=>{var Re;(Re=m.onAutoClose)==null||Re.call(m,m),Xr()},Yo.current)),()=>clearTimeout(he)},[_,g,m,gn,ee,_x,Xr]),$.useEffect(()=>{m.delete&&Xr()},[Xr,m.delete]);function TR(){var he,Re,Ue;return V!=null&&V.loading?$.createElement("div",{className:Mn(A==null?void 0:A.loader,(he=m==null?void 0:m.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":gn==="loading"},V.loading):U?$.createElement("div",{className:Mn(A==null?void 0:A.loader,(Re=m==null?void 0:m.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":gn==="loading"},U):$.createElement(cD,{className:Mn(A==null?void 0:A.loader,(Ue=m==null?void 0:m.classNames)==null?void 0:Ue.loader),visible:gn==="loading"})}return $.createElement("li",{tabIndex:0,ref:oi,className:Mn(P,_R,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[gn],(n=m==null?void 0:m.classNames)==null?void 0:n[gn]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:k,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":ii,"data-removed":Ye,"data-visible":SR,"data-y-position":CR,"data-x-position":NR,"data-index":b,"data-front":bR,"data-swiping":be,"data-dismissible":ia,"data-type":gn,"data-invert":ER,"data-swipe-out":St,"data-swipe-direction":Me,"data-expanded":!!(_||R&&z),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${Ye?ai:aa.current}px`,"--initial-height":R?"auto":`${sa}px`,...T,...m.style},onDragEnd:()=>{je(!1),de(null),oa.current=null},onPointerDown:he=>{Zh||!ia||(xx.current=new Date,Go(aa.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(je(!0),oa.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Re,Ue,An;if(St||!ia)return;oa.current=null;let On=Number(((he=oi.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zr=Number(((Re=oi.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),li=new Date().getTime()-((Ue=xx.current)==null?void 0:Ue.getTime()),In=fe==="x"?On:Zr,Jr=Math.abs(In)/li;if(Math.abs(In)>=ED||Jr>.11){Go(aa.current),(An=m.onDismiss)==null||An.call(m,m),Ge(fe==="x"?On>0?"right":"left":Zr>0?"down":"up"),Xr(),pn(!0),Qr(!1);return}je(!1),de(null)},onPointerMove:he=>{var Re,Ue,An,On;if(!oa.current||!ia||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Zr=he.clientY-oa.current.y,li=he.clientX-oa.current.x,In=(Ue=e.swipeDirections)!=null?Ue:PD(Q);!fe&&(Math.abs(li)>1||Math.abs(Zr)>1)&&de(Math.abs(li)>Math.abs(Zr)?"x":"y");let Jr={x:0,y:0};fe==="y"?(In.includes("top")||In.includes("bottom"))&&(In.includes("top")&&Zr<0||In.includes("bottom")&&Zr>0)&&(Jr.y=Zr):fe==="x"&&(In.includes("left")||In.includes("right"))&&(In.includes("left")&&li<0||In.includes("right")&&li>0)&&(Jr.x=li),(Math.abs(Jr.x)>0||Math.abs(Jr.y)>0)&&Qr(!0),(An=oi.current)==null||An.style.setProperty("--swipe-amount-x",`${Jr.x}px`),(On=oi.current)==null||On.style.setProperty("--swipe-amount-y",`${Jr.y}px`)}},kR&&!m.jsx?$.createElement("button",{"aria-label":ae,"data-disabled":Zh,"data-close-button":!0,onClick:Zh||!ia?()=>{}:()=>{var he;Xr(),(he=m.onDismiss)==null||he.call(m,m)},className:Mn(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=V==null?void 0:V.close)!=null?i:mD):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:$.createElement($.Fragment,null,gn||m.icon||m.promise?$.createElement("div",{"data-icon":"",className:Mn(A==null?void 0:A.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||TR():null,m.type!=="loading"?m.icon||(V==null?void 0:V[gn])||oD(gn):null):null,$.createElement("div",{"data-content":"",className:Mn(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},$.createElement("div",{"data-title":"",className:Mn(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?$.createElement("div",{"data-description":"",className:Mn(W,jR,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&mu(m.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:he=>{var Re,Ue;mu(m.cancel)&&ia&&((Ue=(Re=m.cancel).onClick)==null||Ue.call(Re,he),Xr())},className:Mn(A==null?void 0:A.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&mu(m.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:he=>{var Re,Ue;mu(m.action)&&((Ue=(Re=m.action).onClick)==null||Ue.call(Re,he),!he.defaultPrevented&&Xr())},className:Mn(A==null?void 0:A.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function K0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function AD(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?kD:jD;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var OD=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:v=_D,toastOptions:g,dir:y=K0(),gap:w=ND,loadingIcon:x,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=e,[j,k]=$.useState([]),C=$.useMemo(()=>Array.from(new Set([r].concat(j.filter(ee=>ee.position).map(ee=>ee.position)))),[j,r]),[T,E]=$.useState([]),[O,P]=$.useState(!1),[W,I]=$.useState(!1),[Q,F]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=$.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=$.useRef(null),V=$.useRef(!1),ae=$.useCallback(ee=>{k(fe=>{var de;return(de=fe.find(Me=>Me.id===ee.id))!=null&&de.delete||zt.dismiss(ee.id),fe.filter(({id:Me})=>Me!==ee.id)})},[]);return $.useEffect(()=>zt.subscribe(ee=>{if(ee.dismiss){k(fe=>fe.map(de=>de.id===ee.id?{...de,delete:!0}:de));return}setTimeout(()=>{Sj.flushSync(()=>{k(fe=>{let de=fe.findIndex(Me=>Me.id===ee.id);return de!==-1?[...fe.slice(0,de),{...fe[de],...ee},...fe.slice(de+1)]:[ee,...fe]})})})}),[]),$.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:fe})=>{F(fe?"dark":"light")})}catch{ee.addListener(({matches:de})=>{try{F(de?"dark":"light")}catch(Me){console.error(Me)}})}},[d]),$.useEffect(()=>{j.length<=1&&P(!1)},[j]),$.useEffect(()=>{let ee=fe=>{var de,Me;s.every(Ge=>fe[Ge]||fe.code===Ge)&&(P(!0),(de=U.current)==null||de.focus()),fe.code==="Escape"&&(document.activeElement===U.current||(Me=U.current)!=null&&Me.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),$.useEffect(()=>{if(U.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,V.current=!1)}},[U.current]),$.createElement("section",{ref:t,"aria-label":`${S} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ee,fe)=>{var de;let[Me,Ge]=ee.split("-");return j.length?$.createElement("ol",{key:ee,dir:y==="auto"?K0():y,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":Me,"data-lifted":O&&j.length>1&&!i,"data-x-position":Ge,style:{"--front-toast-height":`${((de=T[0])==null?void 0:de.height)||0}px`,"--width":`${CD}px`,"--gap":`${w}px`,...m,...AD(c,u)},onBlur:z=>{V.current&&!z.currentTarget.contains(z.relatedTarget)&&(V.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||V.current||(V.current=!0,A.current=z.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{W||P(!1)},onDragEnd:()=>P(!1),onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(z=>!z.position&&fe===0||z.position===ee).map((z,Ee)=>{var Ye,Ce;return $.createElement(RD,{key:z.id,icons:b,index:Ee,toast:z,defaultRichColors:h,duration:(Ye=g==null?void 0:g.duration)!=null?Ye:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Ce=g==null?void 0:g.closeButton)!=null?Ce:a,interacting:W,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ae,toasts:j.filter(be=>be.position==z.position),heights:T.filter(be=>be.position==z.position),setHeights:E,expandByDefault:i,gap:w,loadingIcon:x,expanded:O,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const ID=({...e})=>{const{theme:t="system"}=aD();return o.jsx(OD,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var DD=zg[" useId ".trim().toString()]||(()=>{}),MD=0;function Mr(e){const[t,n]=p.useState(DD());return rt(()=>{e||n(r=>r??String(MD++))},[e]),e||(t?`radix-${t}`:"")}const LD=["top","right","bottom","left"],zs=Math.min,tn=Math.max,Cd=Math.round,pu=Math.floor,vr=e=>({x:e,y:e}),$D={left:"right",right:"left",bottom:"top",top:"bottom"},FD={start:"end",end:"start"};function Np(e,t,n){return tn(e,zs(t,n))}function zr(e,t){return typeof e=="function"?e(t):e}function Wr(e){return e.split("-")[0]}function Lo(e){return e.split("-")[1]}function Hy(e){return e==="x"?"y":"x"}function qy(e){return e==="y"?"height":"width"}const UD=new Set(["top","bottom"]);function pr(e){return UD.has(Wr(e))?"y":"x"}function Ky(e){return Hy(pr(e))}function VD(e,t,n){n===void 0&&(n=!1);const r=Lo(e),s=Ky(e),i=qy(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Nd(a)),[a,Nd(a)]}function BD(e){const t=Nd(e);return[Ep(e),t,Ep(t)]}function Ep(e){return e.replace(/start|end/g,t=>FD[t])}const G0=["left","right"],Y0=["right","left"],zD=["top","bottom"],WD=["bottom","top"];function HD(e,t,n){switch(e){case"top":case"bottom":return n?t?Y0:G0:t?G0:Y0;case"left":case"right":return t?zD:WD;default:return[]}}function qD(e,t,n,r){const s=Lo(e);let i=HD(Wr(e),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(Ep)))),i}function Nd(e){return e.replace(/left|right|bottom|top/g,t=>$D[t])}function KD(e){return{top:0,right:0,bottom:0,left:0,...e}}function wk(e){return typeof e!="number"?KD(e):{top:e,right:e,bottom:e,left:e}}function Ed(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Q0(e,t,n){let{reference:r,floating:s}=e;const i=pr(t),a=Ky(t),l=qy(a),c=Wr(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Lo(t)){case"start":m[a]-=f*(n&&u?-1:1);break;case"end":m[a]+=f*(n&&u?-1:1);break}return m}const GD=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Q0(u,r,c),f=r,m={},v=0;for(let g=0;g<l.length;g++){const{name:y,fn:w}=l[g],{x,y:b,data:S,reset:_}=await w({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=x??d,h=b??h,m={...m,[y]:{...m[y],...S}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:h}=Q0(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function sc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=zr(t,e),v=wk(m),y=l[f?h==="floating"?"reference":"floating":h],w=Ed(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Ed(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-_.top+v.top)/S.y,bottom:(_.bottom-w.bottom+v.bottom)/S.y,left:(w.left-_.left+v.left)/S.x,right:(_.right-w.right+v.right)/S.x}}const YD=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=zr(e,t)||{};if(u==null)return{};const h=wk(d),f={x:n,y:r},m=Ky(s),v=qy(m),g=await a.getDimensions(u),y=m==="y",w=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[m]-f[m]-i.floating[v],_=f[m]-i.reference[m],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=j?j[b]:0;(!k||!await(a.isElement==null?void 0:a.isElement(j)))&&(k=l.floating[b]||i.floating[v]);const C=S/2-_/2,T=k/2-g[v]/2-1,E=zs(h[w],T),O=zs(h[x],T),P=E,W=k-g[v]-O,I=k/2-g[v]/2+C,Q=Np(P,I,W),F=!c.arrow&&Lo(s)!=null&&I!==Q&&i.reference[v]/2-(I<P?E:O)-g[v]/2<0,U=F?I<P?I-P:I-W:0;return{[m]:f[m]+U,data:{[m]:Q,centerOffset:I-Q-U,...F&&{alignmentOffset:U}},reset:F}}}),QD=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=zr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Wr(s),x=pr(l),b=Wr(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(b||!g?[Nd(l)]:BD(l)),j=v!=="none";!f&&j&&_.push(...qD(l,g,v,S));const k=[l,..._],C=await sc(t,y),T=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&T.push(C[w]),h){const I=VD(s,a,S);T.push(C[I[0]],C[I[1]])}if(E=[...E,{placement:s,overflows:T}],!T.every(I=>I<=0)){var O,P;const I=(((O=i.flip)==null?void 0:O.index)||0)+1,Q=k[I];if(Q&&(!(h==="alignment"?x!==pr(Q):!1)||E.every(R=>R.overflows[0]>0&&pr(R.placement)===x)))return{data:{index:I,overflows:E},reset:{placement:Q}};let F=(P=E.filter(U=>U.overflows[0]<=0).sort((U,R)=>U.overflows[1]-R.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(m){case"bestFit":{var W;const U=(W=E.filter(R=>{if(j){const A=pr(R.placement);return A===x||A==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(A=>A>0).reduce((A,V)=>A+V,0)]).sort((R,A)=>R[1]-A[1])[0])==null?void 0:W[0];U&&(F=U);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function X0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Z0(e){return LD.some(t=>e[t]>=0)}const XD=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=zr(e,t);switch(r){case"referenceHidden":{const i=await sc(t,{...s,elementContext:"reference"}),a=X0(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Z0(a)}}}case"escaped":{const i=await sc(t,{...s,altBoundary:!0}),a=X0(i,n.floating);return{data:{escapedOffsets:a,escaped:Z0(a)}}}default:return{}}}}},bk=new Set(["left","top"]);async function ZD(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Wr(n),l=Lo(n),c=pr(n)==="y",u=bk.has(a)?-1:1,d=i&&c?-1:1,h=zr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const JD=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=t,c=await ZD(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},eM=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...c}=zr(e,t),u={x:n,y:r},d=await sc(t,c),h=pr(Wr(s)),f=Hy(h);let m=u[f],v=u[h];if(i){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=m+d[y],b=m-d[w];m=Np(x,m,b)}if(a){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",x=v+d[y],b=v-d[w];v=Np(x,v,b)}const g=l.fn({...t,[f]:m,[h]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:a}}}}}},tM=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zr(e,t),d={x:n,y:r},h=pr(s),f=Hy(h);let m=d[f],v=d[h];const g=zr(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",S=i.reference[f]-i.floating[b]+y.mainAxis,_=i.reference[f]+i.reference[b]-y.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var w,x;const b=f==="y"?"width":"height",S=bk.has(Wr(s)),_=i.reference[h]-i.floating[b]+(S&&((w=a.offset)==null?void 0:w[h])||0)+(S?0:y.crossAxis),j=i.reference[h]+i.reference[b]+(S?0:((x=a.offset)==null?void 0:x[h])||0)-(S?y.crossAxis:0);v<_?v=_:v>j&&(v=j)}return{[f]:m,[h]:v}}}},nM=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:a,elements:l}=t,{apply:c=()=>{},...u}=zr(e,t),d=await sc(t,u),h=Wr(s),f=Lo(s),m=pr(s)==="y",{width:v,height:g}=i.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=f===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,y=f==="end"?"top":"bottom");const x=g-d.top-d.bottom,b=v-d.left-d.right,S=zs(g-d[y],x),_=zs(v-d[w],b),j=!t.middlewareData.shift;let k=S,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=x),j&&!f){const E=tn(d.left,0),O=tn(d.right,0),P=tn(d.top,0),W=tn(d.bottom,0);m?C=v-2*(E!==0||O!==0?E+O:tn(d.left,d.right)):k=g-2*(P!==0||W!==0?P+W:tn(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:k});const T=await a.getDimensions(l.floating);return v!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function Sh(){return typeof window<"u"}function $o(e){return Sk(e)?(e.nodeName||"").toLowerCase():"#document"}function on(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(Sk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Sk(e){return Sh()?e instanceof Node||e instanceof on(e).Node:!1}function tr(e){return Sh()?e instanceof Element||e instanceof on(e).Element:!1}function Sr(e){return Sh()?e instanceof HTMLElement||e instanceof on(e).HTMLElement:!1}function J0(e){return!Sh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof on(e).ShadowRoot}const rM=new Set(["inline","contents"]);function Dc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!rM.has(s)}const sM=new Set(["table","td","th"]);function iM(e){return sM.has($o(e))}const aM=[":popover-open",":modal"];function _h(e){return aM.some(t=>{try{return e.matches(t)}catch{return!1}})}const oM=["transform","translate","scale","rotate","perspective"],lM=["transform","translate","scale","rotate","perspective","filter"],cM=["paint","layout","strict","content"];function Gy(e){const t=Yy(),n=tr(e)?nr(e):e;return oM.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||lM.some(r=>(n.willChange||"").includes(r))||cM.some(r=>(n.contain||"").includes(r))}function uM(e){let t=Ws(e);for(;Sr(t)&&!xo(t);){if(Gy(t))return t;if(_h(t))return null;t=Ws(t)}return null}function Yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dM=new Set(["html","body","#document"]);function xo(e){return dM.has($o(e))}function nr(e){return on(e).getComputedStyle(e)}function jh(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ws(e){if($o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||J0(e)&&e.host||_r(e);return J0(t)?t.host:t}function _k(e){const t=Ws(e);return xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sr(t)&&Dc(t)?t:_k(t)}function ic(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=_k(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),a=on(s);if(i){const l=Tp(a);return t.concat(a,a.visualViewport||[],Dc(s)?s:[],l&&n?ic(l):[])}return t.concat(s,ic(s,[],n))}function Tp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jk(e){const t=nr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Sr(e),i=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=Cd(n)!==i||Cd(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Qy(e){return tr(e)?e:e.contextElement}function Ya(e){const t=Qy(e);if(!Sr(t))return vr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=jk(t);let a=(i?Cd(n.width):n.width)/r,l=(i?Cd(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const hM=vr(0);function kk(e){const t=on(e);return!Yy()||!t.visualViewport?hM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fM(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==on(e)?!1:t}function Wi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Qy(e);let a=vr(1);t&&(r?tr(r)&&(a=Ya(r)):a=Ya(e));const l=fM(i,n,r)?kk(i):vr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=on(i),m=r&&tr(r)?on(r):r;let v=f,g=Tp(v);for(;g&&r&&m!==v;){const y=Ya(g),w=g.getBoundingClientRect(),x=nr(g),b=w.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,S=w.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=b,u+=S,v=on(g),g=Tp(v)}}return Ed({width:d,height:h,x:c,y:u})}function Xy(e,t){const n=jh(e).scrollLeft;return t?t.left+n:Wi(_r(e)).left+n}function Ck(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Xy(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function mM(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",a=_r(r),l=t?_h(t.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=vr(1);const d=vr(0),h=Sr(r);if((h||!h&&!i)&&(($o(r)!=="body"||Dc(a))&&(c=jh(r)),Sr(r))){const m=Wi(r);u=Ya(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=a&&!h&&!i?Ck(a,c,!0):vr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function pM(e){return Array.from(e.getClientRects())}function gM(e){const t=_r(e),n=jh(e),r=e.ownerDocument.body,s=tn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=tn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Xy(e);const l=-n.scrollTop;return nr(r).direction==="rtl"&&(a+=tn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function yM(e,t){const n=on(e),r=_r(e),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Yy();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const vM=new Set(["absolute","fixed"]);function xM(e,t){const n=Wi(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Sr(e)?Ya(e):vr(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function ew(e,t,n){let r;if(t==="viewport")r=yM(e,n);else if(t==="document")r=gM(_r(e));else if(tr(t))r=xM(t,n);else{const s=kk(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ed(r)}function Nk(e,t){const n=Ws(e);return n===t||!tr(n)||xo(n)?!1:nr(n).position==="fixed"||Nk(n,t)}function wM(e,t){const n=t.get(e);if(n)return n;let r=ic(e,[],!1).filter(l=>tr(l)&&$o(l)!=="body"),s=null;const i=nr(e).position==="fixed";let a=i?Ws(e):e;for(;tr(a)&&!xo(a);){const l=nr(a),c=Gy(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&vM.has(s.position)||Dc(a)&&!c&&Nk(e,a))?r=r.filter(d=>d!==a):s=l,a=Ws(a)}return t.set(e,r),r}function bM(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?_h(t)?[]:wM(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const h=ew(t,d,s);return u.top=tn(h.top,u.top),u.right=zs(h.right,u.right),u.bottom=zs(h.bottom,u.bottom),u.left=tn(h.left,u.left),u},ew(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function SM(e){const{width:t,height:n}=jk(e);return{width:t,height:n}}function _M(e,t,n){const r=Sr(t),s=_r(t),i=n==="fixed",a=Wi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=vr(0);function u(){c.x=Xy(s)}if(r||!r&&!i)if(($o(t)!=="body"||Dc(s))&&(l=jh(t)),r){const m=Wi(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?Ck(s,l):vr(0),h=a.left+l.scrollLeft-c.x-d.x,f=a.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function Af(e){return nr(e).position==="static"}function tw(e,t){if(!Sr(e)||nr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function Ek(e,t){const n=on(e);if(_h(e))return n;if(!Sr(e)){let s=Ws(e);for(;s&&!xo(s);){if(tr(s)&&!Af(s))return s;s=Ws(s)}return n}let r=tw(e,t);for(;r&&iM(r)&&Af(r);)r=tw(r,t);return r&&xo(r)&&Af(r)&&!Gy(r)?n:r||uM(e)||n}const jM=async function(e){const t=this.getOffsetParent||Ek,n=this.getDimensions,r=await n(e.floating);return{reference:_M(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kM(e){return nr(e).direction==="rtl"}const CM={convertOffsetParentRelativeRectToViewportRelativeRect:mM,getDocumentElement:_r,getClippingRect:bM,getOffsetParent:Ek,getElementRects:jM,getClientRects:pM,getDimensions:SM,getScale:Ya,isElement:tr,isRTL:kM};function Tk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NM(e,t){let n=null,r;const s=_r(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const v=pu(h),g=pu(s.clientWidth-(d+f)),y=pu(s.clientHeight-(h+m)),w=pu(d),b={rootMargin:-v+"px "+-g+"px "+-y+"px "+-w+"px",threshold:tn(0,zs(1,c))||1};let S=!0;function _(j){const k=j[0].intersectionRatio;if(k!==c){if(!S)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!Tk(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return a(!0),i}function EM(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Qy(e),d=s||i?[...u?ic(u):[],...ic(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const h=u&&l?NM(u,n):null;let f=-1,m=null;a&&(m=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Wi(e):null;c&&y();function y(){const w=Wi(e);g&&!Tk(g,w)&&n(),g=w,v=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const TM=JD,PM=eM,RM=QD,AM=nM,OM=XD,nw=YD,IM=tM,DM=(e,t,n)=>{const r=new Map,s={platform:CM,...n},i={...s.platform,_c:r};return GD(e,t,{...s,platform:i})};var MM=typeof document<"u",LM=function(){},Hu=MM?p.useLayoutEffect:LM;function Td(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Td(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!Td(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Pk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rw(e,t){const n=Pk(e);return Math.round(t*n)/n}function Of(e){const t=p.useRef(e);return Hu(()=>{t.current=e}),t}function $M(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);Td(f,r)||m(r);const[v,g]=p.useState(null),[y,w]=p.useState(null),x=p.useCallback(R=>{R!==j.current&&(j.current=R,g(R))},[]),b=p.useCallback(R=>{R!==k.current&&(k.current=R,w(R))},[]),S=i||v,_=a||y,j=p.useRef(null),k=p.useRef(null),C=p.useRef(d),T=c!=null,E=Of(c),O=Of(s),P=Of(u),W=p.useCallback(()=>{if(!j.current||!k.current)return;const R={placement:t,strategy:n,middleware:f};O.current&&(R.platform=O.current),DM(j.current,k.current,R).then(A=>{const V={...A,isPositioned:P.current!==!1};I.current&&!Td(C.current,V)&&(C.current=V,Ji.flushSync(()=>{h(V)}))})},[f,t,n,O,P]);Hu(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const I=p.useRef(!1);Hu(()=>(I.current=!0,()=>{I.current=!1}),[]),Hu(()=>{if(S&&(j.current=S),_&&(k.current=_),S&&_){if(E.current)return E.current(S,_,W);W()}},[S,_,W,E,T]);const Q=p.useMemo(()=>({reference:j,floating:k,setReference:x,setFloating:b}),[x,b]),F=p.useMemo(()=>({reference:S,floating:_}),[S,_]),U=p.useMemo(()=>{const R={position:n,left:0,top:0};if(!F.floating)return R;const A=rw(F.floating,d.x),V=rw(F.floating,d.y);return l?{...R,transform:"translate("+A+"px, "+V+"px)",...Pk(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:V}},[n,l,F.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:W,refs:Q,elements:F,floatingStyles:U}),[d,W,Q,F,U])}const FM=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?nw({element:r.current,padding:s}).fn(n):{}:r?nw({element:r,padding:s}).fn(n):{}}}},UM=(e,t)=>({...TM(e),options:[e,t]}),VM=(e,t)=>({...PM(e),options:[e,t]}),BM=(e,t)=>({...IM(e),options:[e,t]}),zM=(e,t)=>({...RM(e),options:[e,t]}),WM=(e,t)=>({...AM(e),options:[e,t]}),HM=(e,t)=>({...OM(e),options:[e,t]}),qM=(e,t)=>({...FM(e),options:[e,t]});var KM="Arrow",Rk=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return o.jsx(te.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rk.displayName=KM;var GM=Rk;function Zy(e){const[t,n]=p.useState(void 0);return rt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Jy="Popper",[Ak,Fo]=fn(Jy),[YM,Ok]=Ak(Jy),Ik=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return o.jsx(YM,{scope:t,anchor:r,onAnchorChange:s,children:n})};Ik.displayName=Jy;var Dk="PopperAnchor",Mk=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Ok(Dk,n),a=p.useRef(null),l=ye(t,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(te.div,{...s,ref:l})});Mk.displayName=Dk;var ev="PopperContent",[QM,XM]=Ak(ev),Lk=p.forwardRef((e,t)=>{var z,Ee,Ye,Ce,be,je;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:v,...g}=e,y=Ok(ev,n),[w,x]=p.useState(null),b=ye(t,St=>x(St)),[S,_]=p.useState(null),j=Zy(S),k=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,T=r+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],P=O.length>0,W={padding:E,boundary:O.filter(JM),altBoundary:P},{refs:I,floatingStyles:Q,placement:F,isPositioned:U,middlewareData:R}=$M({strategy:"fixed",placement:T,whileElementsMounted:(...St)=>EM(...St,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[UM({mainAxis:s+C,alignmentAxis:a}),c&&VM({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?BM():void 0,...W}),c&&zM({...W}),WM({...W,apply:({elements:St,rects:pn,availableWidth:ii,availableHeight:Qr})=>{const{width:ai,height:Go}=pn.reference,sa=St.floating.style;sa.setProperty("--radix-popper-available-width",`${ii}px`),sa.setProperty("--radix-popper-available-height",`${Qr}px`),sa.setProperty("--radix-popper-anchor-width",`${ai}px`),sa.setProperty("--radix-popper-anchor-height",`${Go}px`)}}),S&&qM({element:S,padding:l}),eL({arrowWidth:k,arrowHeight:C}),f&&HM({strategy:"referenceHidden",...W})]}),[A,V]=Uk(F),ae=ot(v);rt(()=>{U&&(ae==null||ae())},[U,ae]);const ee=(z=R.arrow)==null?void 0:z.x,fe=(Ee=R.arrow)==null?void 0:Ee.y,de=((Ye=R.arrow)==null?void 0:Ye.centerOffset)!==0,[Me,Ge]=p.useState();return rt(()=>{w&&Ge(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:U?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(Ce=R.transformOrigin)==null?void 0:Ce.x,(be=R.transformOrigin)==null?void 0:be.y].join(" "),...((je=R.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(QM,{scope:n,placedSide:A,onArrowChange:_,arrowX:ee,arrowY:fe,shouldHideArrow:de,children:o.jsx(te.div,{"data-side":A,"data-align":V,...g,ref:b,style:{...g.style,animation:U?void 0:"none"}})})})});Lk.displayName=ev;var $k="PopperArrow",ZM={top:"bottom",right:"left",bottom:"top",left:"right"},Fk=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=XM($k,r),a=ZM[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(GM,{...s,ref:n,style:{...s.style,display:"block"}})})});Fk.displayName=$k;function JM(e){return e!==null}var eL=e=>({name:"transformOrigin",options:e,fn(t){var y,w,x;const{placement:n,rects:r,middlewareData:s}=t,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=Uk(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=a?h:`${f}px`,g=`${-c}px`):u==="top"?(v=a?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=a?h:`${m}px`):u==="left"&&(v=`${r.floating.width+c}px`,g=a?h:`${m}px`),{data:{x:v,y:g}}}});function Uk(e){const[t,n="center"]=e.split("-");return[t,n]}var Vk=Ik,kh=Mk,tv=Lk,nv=Fk,[Ch,N7]=fn("Tooltip",[Fo]),rv=Fo(),Bk="TooltipProvider",tL=700,sw="tooltip.open",[nL,zk]=Ch(Bk),Wk=e=>{const{__scopeTooltip:t,delayDuration:n=tL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(nL,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};Wk.displayName=Bk;var Hk="Tooltip",[E7,Nh]=Ch(Hk),Pp="TooltipTrigger",rL=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Nh(Pp,n),i=zk(Pp,n),a=rv(n),l=p.useRef(null),c=ye(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(kh,{asChild:!0,...a,children:o.jsx(te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Y(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Y(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Y(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Y(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Y(e.onBlur,s.onClose),onClick:Y(e.onClick,s.onClose)})})});rL.displayName=Pp;var sL="TooltipPortal",[T7,iL]=Ch(sL,{forceMount:void 0}),wo="TooltipContent",qk=p.forwardRef((e,t)=>{const n=iL(wo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,a=Nh(wo,e.__scopeTooltip);return o.jsx(Zt,{present:r||a.open,children:a.disableHoverableContent?o.jsx(Kk,{side:s,...i,ref:t}):o.jsx(aL,{side:s,...i,ref:t})})}),aL=p.forwardRef((e,t)=>{const n=Nh(wo,e.__scopeTooltip),r=zk(wo,e.__scopeTooltip),s=p.useRef(null),i=ye(t,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{l(null),h(!1)},[h]),m=p.useCallback((v,g)=>{const y=v.currentTarget,w={x:v.clientX,y:v.clientY},x=dL(w,y.getBoundingClientRect()),b=hL(w,x),S=fL(g.getBoundingClientRect()),_=pL([...b,...S]);l(_),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const v=y=>m(y,d),g=y=>m(y,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,m,f]),p.useEffect(()=>{if(a){const v=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!mL(w,a);x?f():b&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,a,u,f]),o.jsx(Kk,{...e,ref:i})}),[oL,lL]=Ch(Hk,{isInside:!1}),cL=dO("TooltipContent"),Kk=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=e,c=Nh(wo,n),u=rv(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(sw,d),()=>document.removeEventListener(sw,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(Oo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(tv,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(cL,{children:r}),o.jsx(oL,{scope:n,isInside:!0,children:o.jsx(OO,{id:c.contentId,role:"tooltip",children:s||r})})]})})});qk.displayName=wo;var Gk="TooltipArrow",uL=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=rv(n);return lL(Gk,n).isInside?null:o.jsx(nv,{...s,...r,ref:t})});uL.displayName=Gk;function dL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function fL(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function mL(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const l=t[i],c=t[a],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function pL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),gL(t)}function gL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var yL=Wk,Yk=qk;const vL=yL,xL=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(Yk,{ref:r,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));xL.displayName=Yk.displayName;var Uo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hi=typeof window>"u"||"Deno"in globalThis;function Dt(){}function wL(e,t){return typeof e=="function"?e(t):e}function Rp(e){return typeof e=="number"&&e>=0&&e!==1/0}function Qk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ls(e,t){return typeof e=="function"?e(t):e}function xn(e,t){return typeof e=="function"?e(t):e}function iw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==sv(a,t.options))return!1}else if(!ac(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function aw(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(qi(t.options.mutationKey)!==qi(i))return!1}else if(!ac(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function sv(e,t){return((t==null?void 0:t.queryKeyHashFn)||qi)(e)}function qi(e){return JSON.stringify(e,(t,n)=>Ap(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ac(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ac(e[n],t[n])):!1}function Xk(e,t){if(e===t)return e;const n=ow(e)&&ow(t);if(n||Ap(e)&&Ap(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,u++):(l[h]=Xk(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function Pd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ow(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ap(e){if(!lw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lw(e){return Object.prototype.toString.call(e)==="[object Object]"}function bL(e){return new Promise(t=>{setTimeout(t,e)})}function Op(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Xk(e,t):t}function SL(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function _L(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var iv=Symbol();function Zk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===iv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Jk(e,t){return typeof e=="function"?e(...t):!!e}var ki,ps,Ja,J1,jL=(J1=class extends Uo{constructor(){super();re(this,ki);re(this,ps);re(this,Ja);H(this,Ja,t=>{if(!Hi&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,ps)||this.setEventListener(N(this,Ja))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,ps))==null||t.call(this),H(this,ps,void 0))}setEventListener(t){var n;H(this,Ja,t),(n=N(this,ps))==null||n.call(this),H(this,ps,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){N(this,ki)!==t&&(H(this,ki,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof N(this,ki)=="boolean"?N(this,ki):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ki=new WeakMap,ps=new WeakMap,Ja=new WeakMap,J1),av=new jL,eo,gs,to,eS,kL=(eS=class extends Uo{constructor(){super();re(this,eo,!0);re(this,gs);re(this,to);H(this,to,t=>{if(!Hi&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,gs)||this.setEventListener(N(this,to))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,gs))==null||t.call(this),H(this,gs,void 0))}setEventListener(t){var n;H(this,to,t),(n=N(this,gs))==null||n.call(this),H(this,gs,t(this.setOnline.bind(this)))}setOnline(t){N(this,eo)!==t&&(H(this,eo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return N(this,eo)}},eo=new WeakMap,gs=new WeakMap,to=new WeakMap,eS),Rd=new kL;function Ip(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function CL(e){return Math.min(1e3*2**e,3e4)}function eC(e){return(e??"online")==="online"?Rd.isOnline():!0}var tC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function If(e){return e instanceof tC}function nC(e){let t=!1,n=0,r=!1,s;const i=Ip(),a=g=>{var y;r||(f(new tC(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>av.isFocused()&&(e.networkMode==="always"||Rd.isOnline())&&e.canRun(),d=()=>eC(e.networkMode)&&e.canRun(),h=g=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,g),s==null||s(),i.resolve(g))},f=g=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var y;s=w=>{(r||u())&&g(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(r)return;let g;const y=n===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(h).catch(w=>{var j;if(r)return;const x=e.retry??(Hi?0:3),b=e.retryDelay??CL,S=typeof b=="function"?b(n,w):b,_=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(t||!_){f(w);return}n++,(j=e.onFail)==null||j.call(e,n,w),bL(S).then(()=>u()?void 0:m()).then(()=>{t?f(w):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),i)}}var NL=e=>setTimeout(e,0);function EL(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=NL;const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var ht=EL(),Ci,tS,rC=(tS=class{constructor(){re(this,Ci)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rp(this.gcTime)&&H(this,Ci,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hi?1/0:5*60*1e3))}clearGcTimeout(){N(this,Ci)&&(clearTimeout(N(this,Ci)),H(this,Ci,void 0))}},Ci=new WeakMap,tS),no,Ni,vn,Ei,Ct,jc,Ti,zn,Cr,nS,TL=(nS=class extends rC{constructor(t){super();re(this,zn);re(this,no);re(this,Ni);re(this,vn);re(this,Ei);re(this,Ct);re(this,jc);re(this,Ti);H(this,Ti,!1),H(this,jc,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,Ei,t.client),H(this,vn,N(this,Ei).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,no,PL(this.options)),this.state=t.state??N(this,no),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Ct))==null?void 0:t.promise}setOptions(t){this.options={...N(this,jc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,vn).remove(this)}setData(t,n){const r=Op(this.state.data,t,this.options);return pe(this,zn,Cr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){pe(this,zn,Cr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=N(this,Ct))==null?void 0:r.promise;return(s=N(this,Ct))==null||s.cancel(t),n?n.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,no))}isActive(){return this.observers.some(t=>xn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ls(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Qk(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,Ct))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,Ct))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,vn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(N(this,Ct)&&(N(this,Ti)?N(this,Ct).cancel({revert:!0}):N(this,Ct).cancelRetry()),this.scheduleGc()),N(this,vn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,zn,Cr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ct))return N(this,Ct).continueRetry(),N(this,Ct).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(H(this,Ti,!0),r.signal)})},i=()=>{const f=Zk(this.options,n),v=(()=>{const g={client:N(this,Ei),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return H(this,Ti,!1),this.options.persister?this.options.persister(f,v,this):f(v)},l=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,Ei),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),H(this,Ni,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&pe(this,zn,Cr).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var m,v,g,y;If(f)&&f.silent||pe(this,zn,Cr).call(this,{type:"error",error:f}),If(f)||((v=(m=N(this,vn).config).onError)==null||v.call(m,f,this),(y=(g=N(this,vn).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return H(this,Ct,nC({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,v,g,y;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){c(w);return}(v=(m=N(this,vn).config).onSuccess)==null||v.call(m,f,this),(y=(g=N(this,vn).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,m)=>{pe(this,zn,Cr).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{pe(this,zn,Cr).call(this,{type:"pause"})},onContinue:()=>{pe(this,zn,Cr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),N(this,Ct).start()}},no=new WeakMap,Ni=new WeakMap,vn=new WeakMap,Ei=new WeakMap,Ct=new WeakMap,jc=new WeakMap,Ti=new WeakMap,zn=new WeakSet,Cr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...sC(r.data,this.options),fetchMeta:t.meta??null};case"success":return H(this,Ni,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return If(s)&&s.revert&&N(this,Ni)?{...N(this,Ni),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ht.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,vn).notify({query:this,type:"updated",action:t})})},nS);function sC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function PL(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ur,rS,RL=(rS=class extends Uo{constructor(t={}){super();re(this,ur);this.config=t,H(this,ur,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??sv(s,n);let a=this.get(i);return a||(a=new TL({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){N(this,ur).has(t.queryHash)||(N(this,ur).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=N(this,ur).get(t.queryHash);n&&(t.destroy(),n===t&&N(this,ur).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,ur).get(t)}getAll(){return[...N(this,ur).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>iw(t,r)):n}notify(t){ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ur=new WeakMap,rS),dr,At,Pi,hr,is,sS,AL=(sS=class extends rC{constructor(t){super();re(this,hr);re(this,dr);re(this,At);re(this,Pi);this.mutationId=t.mutationId,H(this,At,t.mutationCache),H(this,dr,[]),this.state=t.state||iC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,dr).includes(t)||(N(this,dr).push(t),this.clearGcTimeout(),N(this,At).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,dr,N(this,dr).filter(n=>n!==t)),this.scheduleGc(),N(this,At).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,dr).length||(this.state.status==="pending"?this.scheduleGc():N(this,At).remove(this))}continue(){var t;return((t=N(this,Pi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,c,u,d,h,f,m,v,g,y,w,x,b,S,_,j,k,C;const n=()=>{pe(this,hr,is).call(this,{type:"continue"})};H(this,Pi,nC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,E)=>{pe(this,hr,is).call(this,{type:"failed",failureCount:T,error:E})},onPause:()=>{pe(this,hr,is).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,At).canRun(this)}));const r=this.state.status==="pending",s=!N(this,Pi).canStart();try{if(r)n();else{pe(this,hr,is).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(i=N(this,At).config).onMutate)==null?void 0:a.call(i,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&pe(this,hr,is).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const T=await N(this,Pi).start();return await((d=(u=N(this,At).config).onSuccess)==null?void 0:d.call(u,T,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,T,t,this.state.context)),await((v=(m=N(this,At).config).onSettled)==null?void 0:v.call(m,T,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,T,null,t,this.state.context)),pe(this,hr,is).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(w=N(this,At).config).onError)==null?void 0:x.call(w,T,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,T,t,this.state.context)),await((j=(_=N(this,At).config).onSettled)==null?void 0:j.call(_,void 0,T,this.state.variables,this.state.context,this)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,T,t,this.state.context)),T}finally{pe(this,hr,is).call(this,{type:"error",error:T})}}finally{N(this,At).runNext(this)}}},dr=new WeakMap,At=new WeakMap,Pi=new WeakMap,hr=new WeakSet,is=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ht.batch(()=>{N(this,dr).forEach(r=>{r.onMutationUpdate(t)}),N(this,At).notify({mutation:this,type:"updated",action:t})})},sS);function iC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,Wn,kc,iS,OL=(iS=class extends Uo{constructor(t={}){super();re(this,Pr);re(this,Wn);re(this,kc);this.config=t,H(this,Pr,new Set),H(this,Wn,new Map),H(this,kc,0)}build(t,n,r){const s=new AL({mutationCache:this,mutationId:++Gc(this,kc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){N(this,Pr).add(t);const n=gu(t);if(typeof n=="string"){const r=N(this,Wn).get(n);r?r.push(t):N(this,Wn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,Pr).delete(t)){const n=gu(t);if(typeof n=="string"){const r=N(this,Wn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&N(this,Wn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=gu(t);if(typeof n=="string"){const r=N(this,Wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=gu(t);if(typeof n=="string"){const s=(r=N(this,Wn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ht.batch(()=>{N(this,Pr).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,Pr).clear(),N(this,Wn).clear()})}getAll(){return Array.from(N(this,Pr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>aw(n,r))}findAll(t={}){return this.getAll().filter(n=>aw(t,n))}notify(t){ht.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ht.batch(()=>Promise.all(t.map(n=>n.continue().catch(Dt))))}},Pr=new WeakMap,Wn=new WeakMap,kc=new WeakMap,iS);function gu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function cw(e){return{onFetch:(t,n)=>{var d,h,f,m,v;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=Zk(t.options,t.fetchOptions),x=async(b,S,_)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};return y(O),O})(),C=await w(k),{maxPages:T}=t.options,E=_?_L:SL;return{pages:E(b.pages,C,T),pageParams:E(b.pageParams,S,T)}};if(s&&i.length){const b=s==="backward",S=b?IL:uw,_={pages:i,pageParams:a},j=S(r,_);l=await x(_,j,b)}else{const b=e??i.length;do{const S=c===0?a[0]??r.initialPageParam:uw(r,l);if(c>0&&S==null)break;l=await x(l,S),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function uw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IL(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Qe,ys,vs,ro,so,xs,io,ao,aS,DL=(aS=class{constructor(e={}){re(this,Qe);re(this,ys);re(this,vs);re(this,ro);re(this,so);re(this,xs);re(this,io);re(this,ao);H(this,Qe,e.queryCache||new RL),H(this,ys,e.mutationCache||new OL),H(this,vs,e.defaultOptions||{}),H(this,ro,new Map),H(this,so,new Map),H(this,xs,0)}mount(){Gc(this,xs)._++,N(this,xs)===1&&(H(this,io,av.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Qe).onFocus())})),H(this,ao,Rd.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,Qe).onOnline())})))}unmount(){var e,t;Gc(this,xs)._--,N(this,xs)===0&&((e=N(this,io))==null||e.call(this),H(this,io,void 0),(t=N(this,ao))==null||t.call(this),H(this,ao,void 0))}isFetching(e){return N(this,Qe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,ys).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,Qe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=N(this,Qe).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ls(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return N(this,Qe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=N(this,Qe).get(r.queryHash),i=s==null?void 0:s.state.data,a=wL(t,i);if(a!==void 0)return N(this,Qe).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return ht.batch(()=>N(this,Qe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,Qe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=N(this,Qe);ht.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=N(this,Qe);return ht.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ht.batch(()=>N(this,Qe).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Dt).catch(Dt)}invalidateQueries(e,t={}){return ht.batch(()=>(N(this,Qe).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ht.batch(()=>N(this,Qe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Dt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=N(this,Qe).build(this,t);return n.isStaleByTime(Ls(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=cw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=cw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rd.isOnline()?N(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Qe)}getMutationCache(){return N(this,ys)}getDefaultOptions(){return N(this,vs)}setDefaultOptions(e){H(this,vs,e)}setQueryDefaults(e,t){N(this,ro).set(qi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,ro).values()],n={};return t.forEach(r=>{ac(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){N(this,so).set(qi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,so).values()],n={};return t.forEach(r=>{ac(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,vs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===iv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,vs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,Qe).clear(),N(this,ys).clear()}},Qe=new WeakMap,ys=new WeakMap,vs=new WeakMap,ro=new WeakMap,so=new WeakMap,xs=new WeakMap,io=new WeakMap,ao=new WeakMap,aS),Vt,xe,Cc,Ot,Ri,oo,ws,bs,Nc,lo,co,Ai,Oi,Ss,uo,Ne,pl,Dp,Mp,Lp,$p,Fp,Up,Vp,aC,oS,ML=(oS=class extends Uo{constructor(t,n){super();re(this,Ne);re(this,Vt);re(this,xe);re(this,Cc);re(this,Ot);re(this,Ri);re(this,oo);re(this,ws);re(this,bs);re(this,Nc);re(this,lo);re(this,co);re(this,Ai);re(this,Oi);re(this,Ss);re(this,uo,new Set);this.options=n,H(this,Vt,t),H(this,bs,null),H(this,ws,Ip()),this.options.experimental_prefetchInRender||N(this,ws).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,xe).addObserver(this),dw(N(this,xe),this.options)?pe(this,Ne,pl).call(this):this.updateResult(),pe(this,Ne,$p).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bp(N(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bp(N(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Ne,Fp).call(this),pe(this,Ne,Up).call(this),N(this,xe).removeObserver(this)}setOptions(t){const n=this.options,r=N(this,xe);if(this.options=N(this,Vt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,N(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Ne,Vp).call(this),N(this,xe).setOptions(this.options),n._defaulted&&!Pd(this.options,n)&&N(this,Vt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,xe),observer:this});const s=this.hasListeners();s&&hw(N(this,xe),r,this.options,n)&&pe(this,Ne,pl).call(this),this.updateResult(),s&&(N(this,xe)!==r||xn(this.options.enabled,N(this,xe))!==xn(n.enabled,N(this,xe))||Ls(this.options.staleTime,N(this,xe))!==Ls(n.staleTime,N(this,xe)))&&pe(this,Ne,Dp).call(this);const i=pe(this,Ne,Mp).call(this);s&&(N(this,xe)!==r||xn(this.options.enabled,N(this,xe))!==xn(n.enabled,N(this,xe))||i!==N(this,Ss))&&pe(this,Ne,Lp).call(this,i)}getOptimisticResult(t){const n=N(this,Vt).getQueryCache().build(N(this,Vt),t),r=this.createResult(n,t);return $L(this,r)&&(H(this,Ot,r),H(this,oo,this.options),H(this,Ri,N(this,xe).state)),r}getCurrentResult(){return N(this,Ot)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){N(this,uo).add(t)}getCurrentQuery(){return N(this,xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=N(this,Vt).defaultQueryOptions(t),r=N(this,Vt).getQueryCache().build(N(this,Vt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return pe(this,Ne,pl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Ot)))}createResult(t,n){var T;const r=N(this,xe),s=this.options,i=N(this,Ot),a=N(this,Ri),l=N(this,oo),u=t!==r?t.state:N(this,Cc),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const E=this.hasListeners(),O=!E&&dw(t,n),P=E&&hw(t,r,n,s);(O||P)&&(h={...h,...sC(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:y}=h;m=h.data;let w=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let E;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,w=!0):E=typeof n.placeholderData=="function"?n.placeholderData((T=N(this,co))==null?void 0:T.state.data,N(this,co)):n.placeholderData,E!==void 0&&(y="success",m=Op(i==null?void 0:i.data,E,n),f=!0)}if(n.select&&m!==void 0&&!w)if(i&&m===(a==null?void 0:a.data)&&n.select===N(this,Nc))m=N(this,lo);else try{H(this,Nc,n.select),m=n.select(m),m=Op(i==null?void 0:i.data,m,n),H(this,lo,m),H(this,bs,null)}catch(E){H(this,bs,E)}N(this,bs)&&(v=N(this,bs),m=N(this,lo),g=Date.now(),y="error");const x=h.fetchStatus==="fetching",b=y==="pending",S=y==="error",_=b&&x,j=m!==void 0,C={status:y,fetchStatus:h.fetchStatus,isPending:b,isSuccess:y==="success",isError:S,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:S&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:S&&j,isStale:ov(t,n),refetch:this.refetch,promise:N(this,ws),isEnabled:xn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=W=>{C.status==="error"?W.reject(C.error):C.data!==void 0&&W.resolve(C.data)},O=()=>{const W=H(this,ws,C.promise=Ip());E(W)},P=N(this,ws);switch(P.status){case"pending":t.queryHash===r.queryHash&&E(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&O();break}}return C}updateResult(){const t=N(this,Ot),n=this.createResult(N(this,xe),this.options);if(H(this,Ri,N(this,xe).state),H(this,oo,this.options),N(this,Ri).data!==void 0&&H(this,co,N(this,xe)),Pd(n,t))return;H(this,Ot,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!N(this,uo).size)return!0;const a=new Set(i??N(this,uo));return this.options.throwOnError&&a.add("error"),Object.keys(N(this,Ot)).some(l=>{const c=l;return N(this,Ot)[c]!==t[c]&&a.has(c)})};pe(this,Ne,aC).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Ne,$p).call(this)}},Vt=new WeakMap,xe=new WeakMap,Cc=new WeakMap,Ot=new WeakMap,Ri=new WeakMap,oo=new WeakMap,ws=new WeakMap,bs=new WeakMap,Nc=new WeakMap,lo=new WeakMap,co=new WeakMap,Ai=new WeakMap,Oi=new WeakMap,Ss=new WeakMap,uo=new WeakMap,Ne=new WeakSet,pl=function(t){pe(this,Ne,Vp).call(this);let n=N(this,xe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Dt)),n},Dp=function(){pe(this,Ne,Fp).call(this);const t=Ls(this.options.staleTime,N(this,xe));if(Hi||N(this,Ot).isStale||!Rp(t))return;const r=Qk(N(this,Ot).dataUpdatedAt,t)+1;H(this,Ai,setTimeout(()=>{N(this,Ot).isStale||this.updateResult()},r))},Mp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,xe)):this.options.refetchInterval)??!1},Lp=function(t){pe(this,Ne,Up).call(this),H(this,Ss,t),!(Hi||xn(this.options.enabled,N(this,xe))===!1||!Rp(N(this,Ss))||N(this,Ss)===0)&&H(this,Oi,setInterval(()=>{(this.options.refetchIntervalInBackground||av.isFocused())&&pe(this,Ne,pl).call(this)},N(this,Ss)))},$p=function(){pe(this,Ne,Dp).call(this),pe(this,Ne,Lp).call(this,pe(this,Ne,Mp).call(this))},Fp=function(){N(this,Ai)&&(clearTimeout(N(this,Ai)),H(this,Ai,void 0))},Up=function(){N(this,Oi)&&(clearInterval(N(this,Oi)),H(this,Oi,void 0))},Vp=function(){const t=N(this,Vt).getQueryCache().build(N(this,Vt),this.options);if(t===N(this,xe))return;const n=N(this,xe);H(this,xe,t),H(this,Cc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},aC=function(t){ht.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(N(this,Ot))}),N(this,Vt).getQueryCache().notify({query:N(this,xe),type:"observerResultsUpdated"})})},oS);function LL(e,t){return xn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dw(e,t){return LL(e,t)||e.state.data!==void 0&&Bp(e,t,t.refetchOnMount)}function Bp(e,t,n){if(xn(t.enabled,e)!==!1&&Ls(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ov(e,t)}return!1}function hw(e,t,n,r){return(e!==t||xn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ov(e,n)}function ov(e,t){return xn(t.enabled,e)!==!1&&e.isStaleByTime(Ls(t.staleTime,e))}function $L(e,t){return!Pd(e.getCurrentResult(),t)}var _s,js,Bt,Rr,Lr,qu,zp,lS,FL=(lS=class extends Uo{constructor(n,r){super();re(this,Lr);re(this,_s);re(this,js);re(this,Bt);re(this,Rr);H(this,_s,n),this.setOptions(r),this.bindMethods(),pe(this,Lr,qu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=N(this,_s).defaultMutationOptions(n),Pd(this.options,r)||N(this,_s).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Bt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&qi(r.mutationKey)!==qi(this.options.mutationKey)?this.reset():((s=N(this,Bt))==null?void 0:s.state.status)==="pending"&&N(this,Bt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=N(this,Bt))==null||n.removeObserver(this)}onMutationUpdate(n){pe(this,Lr,qu).call(this),pe(this,Lr,zp).call(this,n)}getCurrentResult(){return N(this,js)}reset(){var n;(n=N(this,Bt))==null||n.removeObserver(this),H(this,Bt,void 0),pe(this,Lr,qu).call(this),pe(this,Lr,zp).call(this)}mutate(n,r){var s;return H(this,Rr,r),(s=N(this,Bt))==null||s.removeObserver(this),H(this,Bt,N(this,_s).getMutationCache().build(N(this,_s),this.options)),N(this,Bt).addObserver(this),N(this,Bt).execute(n)}},_s=new WeakMap,js=new WeakMap,Bt=new WeakMap,Rr=new WeakMap,Lr=new WeakSet,qu=function(){var r;const n=((r=N(this,Bt))==null?void 0:r.state)??iC();H(this,js,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},zp=function(n){ht.batch(()=>{var r,s,i,a,l,c,u,d;if(N(this,Rr)&&this.hasListeners()){const h=N(this,js).variables,f=N(this,js).context;(n==null?void 0:n.type)==="success"?((s=(r=N(this,Rr)).onSuccess)==null||s.call(r,n.data,h,f),(a=(i=N(this,Rr)).onSettled)==null||a.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=N(this,Rr)).onError)==null||c.call(l,n.error,h,f),(d=(u=N(this,Rr)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(N(this,js))})})},lS),oC=p.createContext(void 0),mn=e=>{const t=p.useContext(oC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UL=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(oC.Provider,{value:e,children:t})),lC=p.createContext(!1),VL=()=>p.useContext(lC);lC.Provider;function BL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var zL=p.createContext(BL()),WL=()=>p.useContext(zL),HL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qL=e=>{p.useEffect(()=>{e.clearReset()},[e])},KL=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Jk(n,[e.error,r])),GL=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},YL=(e,t)=>e.isLoading&&e.isFetching&&!t,QL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function XL(e,t,n){var h,f,m,v,g;const r=VL(),s=WL(),i=mn(),a=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",GL(a),HL(a,s),qL(s);const l=!i.getQueryCache().get(a.queryHash),[c]=p.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(y=>{const w=d?c.subscribe(ht.batchCalls(y)):Dt;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(a)},[a,c]),QL(a,u))throw fw(a,c,s);if(KL({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,a,u),a.experimental_prefetchInRender&&!Hi&&YL(u,r)){const y=l?fw(a,c,s):(g=i.getQueryCache().get(a.queryHash))==null?void 0:g.promise;y==null||y.catch(Dt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Rt(e,t){return XL(e,ML)}function rr(e,t){const n=mn(),[r]=p.useState(()=>new FL(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const s=p.useSyncExternalStore(p.useCallback(a=>r.subscribe(ht.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((a,l)=>{r.mutate(a,l).catch(Dt)},[r]);if(s.error&&Jk(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(this,arguments)}var Ns;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ns||(Ns={}));const mw="popstate";function ZL(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Wp("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ad(s)}return e4(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JL(){return Math.random().toString(36).substr(2,8)}function pw(e,t){return{usr:e.state,key:e.key,idx:t}}function Wp(e,t,n,r){return n===void 0&&(n=null),oc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vo(t):t,{state:n,key:t&&t.key||r||JL()})}function Ad(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function e4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Ns.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(oc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Ns.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:w})}function f(y,w){l=Ns.Push;let x=Wp(g.location,y,w);u=d()+1;let b=pw(x,u),S=g.createHref(x);try{a.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}i&&c&&c({action:l,location:g.location,delta:1})}function m(y,w){l=Ns.Replace;let x=Wp(g.location,y,w);u=d();let b=pw(x,u),S=g.createHref(x);a.replaceState(b,"",S),i&&c&&c({action:l,location:g.location,delta:0})}function v(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof y=="string"?y:Ad(y);return x=x.replace(/ $/,"%20"),nt(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return l},get location(){return e(s,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(mw,h),c=y,()=>{s.removeEventListener(mw,h),c=null}},createHref(y){return t(s,y)},createURL:v,encodeLocation(y){let w=v(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(y){return a.go(y)}};return g}var gw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gw||(gw={}));function t4(e,t,n){return n===void 0&&(n="/"),n4(e,t,n,!1)}function n4(e,t,n,r){let s=typeof t=="string"?Vo(t):t,i=lv(s.pathname||"/",n);if(i==null)return null;let a=uC(e);r4(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=m4(i);l=h4(a[c],u,r)}return l}function uC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=$s([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uC(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:u4(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of dC(i.path))s(i,a,c)}),t}function dC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=dC(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function r4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:d4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const s4=/^:[\w-]+$/,i4=3,a4=2,o4=1,l4=10,c4=-2,yw=e=>e==="*";function u4(e,t){let n=e.split("/"),r=n.length;return n.some(yw)&&(r+=c4),t&&(r+=a4),n.filter(s=>!yw(s)).reduce((s,i)=>s+(s4.test(i)?i4:i===""?o4:l4),r)}function d4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function h4(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=vw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=vw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:$s([i,h.pathname]),pathnameBase:v4($s([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=$s([i,h.pathnameBase]))}return a}function vw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let g=l[h]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function f4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function m4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function p4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Vo(e):e;return{pathname:n?n.startsWith("/")?n:g4(n,t):t,search:x4(r),hash:w4(s)}}function g4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Df(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cv(e,t){let n=y4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Vo(e):(s=oc({},e),nt(!s.pathname||!s.pathname.includes("?"),Df("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Df("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Df("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=p4(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $s=e=>e.join("/").replace(/\/\/+/g,"/"),v4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,w4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hC=["post","put","patch","delete"];new Set(hC);const S4=["get",...hC];new Set(S4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}const dv=p.createContext(null),_4=p.createContext(null),Js=p.createContext(null),Eh=p.createContext(null),ei=p.createContext({outlet:null,matches:[],isDataRoute:!1}),fC=p.createContext(null);function j4(e,t){let{relative:n}=t===void 0?{}:t;Bo()||nt(!1);let{basename:r,navigator:s}=p.useContext(Js),{hash:i,pathname:a,search:l}=pC(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:$s([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Bo(){return p.useContext(Eh)!=null}function na(){return Bo()||nt(!1),p.useContext(Eh).location}function mC(e){p.useContext(Js).static||p.useLayoutEffect(e)}function Ut(){let{isDataRoute:e}=p.useContext(ei);return e?L4():k4()}function k4(){Bo()||nt(!1);let e=p.useContext(dv),{basename:t,future:n,navigator:r}=p.useContext(Js),{matches:s}=p.useContext(ei),{pathname:i}=na(),a=JSON.stringify(cv(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return mC(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=uv(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:$s([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}function pC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Js),{matches:s}=p.useContext(ei),{pathname:i}=na(),a=JSON.stringify(cv(s,r.v7_relativeSplatPath));return p.useMemo(()=>uv(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function C4(e,t){return N4(e,t)}function N4(e,t,n,r){Bo()||nt(!1);let{navigator:s}=p.useContext(Js),{matches:i}=p.useContext(ei),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=na(),d;if(t){var h;let y=typeof t=="string"?Vo(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||nt(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=t4(e,{pathname:m}),g=A4(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:$s([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:$s([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?p.createElement(Eh.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ns.Pop}},g):g}function E4(){let e=M4(),t=b4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const T4=p.createElement(E4,null);class P4 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(ei.Provider,{value:this.props.routeContext},p.createElement(fC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R4(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(dv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ei.Provider,{value:t},r)}function A4(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,v=!1,g=null,y=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||T4,c&&(u<0&&f===0?(v=!0,y=null):u===f&&(v=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),x=()=>{let b;return m?b=g:v?b=y:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,p.createElement(R4,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(P4,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var gC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gC||{}),Od=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Od||{});function O4(e){let t=p.useContext(dv);return t||nt(!1),t}function I4(e){let t=p.useContext(_4);return t||nt(!1),t}function D4(e){let t=p.useContext(ei);return t||nt(!1),t}function yC(e){let t=D4(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function M4(){var e;let t=p.useContext(fC),n=I4(Od.UseRouteError),r=yC(Od.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function L4(){let{router:e}=O4(gC.UseNavigateStable),t=yC(Od.UseNavigateStable),n=p.useRef(!1);return mC(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,lc({fromRouteId:t},i)))},[e,t])}function $4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xw(e){let{to:t,replace:n,state:r,relative:s}=e;Bo()||nt(!1);let{future:i,static:a}=p.useContext(Js),{matches:l}=p.useContext(ei),{pathname:c}=na(),u=Ut(),d=uv(t,cv(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function kt(e){nt(!1)}function F4(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ns.Pop,navigator:i,static:a=!1,future:l}=e;Bo()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:lc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Vo(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,g=p.useMemo(()=>{let y=lv(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:v},navigationType:s}},[c,d,h,f,m,v,s]);return g==null?null:p.createElement(Js.Provider,{value:u},p.createElement(Eh.Provider,{children:n,value:g}))}function U4(e){let{children:t,location:n}=e;return C4(Hp(t),n)}new Promise(()=>{});function Hp(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Hp(r.props.children,i));return}r.type!==kt&&nt(!1),!r.props.index||!r.props.children||nt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hp(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qp.apply(this,arguments)}function V4(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function B4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z4(e,t){return e.button===0&&(!t||t==="_self")&&!B4(e)}const W4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H4="6";try{window.__reactRouterVersion=H4}catch{}const q4="startTransition",ww=zg[q4];function K4(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=ZL({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&ww?ww(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>$4(r),[r]),p.createElement(F4,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const G4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=V4(t,W4),{basename:m}=p.useContext(Js),v,g=!1;if(typeof u=="string"&&Y4.test(u)&&(v=u,G4))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=lv(S.pathname,m);S.origin===b.origin&&_!=null?u=_+S.search+S.hash:g=!0}catch{}let y=j4(u,{relative:s}),w=Q4(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(b){r&&r(b),b.defaultPrevented||w(b)}return p.createElement("a",qp({},f,{href:v||y,onClick:g||i?r:x,ref:n,target:c}))});var bw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bw||(bw={}));var Sw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sw||(Sw={}));function Q4(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ut(),u=na(),d=pC(e,{relative:a});return p.useCallback(h=>{if(z4(h,n)){h.preventDefault();let f=r!==void 0?r:Ad(u)===Ad(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}var mr=function(){return mr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mr.apply(this,arguments)};function zo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function X4(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function Z4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}const J4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class hv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class e$ extends hv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _w extends hv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jw extends hv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kp||(Kp={}));class t${constructor(t,{headers:n={},customFetch:r,region:s=Kp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=J4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return X4(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let y=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(y=a.signal,d.addEventListener("abort",()=>a.abort())):y=a.signal);const w=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:g,signal:y}).catch(_=>{throw new e$(_)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new _w(w);if(!w.ok)throw new jw(w);let b=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield w.json():b==="application/octet-stream"||b==="application/pdf"?S=yield w.blob():b==="text/event-stream"?S=w:b==="multipart/form-data"?S=yield w.formData():S=yield w.text(),{data:S,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof jw||l instanceof _w?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var n$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},r$=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const w=await i.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=w:l=JSON.parse(w))}const g=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),y=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&y&&y.length>1&&(c=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await i.text();try{a=JSON.parse(g),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):a={message:g}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new n$(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${v}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},s$=class extends r${select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const kw=new RegExp("[,()]");var xa=class extends s${eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&kw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&kw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},i$=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new xa({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new xa({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new xa({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new xa({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new xa({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},a$=class vC{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new i$(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=r&&Object.values(n).some(d);h?(l="POST",u=n):r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([m,v])=>v!==void 0).map(([m,v])=>[m,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([m,v])=>{c.searchParams.append(m,v)})):(l="POST",u=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new xa({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class o${constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const l$="2.90.0",c$=`realtime-js/${l$}`,xC="1.0.0",u$="2.0.0",Cw=xC,Gp=1e4,d$=1e3,h$=100;var us;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(us||(us={}));var ct;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ct||(ct={}));var qn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qn||(qn={}));var Yp;(function(e){e.websocket="websocket"})(Yp||(Yp={}));var yi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yi||(yi={}));class f${constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(m),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,a.length),v.setUint8(g++,u.length),v.setUint8(g++,h.length),v.setUint8(g++,n),Array.from(c,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(l,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(a,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(u,w=>v.setUint8(g++,w.charCodeAt(0))),Array.from(h,w=>v.setUint8(g++,w.charCodeAt(0)));var y=new Uint8Array(m.byteLength+r.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(r),m.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,l,c]=r;return n({join_ref:s,ref:i,topic:a,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class wC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ie||(Ie={}));const Nw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=m$(a,e,t,s),i),{}):{}},m$=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?bC(i,a):Qp(a)},bC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return v$(t,n)}switch(e){case Ie.bool:return p$(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return g$(t);case Ie.json:case Ie.jsonb:return y$(t);case Ie.timestamp:return x$(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Qp(t);default:return Qp(t)}},Qp=e=>e,p$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},g$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},v$=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>bC(t,l))}return e},x$=e=>typeof e=="string"?e.replace(" ","T"):e,SC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mf{constructor(t,n,r={},s=Gp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ew;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ew||(Ew={}));class Al{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Al.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Al.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Al.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(y=>y.presence_ref),m=h.map(y=>y.presence_ref),v=d.filter(y=>m.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tw||(Tw={}));var Ol;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ol||(Ol={}));var Er;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class Da{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mf(this,qn.join,this.params,this.timeout),this.rejoinTimer=new wC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Al(this),this.broadcastEndpointURL=SC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ol.PRESENCE]&&this.bindings[Ol.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Er.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Er.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<y;x++){const b=g[x],{filter:{event:S,schema:_,table:j,filter:k}}=b,C=m&&m[x];if(C&&C.event===S&&Da.isFilterValueEqual(C.schema,_)&&Da.isFilterValueEqual(C.table,j)&&Da.isFilterValueEqual(C.filter,k))w.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),this.state=ct.errored,t==null||t(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Er.SUBSCRIBED);return}}).receive("error",m=>{this.state=ct.errored,t==null||t(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ct.joined&&t===Ol.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Mf(this,qn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Mf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>h$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=qn;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,g,y;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(m=>m.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,g,y,w,x,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const S=m.id,_=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(x=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:y,commit_timestamp:w,type:x,errors:b}=v;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Da.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qn.close,{},t)}_onError(t){this._on(qn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Nw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Nw(t.columns,t.old_record)),n}}const Lf=()=>{},yu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w$=[1e3,2e3,5e3,1e4],b$=1e4,S$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _${constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gp,this.transport=null,this.heartbeatIntervalMs=yu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lf,this.ref=0,this.reconnectTimer=null,this.vsn=Cw,this.logger=Lf,this.conn=null,this.sendBuffer=[],this.serializer=new f$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Yp.websocket}`,this.httpEndpoint=SC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=o$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return yi.Connecting;case us.open:return yi.Open;case us.closing:return yi.Closing;default:return yi.Closed}}isConnected(){return this.connectionState()===yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Da(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(d$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===us.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===us.open||this.conn.readyState===us.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([S$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:c$};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(qn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,l,c,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Gp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:yu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Lf,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Cw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>w$[v-1]||b$,this.vsn){case xC:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,g)=>g(JSON.parse(v));break;case u$:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var cc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function j$(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function k$(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function C$(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const l=j$(e.baseUrl,r,s),c=await k$(e.auth),u=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,v=m==null?void 0:m.error;throw new cc((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function vu(e){return e.join("")}var N$=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vu(e.namespace)}`}),!0}catch(t){if(t instanceof cc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof cc&&n.status===409)return;throw n}}};function ca(e){return e.join("")}var E$=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof cc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof cc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},T$=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=C$({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new N$(this.client,t),this.tableOps=new E$(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Th=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var P$=class extends Th{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xp=class extends Th{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const fv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),R$=()=>Response,Zp=e=>{if(Array.isArray(e))return e.map(n=>Zp(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Zp(r)}),t},A$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},O$=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function I$(e,t){if(uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D$(e){var t=I$(e,"string");return uc(t)=="symbol"?t:t+""}function M$(e,t,n){return(t=D$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(n),!0).forEach(function(r){M$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const $f=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},L$=async(e,t,n)=>{e instanceof await R$()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new P$($f(r),s,i))}).catch(r=>{t(new Xp($f(r),r))}):t(new Xp($f(e),e))},$$=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(A$(r)?(s.headers=ie({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),ie(ie({},s),n))};async function Mc(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,$$(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>L$(c,l,r))})}async function dc(e,t,n,r){return Mc(e,"GET",t,n,r)}async function Bn(e,t,n,r,s){return Mc(e,"POST",t,r,s,n)}async function Jp(e,t,n,r,s){return Mc(e,"PUT",t,r,s,n)}async function F$(e,t,n,r){return Mc(e,"HEAD",t,ie(ie({},n),{},{noResolveJson:!0}),r)}async function mv(e,t,n,r,s){return Mc(e,"DELETE",t,r,s,n)}var U$=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}}};let _C;_C=Symbol.toStringTag;var V$=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_C]="BlobDownloadBuilder",this.promise=null}asStream(){return new U$(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ze(t))return{data:null,error:t};throw t}}};const B$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var z$=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const a=ie(ie({},Rw),r);let l=ie(ie({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(l=ie(ie({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Jp:Bn)(s.fetch,`${s.url}/object/${d}`,i,ie({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(ze(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=ie({upsert:Rw.upsert},r),d=ie(ie({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Jp(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(ze(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=ie({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Bn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),l=a.searchParams.get("token");if(!l)throw new Th("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Bn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await Bn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await Bn(r.fetch,`${r.url}/object/sign/${s}`,ie({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await Bn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>ie(ie({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>dc(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new V$(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Zp(await dc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await F$(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ze(r)&&r instanceof Xp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await mv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=ie(ie(ie({},B$),t),{},{prefix:e||""});return{data:await Bn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ze(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=ie({},e);return{data:await Bn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const jC="2.90.0",kC={"X-Client-Info":`storage-js/${jC}`};var W$=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ie(ie({},kC),t),this.fetch=fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await dc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await dc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Bn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Jp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ze(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Bn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await mv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},H$=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},kC),t),this.fetch=fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Bn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await dc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await mv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ze(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!O$(e))throw new Th("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new T$({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const pv={"X-Client-Info":`storage-js/${jC}`,"Content-Type":"application/json"};var CC=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ff=class extends CC{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},q$=class extends CC{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const gv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),K$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Aw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G$=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new Ff(Aw(i),r,a))}).catch(()=>{const i=r+"";t(new Ff(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new Ff(s.statusText||`HTTP ${r} error`,r,i))}}else t(new q$(Aw(e),e))},Y$=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(K$(r)?(s.headers=ie({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,ie(ie({},s),n)):s};async function Q$(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,Y$(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>G$(c,l,r))})}async function rn(e,t,n,r,s){return Q$(e,"POST",t,r,s,n)}var X$=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},pv),t),this.fetch=gv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await rn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await rn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}}},Z$=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},pv),t),this.fetch=gv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await rn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await rn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await rn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}},J$=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=ie(ie({},pv),t),this.fetch=gv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await rn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await rn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}}},e5=class extends J${constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new t5(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},t5=class extends X${constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new n5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},n5=class extends Z${constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ie(ie({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},r5=class extends W${constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new z$(this.url,this.headers,e,this.fetch)}get vectors(){return new e5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new H$(this.url+"/iceberg",this.headers,this.fetch)}};const NC="2.90.0",wa=30*1e3,eg=3,Uf=eg*wa,s5="http://localhost:9999",i5="supabase.auth.token",a5={"X-Client-Info":`gotrue-js/${NC}`},tg="X-Supabase-Api-Version",EC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l5=10*60*1e3;class hc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c5 extends hc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function u5(e){return J(e)&&e.name==="AuthApiError"}class vi extends hc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yr extends hc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Jt extends Yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d5(e){return J(e)&&e.name==="AuthSessionMissingError"}class ua extends Yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xu extends Yr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wu extends Yr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h5(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ow extends Yr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class f5 extends Yr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ng extends Yr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Vf(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Iw extends Yr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rg extends Yr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dw=` 	
\r=`.split(""),m5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dw.length;t+=1)e[Dw[t].charCodeAt(0)]=-2;for(let t=0;t<Id.length;t+=1)e[Id[t].charCodeAt(0)]=t;return e})();function Mw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Id[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Id[r]),t.queuedBits-=6}}function TC(e,t,n){const r=m5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{y5(a,r,n)};for(let a=0;a<e.length;a+=1)TC(e.charCodeAt(a),s,i);return t.join("")}function p5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function g5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}p5(r,t)}}function y5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Qa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)TC(e.charCodeAt(s),n,r);return new Uint8Array(t)}function v5(e){const t=[];return g5(e,n=>t.push(n)),new Uint8Array(t)}function Si(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Mw(s,n,r)),Mw(null,n,r),t.join("")}function x5(e){return Math.round(Date.now()/1e3)+e}function w5(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",ci={tested:!1,writable:!1},PC=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ci.tested)return ci.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ci.tested=!0,ci.writable=!0}catch{ci.tested=!0,ci.writable=!1}return ci.writable};function b5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const RC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ba=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ui=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(e,t)=>{await e.removeItem(t)};class Ph{constructor(){this.promise=new Ph.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ph.promiseConstructor=Promise;function Bf(e){const t=e.split(".");if(t.length!==3)throw new rg("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!o5.test(t[r]))throw new rg("JWT not in base64url format");return{header:JSON.parse(Lw(t[0])),payload:JSON.parse(Lw(t[1])),signature:Qa(t[2]),raw:{header:t[0],payload:t[1]}}}async function _5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function j5(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function k5(e){return("0"+e.toString(16)).substr(-2)}function C5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,k5).join("")}async function N5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function E5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await N5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function da(e,t,n=!1){const r=C5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ba(e,`${t}-code-verifier`,s);const i=await E5(r);return[i,r===i?"plain":"s256"]}const T5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P5(e){const t=e.headers.get(tg);if(!t||!t.match(T5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function R5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function A5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const O5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ha(e){if(!O5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function I5(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function $w(e){return JSON.parse(JSON.stringify(e))}const mi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D5=[502,503,504];async function Fw(e){var t;if(!S5(e))throw new ng(mi(e),0);if(D5.includes(e.status))throw new ng(mi(e),e.status);let n;try{n=await e.json()}catch(i){throw new vi(mi(i),i)}let r;const s=P5(e);if(s&&s.getTime()>=EC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Iw(mi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Iw(mi(n),e.status,n.weak_password.reasons);throw new c5(mi(n),e.status||500,r)}const M5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function se(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[tg]||(i[tg]=EC["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await L5(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function L5(e,t,n,r,s,i){const a=M5(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new ng(mi(c),0)}if(l.ok||await Fw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Fw(c)}}function $n(e){var t;let n=null;U5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=x5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Uw(e){const t=$n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ms(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $5(e){return{data:e,error:null}}function F5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=zo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Vw(e){return e}function U5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wf=["global","local","others"];class V5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=RC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Wf[0]){if(Wf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wf.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ms})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=zo(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:F5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ms})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Vw});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ha(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ms})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ha(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ms})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ha(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ms})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ha(t.userId);try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ha(t.userId),ha(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Vw});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function Bw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const fa={debug:!!(globalThis&&PC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AC extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class B5 extends AC{}async function z5(e,t,n){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new B5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function W5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function OC(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function H5(e){return parseInt(e,16)}function q5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function K5(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=OC(e.address),v=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${v} wants you to sign in with your Ethereum account:
${m}

${g}`;let w=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),l&&(w+=`
Not Before: ${l.toISOString()}`),c&&(w+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);x+=`
- ${b}`}w+=x}return`${y}
${w}`}class st extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Dd extends st{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function G5({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(IC(a)){if(i.rp.id!==a)return new st({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Y5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(IC(r)){if(n.rpId!==r)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Q5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const X5=new Q5;function Z5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=zo(e,["challenge","user","excludeCredentials"]),i=Qa(t).buffer,a=Object.assign(Object.assign({},n),{id:Qa(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Qa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function J5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=zo(e,["challenge","allowCredentials"]),s=Qa(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Qa(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function eF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Si(new Uint8Array(e.response.attestationObject)),clientDataJSON:Si(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Si(new Uint8Array(s.authenticatorData)),clientDataJSON:Si(new Uint8Array(s.clientDataJSON)),signature:Si(new Uint8Array(s.signature)),userHandle:s.userHandle?Si(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IC(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zw(){var e,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nF(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dd("Browser returned unexpected credential type",t)}:{data:null,error:new Dd("Empty credential response",t)}}catch(t){return{data:null,error:G5({error:t,options:e})}}}async function rF(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dd("Browser returned unexpected credential type",t)}:{data:null,error:new Dd("Empty credential response",t)}}catch(t){return{data:null,error:Y5({error:t,options:e})}}}const sF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Md(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const l=r[i];t(l)?r[i]=Md(l,a):r[i]=Md(a)}else r[i]=a}return r}function aF(e,t){return Md(sF,e,t||{})}function oF(e,t){return Md(iF,e,t||{})}class lF{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=s??X5.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=aF(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await nF({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=oF(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await rF(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return J(a)?{data:null,error:a}:{data:null,error:new vi("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new hc("rpId is required for WebAuthn authentication")};try{if(!zw())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return J(a)?{data:null,error:a}:{data:null,error:new vi("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new hc("rpId is required for WebAuthn registration")};try{if(!zw())return{data:null,error:new vi("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return J(a)?{data:null,error:a}:{data:null,error:new vi("Unexpected error in register",a)}}}}W5();const cF={url:s5,storageKey:i5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ww(e,t,n){return await n()}const ma={};class fc{get jwks(){var t,n;return(n=(t=ma[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ma[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ma[this.storageKey]=Object.assign(Object.assign({},ma[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},cF),t);if(this.storageKey=i.storageKey,this.instanceID=(n=fc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,fc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&yt()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new V5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=RC(i.fetch),this.lock=i.lock||Ww,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=z5:this.lock=Ww,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:PC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Bw(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${NC}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(yt()&&(n=b5(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),yt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),h5(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?this._returnResult({error:n}):this._returnResult({error:new vi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:$n}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(J(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await da(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:$n})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$n})}else throw new xu("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uw})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uw})}else throw new xu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new ua;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,l,c,u,d,h,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:y,statement:w,options:x}=t;let b;if(yt())if(typeof y=="object")b=y;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")b=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),_=await b.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=OC(_[0]);let k=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const T=await b.request({method:"eth_chainId"});k=H5(T)}const C={domain:S.host,address:j,statement:w,uri:S.href,version:"1",chainId:k,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=K5(C),v=await b.request({method:"personal_sign",params:[q5(m),j]})}try{const{data:g,error:y}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$n});if(y)throw y;if(!g||!g.session||!g.user){const w=new ua;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(J(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var n,r,s,i,a,l,c,u,d,h,f,m;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:y,wallet:w,statement:x,options:b}=t;let S;if(yt())if(typeof w=="object")S=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:y,error:w}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Si(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:$n});if(w)throw w;if(!y||!y.session||!y.user){const x=new ua;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(J(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const n=await ui(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new f5;const{data:i,error:a}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$n});if(await gt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new ua;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$n}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ua;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await da(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new xu("You must provide either an email or phone number.")}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:$n});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await da(this.storage,this.storageKey));const u=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:$5});return!((i=u.data)===null||i===void 0)&&i.url&&yt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Jt;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(J(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new xu("You must provide either an email or phone number and a type")}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Uf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ui(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=zf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=I5(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ms}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ms})})}catch(n){if(J(n))return d5(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Jt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await da(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ms});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Bf(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(J(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Jt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!yt())throw new wu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ow("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ow("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new wu("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(r){if(J(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(u5(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=w5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await da(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return yt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(J(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$n}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ua}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await gt(this.storage,`${this.storageKey}-code-verifier`),J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await j5(async s=>(s>0&&await _5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$n})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Vf(i)&&Date.now()+a-r<wa})}catch(r){if(this._debug(n,"error",r),J(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),yt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ui(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ba(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:zf()}else if(s&&!s.user&&!s.user){const a=await ui(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await gt(this.storage,this.storageKey+"-user"),await ba(this.storage,this.storageKey,s)):s.user=zf()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Uf;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Uf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Vf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ph;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),J(i)){const a={data:null,error:i};return Vf(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ba(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=$w(s);await ba(this.storage,this.storageKey,i)}else{const s=$w(n);await ba(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wa}ms, refresh threshold is ${eg} ticks`),s<=eg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AC)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await da(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?eF(t.webauthn.credential_response):tF(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Z5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:J5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Bf(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Jt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Jt});const a=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&yt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Jt})})}catch(t){if(J(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jt})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+l5>s)return r;const{data:i,error:a}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Bf(r);n!=null&&n.allowExpired||R5(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=A5(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,v5(`${l}.${c}`)))throw new rg("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}}fc.nextInstanceID={};const uF=fc,dF="2.90.0";let gl="";typeof Deno<"u"?gl="deno":typeof document<"u"?gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gl="react-native":gl="node";const hF={"X-Client-Info":`supabase-js-${gl}/${dF}`},fF={headers:hF},mF={schema:"public"},pF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gF={};function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function yF(e,t){if(mc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vF(e){var t=yF(e,"string");return mc(t)=="symbol"?t:t+""}function xF(e,t,n){return(t=vF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(r){xF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const wF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bF=()=>Headers,SF=(e,t,n)=>{const r=wF(n),s=bF();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Xe(Xe({},a),{},{headers:u}))}};function _F(e){return e.endsWith("/")?e:e+"/"}function jF(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Xe(Xe({},c),s),auth:Xe(Xe({},u),i),realtime:Xe(Xe({},d),a),storage:{},global:Xe(Xe(Xe({},h),l),{},{headers:Xe(Xe({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function kF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_F(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var CF=class extends uF{constructor(e){super(e)}},NF=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=kF(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:mF,realtime:gF,auth:Xe(Xe({},pF),{},{storageKey:a}),global:fF},c=jF(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=SF(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new a$(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new r5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new t$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CF({url:this.authUrl.href,headers:Xe(Xe({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _$(this.realtimeUrl.href,Xe(Xe({},e),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const EF=(e,t,n)=>new NF(e,t,n);function TF(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}TF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PF="https://umisnhxwtsiaokwspnjh.supabase.co",RF="sb_publishable_uMzHyyA544OO-4gAl6ouKQ_9TToD6eu",K=EF(PF,RF,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),AF={BASE_URL:"/karate/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtaXNuaHh3dHNpYW9rd3NwbmpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4NjA1NzcsImV4cCI6MjA4MzQzNjU3N30.R2x9RqTs2SIujFFprEh7KTt855eIyhQMs1Axf9IM7R0",VITE_SUPABASE_PROJECT_ID:"umisnhxwtsiaokwspnjh",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_uMzHyyA544OO-4gAl6ouKQ_9TToD6eu",VITE_SUPABASE_URL:"https://umisnhxwtsiaokwspnjh.supabase.co"},DC=p.createContext(void 0);function OF({children:e}){const[t,n]=p.useState(null),[r,s]=p.useState(null),[i,a]=p.useState(null),[l,c]=p.useState(!0),u=async v=>{const{data:g,error:y}=await K.from("profiles").select("*").eq("user_id",v).maybeSingle();!y&&g&&a(g)};p.useEffect(()=>{const{data:{subscription:v}}=K.auth.onAuthStateChange((g,y)=>{s(y),n((y==null?void 0:y.user)??null),y!=null&&y.user?setTimeout(()=>{u(y.user.id)},0):a(null),c(!1)});return K.auth.getSession().then(({data:{session:g}})=>{s(g),n((g==null?void 0:g.user)??null),g!=null&&g.user&&u(g.user.id),c(!1)}),()=>v.unsubscribe()},[]);const d=async(v,g,y,w="adult")=>{const x=typeof import.meta<"u"&&AF?"/karate/":"/",b=`${window.location.origin}${x}`,{data:S,error:_}=await K.auth.signUp({email:v,password:g,options:{emailRedirectTo:b,data:{full_name:y,registration_type:w}}});return _?{error:_}:{error:null}},h=async(v,g)=>{const{error:y}=await K.auth.signInWithPassword({email:v,password:g});return{error:y}},f=async()=>{await K.auth.signOut(),a(null)},m=async()=>{t&&await u(t.id)};return o.jsx(DC.Provider,{value:{user:t,session:r,profile:i,loading:l,signUp:d,signIn:h,signOut:f,refreshProfile:m},children:e})}function lt(){const e=p.useContext(DC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const IF=wh("inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-semibold uppercase tracking-wider transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-lg hover:shadow-primary/30 rounded-none",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 rounded-none",outline:"border-2 border-foreground bg-transparent text-foreground hover:bg-foreground hover:text-background rounded-none",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-none",ghost:"hover:bg-secondary hover:text-foreground rounded-none",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground font-bold hover:shadow-xl hover:shadow-primary/40 hover:scale-105 hover-shake rounded-none",dark:"bg-background text-foreground border-2 border-foreground hover:bg-foreground hover:text-background rounded-none",gold:"bg-gold text-gold-foreground font-bold hover:shadow-lg hover:shadow-gold/40 rounded-none",glow:"bg-primary text-primary-foreground animate-pulse-glow hover:scale-105 rounded-none"},size:{default:"h-12 px-6 py-3",sm:"h-10 px-4 py-2 text-xs",lg:"h-14 px-8 py-4",xl:"h-16 px-10 py-5 text-base",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),B=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const a=r?cO:"button";return o.jsx(a,{className:le(IF({variant:t,size:n,className:e})),ref:i,...s})});B.displayName="Button";const yv=p.createContext({});function vv(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const xv=typeof window<"u",MC=xv?p.useLayoutEffect:p.useEffect,Rh=p.createContext(null);function wv(e,t){e.indexOf(t)===-1&&e.push(t)}function bv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Hr=(e,t,n)=>n>t?t:n<e?e:n;let Ld=()=>{};const qr={},LC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $C(e){return typeof e=="object"&&e!==null}const FC=e=>/^0[^.\s]+$/u.test(e);function Sv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Nn=e=>e,DF=(e,t)=>n=>t(e(n)),Lc=(...e)=>e.reduce(DF),pc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class _v{constructor(){this.subscriptions=[]}add(t){return wv(this.subscriptions,t),()=>bv(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xr=e=>e*1e3,_n=e=>e/1e3;function UC(e,t){return t?e*(1e3/t):0}const VC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,MF=1e-7,LF=12;function $F(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=VC(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>MF&&++l<LF);return a}function $c(e,t,n,r){if(e===t&&n===r)return Nn;const s=i=>$F(i,0,1,e,n);return i=>i===0||i===1?i:VC(s(i),t,r)}const BC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zC=e=>t=>1-e(1-t),WC=$c(.33,1.53,.69,.99),jv=zC(WC),HC=BC(jv),qC=e=>(e*=2)<1?.5*jv(e):.5*(2-Math.pow(2,-10*(e-1))),kv=e=>1-Math.sin(Math.acos(e)),KC=zC(kv),GC=BC(kv),FF=$c(.42,0,1,1),UF=$c(0,0,.58,1),YC=$c(.42,0,.58,1),VF=e=>Array.isArray(e)&&typeof e[0]!="number",QC=e=>Array.isArray(e)&&typeof e[0]=="number",qw={linear:Nn,easeIn:FF,easeInOut:YC,easeOut:UF,circIn:kv,circInOut:GC,circOut:KC,backIn:jv,backInOut:HC,backOut:WC,anticipate:qC},BF=e=>typeof e=="string",Kw=e=>{if(QC(e)){Ld(e.length===4);const[t,n,r,s]=e;return $c(t,n,r,s)}else if(BF(e))return Ld(qw[e]!==void 0),qw[e];return e},bu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Gw={value:null,addProjectionMetrics:null};function zF(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){a.has(h)&&(d.schedule(h),e()),c++,h(l)}const d={schedule:(h,f=!1,m=!1)=>{const g=m&&s?n:r;return f&&a.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),t&&Gw.value&&Gw.value.frameloop[t].push(c),c=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const WF=40;function XC(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=bu.reduce((b,S)=>(b[S]=zF(i,t?S:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:h,preRender:f,render:m,postRender:v}=a,g=()=>{const b=qr.useManualTiming?s.timestamp:performance.now();n=!1,qr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,WF),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},y=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:bu.reduce((b,S)=>{const _=a[S];return b[S]=(j,k=!1,C=!1)=>(n||y(),_.schedule(j,k,C)),b},{}),cancel:b=>{for(let S=0;S<bu.length;S++)a[bu[S]].cancel(b)},state:s,steps:a}}const{schedule:Be,cancel:Hs,state:xt,steps:Hf}=XC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0);let Ku;function HF(){Ku=void 0}const Kt={now:()=>(Ku===void 0&&Kt.set(xt.isProcessing||qr.useManualTiming?xt.timestamp:performance.now()),Ku),set:e=>{Ku=e,queueMicrotask(HF)}},ZC=e=>t=>typeof t=="string"&&t.startsWith(e),JC=ZC("--"),qF=ZC("var(--"),Cv=e=>qF(e)?KF.test(e.split("/*")[0].trim()):!1,KF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gc={...Wo,transform:e=>Hr(0,1,e)},Su={...Wo,default:1},Il=e=>Math.round(e*1e5)/1e5,Nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GF(e){return e==null}const YF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ev=(e,t)=>n=>!!(typeof n=="string"&&YF.test(n)&&n.startsWith(e)||t&&!GF(n)&&Object.prototype.hasOwnProperty.call(n,t)),eN=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(Nv);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},QF=e=>Hr(0,255,e),qf={...Wo,transform:e=>Math.round(QF(e))},_i={test:Ev("rgb","red"),parse:eN("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qf.transform(e)+", "+qf.transform(t)+", "+qf.transform(n)+", "+Il(gc.transform(r))+")"};function XF(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sg={test:Ev("#"),parse:XF,transform:_i.transform},Fc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),as=Fc("deg"),wr=Fc("%"),oe=Fc("px"),ZF=Fc("vh"),JF=Fc("vw"),Yw={...wr,parse:e=>wr.parse(e)/100,transform:e=>wr.transform(e*100)},Ma={test:Ev("hsl","hue"),parse:eN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+wr.transform(Il(t))+", "+wr.transform(Il(n))+", "+Il(gc.transform(r))+")"},it={test:e=>_i.test(e)||sg.test(e)||Ma.test(e),parse:e=>_i.test(e)?_i.parse(e):Ma.test(e)?Ma.parse(e):sg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_i.transform(e):Ma.transform(e),getAnimatableNone:e=>{const t=it.parse(e);return t.alpha=0,it.transform(t)}},e3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t3(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Nv))==null?void 0:t.length)||0)+(((n=e.match(e3))==null?void 0:n.length)||0)>0}const tN="number",nN="color",n3="var",r3="var(",Qw="${}",s3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(s3,c=>(it.test(c)?(r.color.push(i),s.push(nN),n.push(it.parse(c))):c.startsWith(r3)?(r.var.push(i),s.push(n3),n.push(c)):(r.number.push(i),s.push(tN),n.push(parseFloat(c))),++i,Qw)).split(Qw);return{values:n,split:l,indexes:r,types:s}}function rN(e){return yc(e).values}function sN(e){const{split:t,types:n}=yc(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const l=n[a];l===tN?i+=Il(s[a]):l===nN?i+=it.transform(s[a]):i+=s[a]}return i}}const i3=e=>typeof e=="number"?0:it.test(e)?it.getAnimatableNone(e):e;function a3(e){const t=rN(e);return sN(e)(t.map(i3))}const qs={test:t3,parse:rN,createTransformer:sN,getAnimatableNone:a3};function Kf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function o3({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Kf(c,l,e+1/3),i=Kf(c,l,e),a=Kf(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function $d(e,t){return n=>n>0?t:e}const He=(e,t,n)=>e+(t-e)*n,Gf=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},l3=[sg,_i,Ma],c3=e=>l3.find(t=>t.test(e));function Xw(e){const t=c3(e);if(!t)return!1;let n=t.parse(e);return t===Ma&&(n=o3(n)),n}const Zw=(e,t)=>{const n=Xw(e),r=Xw(t);if(!n||!r)return $d(e,t);const s={...n};return i=>(s.red=Gf(n.red,r.red,i),s.green=Gf(n.green,r.green,i),s.blue=Gf(n.blue,r.blue,i),s.alpha=He(n.alpha,r.alpha,i),_i.transform(s))},ig=new Set(["none","hidden"]);function u3(e,t){return ig.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function d3(e,t){return n=>He(e,t,n)}function Tv(e){return typeof e=="number"?d3:typeof e=="string"?Cv(e)?$d:it.test(e)?Zw:m3:Array.isArray(e)?iN:typeof e=="object"?it.test(e)?Zw:h3:$d}function iN(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>Tv(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function h3(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Tv(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function f3(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],l=e.values[a]??0;n[s]=l,r[i]++}return n}const m3=(e,t)=>{const n=qs.createTransformer(t),r=yc(e),s=yc(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ig.has(e)&&!s.values.length||ig.has(t)&&!r.values.length?u3(e,t):Lc(iN(f3(r,s),s.values),n):$d(e,t)};function aN(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?He(e,t,n):Tv(e)(e,t)}const p3=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Be.update(t,n),stop:()=>Hs(t),now:()=>xt.isProcessing?xt.timestamp:Kt.now()}},oN=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Fd=2e4;function Pv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Fd;)t+=n,r=e.next(t);return t>=Fd?1/0:t}function g3(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Pv(r),Fd);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:_n(s)}}const y3=5;function lN(e,t,n){const r=Math.max(t-y3,0);return UC(n-e(r),t-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yf=.001;function v3({duration:e=Ze.duration,bounce:t=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let s,i,a=1-t;a=Hr(Ze.minDamping,Ze.maxDamping,a),e=Hr(Ze.minDuration,Ze.maxDuration,_n(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-n,m=ag(u,a),v=Math.exp(-h);return Yf-f/m*v},i=u=>{const h=u*a*e,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-h),g=ag(Math.pow(u,2),a);return(-s(u)+Yf>0?-1:1)*((f-m)*v)/g}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Yf+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=w3(s,i,l);if(e=xr(e),isNaN(c))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const x3=12;function w3(e,t,n){let r=n;for(let s=1;s<x3;s++)r=r-e(r)/t(r);return r}function ag(e,t){return e*Math.sqrt(1-t*t)}const b3=["duration","bounce"],S3=["stiffness","damping","mass"];function Jw(e,t){return t.some(n=>e[n]!==void 0)}function _3(e){let t={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...e};if(!Jw(e,S3)&&Jw(e,b3))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Hr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ze.mass,stiffness:s,damping:i}}else{const n=v3(e);t={...t,...n,mass:Ze.mass},t.isResolvedFromDuration=!0}return t}function Ud(e=Ze.visualDuration,t=Ze.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=_3({...n,velocity:-_n(n.velocity||0)}),v=f||0,g=u/(2*Math.sqrt(c*d)),y=a-i,w=_n(Math.sqrt(c/d)),x=Math.abs(y)<5;r||(r=x?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=x?Ze.restDelta.granular:Ze.restDelta.default);let b;if(g<1){const _=ag(w,g);b=j=>{const k=Math.exp(-g*w*j);return a-k*((v+g*w*y)/_*Math.sin(_*j)+y*Math.cos(_*j))}}else if(g===1)b=_=>a-Math.exp(-w*_)*(y+(v+w*y)*_);else{const _=w*Math.sqrt(g*g-1);b=j=>{const k=Math.exp(-g*w*j),C=Math.min(_*j,300);return a-k*((v+g*w*y)*Math.sinh(C)+_*y*Math.cosh(C))/_}}const S={calculatedDuration:m&&h||null,next:_=>{const j=b(_);if(m)l.done=_>=h;else{let k=_===0?v:0;g<1&&(k=_===0?xr(v):lN(b,_,j));const C=Math.abs(k)<=r,T=Math.abs(a-j)<=s;l.done=C&&T}return l.value=l.done?a:j,l},toString:()=>{const _=Math.min(Pv(S),Fd),j=oN(k=>S.next(_*k).value,_,30);return _+"ms "+j},toTransition:()=>{}};return S}Ud.applyToOptions=e=>{const t=g3(e,100,Ud);return e.ease=t.ease,e.duration=xr(t.duration),e.type="keyframes",e};function og({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=C=>l!==void 0&&C<l||c!==void 0&&C>c,v=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let g=n*t;const y=h+g,w=a===void 0?y:a(y);w!==y&&(g=w-h);const x=C=>-g*Math.exp(-C/r),b=C=>w+x(C),S=C=>{const T=x(C),E=b(C);f.done=Math.abs(T)<=u,f.value=f.done?w:E};let _,j;const k=C=>{m(f.value)&&(_=C,j=Ud({keyframes:[f.value,v(f.value)],velocity:lN(b,C,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let T=!1;return!j&&_===void 0&&(T=!0,S(C),k(C)),_!==void 0&&C>=_?j.next(C-_):(!T&&S(C),f)}}}function j3(e,t,n){const r=[],s=n||qr.mix||aN,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Nn:t;l=Lc(c,l)}r.push(l)}return r}function k3(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Ld(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=j3(t,r,s),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=pc(e[h],e[h+1],d);return l[h](f)};return n?d=>u(Hr(e[0],e[i-1],d)):u}function C3(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=pc(0,t,r);e.push(He(n,1,s))}}function N3(e){const t=[0];return C3(t,e.length-1),t}function E3(e,t){return e.map(n=>n*t)}function T3(e,t){return e.map(()=>t||YC).splice(0,e.length-1)}function Dl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=VF(r)?r.map(Kw):Kw(r),i={done:!1,value:t[0]},a=E3(n&&n.length===t.length?n:N3(t),e),l=k3(a,t,{ease:Array.isArray(s)?s:T3(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const P3=e=>e!==null;function Rv(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(P3),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const R3={decay:og,inertia:og,tween:Dl,keyframes:Dl,spring:Ud};function cN(e){typeof e.type=="string"&&(e.type=R3[e.type])}class Av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const A3=e=>e/100;class Ov extends Av{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Kt.now()&&this.tick(Kt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cN(t);const{type:n=Dl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=n||Dl;c!==Dl&&typeof l[0]!="number"&&(this.mixKeyframes=Lc(A3,aN(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Pv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:f,repeatDelay:m,type:v,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,S=r;if(h){const C=Math.min(this.currentTime,s)/l;let T=Math.floor(C),E=C%1;!E&&C>=1&&(E=1),E===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(f==="reverse"?(E=1-E,m&&(E-=m/l)):f==="mirror"&&(S=a)),b=Hr(0,1,E)*l}const _=x?{done:!1,value:d[0]}:S.next(b);i&&(_.value=i(_.value));let{done:j}=_;!x&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return k&&v!==og&&(_.value=Rv(d,this.options,y,this.speed)),g&&g(_.value),k&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return _n(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_n(t)}get time(){return _n(this.currentTime)}set time(t){var n;t=xr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Kt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=_n(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=p3,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Kt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function O3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ji=e=>e*180/Math.PI,lg=e=>{const t=ji(Math.atan2(e[1],e[0]));return cg(t)},I3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:lg,rotateZ:lg,skewX:e=>ji(Math.atan(e[1])),skewY:e=>ji(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},cg=e=>(e=e%360,e<0&&(e+=360),e),eb=lg,tb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),nb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),D3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tb,scaleY:nb,scale:e=>(tb(e)+nb(e))/2,rotateX:e=>cg(ji(Math.atan2(e[6],e[5]))),rotateY:e=>cg(ji(Math.atan2(-e[2],e[0]))),rotateZ:eb,rotate:eb,skewX:e=>ji(Math.atan(e[4])),skewY:e=>ji(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ug(e){return e.includes("scale")?1:0}function dg(e,t){if(!e||e==="none")return ug(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=D3,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=I3,s=l}if(!s)return ug(t);const i=r[t],a=s[1].split(",").map(L3);return typeof i=="function"?i(a):a[i]}const M3=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return dg(n,t)};function L3(e){return parseFloat(e.trim())}const Ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(Ho),rb=e=>e===Wo||e===oe,$3=new Set(["x","y","z"]),F3=Ho.filter(e=>!$3.has(e));function U3(e){const t=[];return F3.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Mi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dg(t,"x"),y:(e,{transform:t})=>dg(t,"y")};Mi.translateX=Mi.x;Mi.translateY=Mi.y;const Li=new Set;let hg=!1,fg=!1,mg=!1;function uN(){if(fg){const e=Array.from(Li).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=U3(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))==null||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fg=!1,hg=!1,Li.forEach(e=>e.complete(mg)),Li.clear()}function dN(){Li.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fg=!0)})}function V3(){mg=!0,dN(),uN(),mg=!1}class Iv{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Li.add(this),hg||(hg=!0,Be.read(dN),Be.resolveKeyframes(uN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}O3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Li.delete(this)}cancel(){this.state==="scheduled"&&(Li.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B3=e=>e.startsWith("--");function z3(e,t,n){B3(t)?e.style.setProperty(t,n):e.style[t]=n}const W3=Sv(()=>window.ScrollTimeline!==void 0),H3={};function q3(e,t){const n=Sv(e);return()=>H3[t]??n()}const hN=q3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yl([0,.65,.55,1]),circOut:yl([.55,0,1,.45]),backIn:yl([.31,.01,.66,-.59]),backOut:yl([.33,1.53,.69,.99])};function fN(e,t){if(e)return typeof e=="function"?hN()?oN(e,t):"ease-out":QC(e)?yl(e):Array.isArray(e)?e.map(n=>fN(n,t)||sb.easeOut):sb[e]}function K3(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const h=fN(l,s);Array.isArray(h)&&(d.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(d,f)}function mN(e){return typeof e=="function"&&"applyToOptions"in e}function G3({type:e,...t}){return mN(e)&&hN()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Y3 extends Av{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Ld(typeof t.type!="string");const u=G3(t);this.animation=K3(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Rv(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):z3(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return _n(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+_n(t)}get time(){return _n(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=xr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&W3()?(this.animation.timeline=t,Nn):n(this)}}const pN={anticipate:qC,backInOut:HC,circInOut:GC};function Q3(e){return e in pN}function X3(e){typeof e.ease=="string"&&Q3(e.ease)&&(e.ease=pN[e.ease])}const ib=10;class Z3 extends Y3{constructor(t){X3(t),cN(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Ov({...a,autoplay:!1}),c=xr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-ib).value,l.sample(c).value,ib),l.stop()}}const ab=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qs.test(e)||e==="0")&&!e.startsWith("url("));function J3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function eU(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=ab(s,t),l=ab(i,t);return!a||!l?!1:J3(e)||(n==="spring"||mN(n))&&r}function pg(e){e.duration=0,e.type="keyframes"}const tU=new Set(["opacity","clipPath","filter","transform"]),nU=Sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rU(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return nU()&&n&&tU.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const sU=40;class iU extends Av{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...h}){var v;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Kt.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||Iv;this.keyframeResolver=new m(l,(g,y,w)=>this.onKeyframesResolved(g,y,f,!w),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Kt.now(),eU(t,i,a,l)||((qr.instantAnimations||!c)&&(d==null||d(Rv(t,r,n))),t[0]=t[t.length-1],pg(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>sU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&rU(f)?new Z3({...f,element:f.motionValue.owner.current}):new Ov(f);m.finished.then(()=>this.notifyFinished()).catch(Nn),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),V3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const aU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oU(e){const t=aU.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function gN(e,t,n=1){const[r,s]=oU(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return LC(a)?parseFloat(a):a}return Cv(s)?gN(s,t,n+1):s}function Dv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const yN=new Set(["width","height","top","left","right","bottom",...Ho]),lU={test:e=>e==="auto",parse:e=>e},vN=e=>t=>t.test(e),xN=[Wo,oe,wr,as,JF,ZF,lU],ob=e=>xN.find(vN(e));function cU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||FC(e):!0}const uU=new Set(["brightness","contrast","saturate","opacity"]);function dU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Nv)||[];if(!r)return e;const s=n.replace(r,"");let i=uU.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const hU=/\b([a-z-]*)\(.*?\)/gu,gg={...qs,getAnimatableNone:e=>{const t=e.match(hU);return t?t.map(dU).join(" "):e}},lb={...Wo,transform:Math.round},fU={rotate:as,rotateX:as,rotateY:as,rotateZ:as,scale:Su,scaleX:Su,scaleY:Su,scaleZ:Su,skew:as,skewX:as,skewY:as,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:gc,originX:Yw,originY:Yw,originZ:oe},Mv={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...fU,zIndex:lb,fillOpacity:gc,strokeOpacity:gc,numOctaves:lb},mU={...Mv,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:gg,WebkitFilter:gg},wN=e=>mU[e];function bN(e,t){let n=wN(e);return n!==gg&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pU=new Set(["auto","none","0"]);function gU(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!pU.has(i)&&yc(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=bN(n,s)}class yU extends Iv{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Cv(u))){const d=gN(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!yN.has(r)||t.length!==2)return;const[s,i]=t,a=ob(s),l=ob(i);if(a!==l)if(rb(a)&&rb(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Mi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||cU(t[s]))&&r.push(s);r.length&&gU(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Mi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function SN(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const _N=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function jN(e){return $C(e)&&"offsetHeight"in e}const cb=30,vU=e=>!isNaN(parseFloat(e));class xU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Kt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Kt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new _v);const r=this.events[t].add(n);return t==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Kt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cb);return UC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(e,t){return new xU(e,t)}const{schedule:Lv,cancel:R7}=XC(queueMicrotask,!1),Fn={x:!1,y:!1};function kN(){return Fn.x||Fn.y}function wU(e){return e==="x"||e==="y"?Fn[e]?null:(Fn[e]=!0,()=>{Fn[e]=!1}):Fn.x||Fn.y?null:(Fn.x=Fn.y=!0,()=>{Fn.x=Fn.y=!1})}function CN(e,t){const n=SN(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function ub(e){return!(e.pointerType==="touch"||kN())}function bU(e,t,n={}){const[r,s,i]=CN(e,n),a=l=>{if(!ub(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=h=>{ub(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const NN=(e,t)=>t?e===t?!0:NN(e,t.parentElement):!1,$v=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,SU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _U(e){return SU.has(e.tagName)||e.tabIndex!==-1}const Gu=new WeakSet;function db(e){return t=>{t.key==="Enter"&&e(t)}}function Qf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const jU=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=db(()=>{if(Gu.has(n))return;Qf(n,"down");const s=db(()=>{Qf(n,"up")}),i=()=>Qf(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function hb(e){return $v(e)&&!kN()}function kU(e,t,n={}){const[r,s,i]=CN(e,n),a=l=>{const c=l.currentTarget;if(!hb(l))return;Gu.add(c);const u=t(c,l),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Gu.has(c)&&Gu.delete(c),hb(m)&&typeof u=="function"&&u(m,{success:v})},h=m=>{d(m,c===window||c===document||n.useGlobalTarget||NN(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),jN(l)&&(l.addEventListener("focus",u=>jU(u,s)),!_U(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function EN(e){return $C(e)&&"ownerSVGElement"in e}function CU(e){return EN(e)&&e.tagName==="svg"}const Et=e=>!!(e&&e.getVelocity),NU=[...xN,it,qs],EU=e=>NU.find(vN(e)),Fv=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function fb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TU(...e){return t=>{let n=!1;const r=e.map(s=>{const i=fb(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():fb(e[s],null)}}}}function PU(...e){return p.useCallback(TU(...e),e)}class RU extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=jN(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function AU({children:e,isPresent:t,anchorX:n,root:r}){const s=p.useId(),i=p.useRef(null),a=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Fv),c=PU(i,e==null?void 0:e.ref);return p.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:f,right:m}=a.current;if(t||!i.current||!u||!d)return;const v=n==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=s;const g=document.createElement("style");l&&(g.nonce=l);const y=r??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[t]),o.jsx(RU,{isPresent:t,childRef:i,sizeRef:a,children:p.cloneElement(e,{ref:c})})}const OU=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=vv(IU),d=p.useId();let h=!0,f=p.useMemo(()=>(h=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return i&&h&&(f={...f}),p.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(e=o.jsx(AU,{isPresent:n,anchorX:l,root:c,children:e})),o.jsx(Rh.Provider,{value:f,children:e})};function IU(){return new Map}function TN(e=!0){const t=p.useContext(Rh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{if(e)return s(i)},[e]);const a=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const _u=e=>e.key||"";function mb(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Vd=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=TN(a),h=p.useMemo(()=>mb(e),[e]),f=a&&!u?[]:h.map(_u),m=p.useRef(!0),v=p.useRef(h),g=vv(()=>new Map),[y,w]=p.useState(h),[x,b]=p.useState(h);MC(()=>{m.current=!1,v.current=h;for(let j=0;j<x.length;j++){const k=_u(x[j]);f.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[x,f.length,f.join("-")]);const S=[];if(h!==y){let j=[...h];for(let k=0;k<x.length;k++){const C=x[k],T=_u(C);f.includes(T)||(j.splice(k,0,C),S.push(C))}return i==="wait"&&S.length&&(j=S),b(mb(j)),w(h),null}const{forceRender:_}=p.useContext(yv);return o.jsx(o.Fragment,{children:x.map(j=>{const k=_u(j),C=a&&!u?!1:h===x||f.includes(k),T=()=>{if(g.has(k))g.set(k,!0);else return;let E=!0;g.forEach(O=>{O||(E=!1)}),E&&(_==null||_(),b(v.current),a&&(d==null||d()),r&&r())};return o.jsx(OU,{isPresent:C,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:C?void 0:T,anchorX:l,children:j},k)})})},PN=p.createContext({strict:!1}),pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const e in pb)So[e]={isEnabled:t=>pb[e].some(n=>!!t[n])};function DU(e){for(const t in e)So[t]={...So[t],...e[t]}}const MU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||MU.has(e)}let RN=e=>!Bd(e);function LU(e){typeof e=="function"&&(RN=t=>t.startsWith("on")?!Bd(t):e(t))}try{LU(require("@emotion/is-prop-valid").default)}catch{}function $U(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(RN(s)||n===!0&&Bd(s)||!t&&!Bd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Ah=p.createContext({});function Oh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vc(e){return typeof e=="string"||Array.isArray(e)}const Uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vv=["initial",...Uv];function Ih(e){return Oh(e.animate)||Vv.some(t=>vc(e[t]))}function AN(e){return!!(Ih(e)||e.variants)}function FU(e,t){if(Ih(e)){const{initial:n,animate:r}=e;return{initial:n===!1||vc(n)?n:void 0,animate:vc(r)?r:void 0}}return e.inherit!==!1?t:{}}function UU(e){const{initial:t,animate:n}=FU(e,p.useContext(Ah));return p.useMemo(()=>({initial:t,animate:n}),[gb(t),gb(n)])}function gb(e){return Array.isArray(e)?e.join(" "):e}function yb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const al={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(oe.test(e))e=parseFloat(e);else return e;const n=yb(e,t.target.x),r=yb(e,t.target.y);return`${n}% ${r}%`}},VU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=qs.parse(e);if(s.length>5)return r;const i=qs.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=He(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}},yg={borderRadius:{...al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:al,borderTopRightRadius:al,borderBottomLeftRadius:al,borderBottomRightRadius:al,boxShadow:VU};function ON(e,{layout:t,layoutId:n}){return qo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!yg[e]||e==="opacity")}const BU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zU=Ho.length;function WU(e,t,n){let r="",s=!0;for(let i=0;i<zU;i++){const a=Ho[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=_N(l,Mv[a]);if(!c){s=!1;const d=BU[a]||a;r+=`${d}(${u}) `}n&&(t[a]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Bv(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(qo.has(c)){a=!0;continue}else if(JC(c)){s[c]=u;continue}else{const d=_N(u,Mv[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(a||n?r.transform=WU(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const zv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IN(e,t,n){for(const r in t)!Et(t[r])&&!ON(r,n)&&(e[r]=t[r])}function HU({transformTemplate:e},t){return p.useMemo(()=>{const n=zv();return Bv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function qU(e,t){const n=e.style||{},r={};return IN(r,n,e),Object.assign(r,HU(e,t)),r}function KU(e,t){const n={},r=qU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const GU={offset:"stroke-dashoffset",array:"stroke-dasharray"},YU={offset:"strokeDashoffset",array:"strokeDasharray"};function QU(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?GU:YU;e[i.offset]=oe.transform(-r);const a=oe.transform(t),l=oe.transform(n);e[i.array]=`${a} ${l}`}function DN(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(Bv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&QU(h,s,i,a,!1)}const MN=()=>({...zv(),attrs:{}}),LN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function XU(e,t,n,r){const s=p.useMemo(()=>{const i=MN();return DN(i,t,LN(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};IN(i,e.style,e),s.style={...i,...s.style}}return s}const ZU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wv(e){return typeof e!="string"||e.includes("-")?!1:!!(ZU.indexOf(e)>-1||/[A-Z]/u.test(e))}function JU(e,t,n,{latestValues:r},s,i=!1){const l=(Wv(e)?XU:KU)(t,r,s,e),c=$U(t,typeof e=="string",i),u=e!==p.Fragment?{...c,...l,ref:n}:{},{children:d}=t,h=p.useMemo(()=>Et(d)?d.get():d,[d]);return p.createElement(e,{...u,children:h})}function vb(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Hv(e,t,n,r){if(typeof t=="function"){const[s,i]=vb(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=vb(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Yu(e){return Et(e)?e.get():e}function eV({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:tV(n,r,s,e),renderState:t()}}function tV(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Yu(i[f]);let{initial:a,animate:l}=e;const c=Ih(e),u=AN(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Oh(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=Hv(e,f[m]);if(v){const{transitionEnd:g,transition:y,...w}=v;for(const x in w){let b=w[x];if(Array.isArray(b)){const S=d?b.length-1:0;b=b[S]}b!==null&&(s[x]=b)}for(const x in g)s[x]=g[x]}}}return s}const $N=e=>(t,n)=>{const r=p.useContext(Ah),s=p.useContext(Rh),i=()=>eV(e,t,r,s);return n?i():vv(i)};function qv(e,t,n){var i;const{style:r}=e,s={};for(const a in r)(Et(r[a])||t.style&&Et(t.style[a])||ON(a,e)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const nV=$N({scrapeMotionValuesFromProps:qv,createRenderState:zv});function FN(e,t,n){const r=qv(e,t,n);for(const s in e)if(Et(e[s])||Et(t[s])){const i=Ho.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const rV=$N({scrapeMotionValuesFromProps:FN,createRenderState:MN}),sV=Symbol.for("motionComponentSymbol");function La(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function iV(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):La(n)&&(n.current=r))},[t])}const Kv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aV="framerAppearId",UN="data-"+Kv(aV),VN=p.createContext({});function oV(e,t,n,r,s){var g,y;const{visualElement:i}=p.useContext(Ah),a=p.useContext(PN),l=p.useContext(Rh),c=p.useContext(Fv).reducedMotion,u=p.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=p.useContext(VN);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&lV(u.current,n,s,h);const f=p.useRef(!1);p.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const m=n[UN],v=p.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return MC(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,m)}),v.current=!1),d.enteringChildren=void 0)}),d}function lV(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:BN(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&La(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function BN(e){if(e)return e.options.allowProjection!==!1?e.projection:BN(e.parent)}function Xf(e,{forwardMotionProps:t=!1}={},n,r){n&&DU(n);const s=Wv(e)?rV:nV;function i(l,c){let u;const d={...p.useContext(Fv),...l,layoutId:cV(l)},{isStatic:h}=d,f=UU(l),m=s(l,h);if(!h&&xv){uV();const v=dV(d);u=v.MeasureLayout,f.visualElement=oV(e,m,d,r,v.ProjectionNode)}return o.jsxs(Ah.Provider,{value:f,children:[u&&f.visualElement?o.jsx(u,{visualElement:f.visualElement,...d}):null,JU(e,l,iV(m,f.visualElement,c),m,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=p.forwardRef(i);return a[sV]=e,a}function cV({layoutId:e}){const t=p.useContext(yv).id;return t&&e!==void 0?t+"-"+e:e}function uV(e,t){p.useContext(PN).strict}function dV(e){const{drag:t,layout:n}=So;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function hV(e,t){if(typeof Proxy>"u")return Xf;const n=new Map,r=(i,a)=>Xf(i,a,e,t),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Xf(a,void 0,e,t)),n.get(a))})}function zN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function fV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mV(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zf(e){return e===void 0||e===1}function vg({scale:e,scaleX:t,scaleY:n}){return!Zf(e)||!Zf(t)||!Zf(n)}function pi(e){return vg(e)||WN(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function WN(e){return xb(e.x)||xb(e.y)}function xb(e){return e&&e!=="0%"}function zd(e,t,n){const r=e-n,s=t*r;return n+s}function wb(e,t,n,r,s){return s!==void 0&&(e=zd(e,s,r)),zd(e,n,r)+t}function xg(e,t=0,n=1,r,s){e.min=wb(e.min,t,n,r,s),e.max=wb(e.max,t,n,r,s)}function HN(e,{x:t,y:n}){xg(e.x,t.translate,t.scale,t.originPoint),xg(e.y,n.translate,n.scale,n.originPoint)}const bb=.999999999999,Sb=1.0000000000001;function pV(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Fa(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,HN(e,a)),r&&pi(i.latestValues)&&Fa(e,i.latestValues))}t.x<Sb&&t.x>bb&&(t.x=1),t.y<Sb&&t.y>bb&&(t.y=1)}function $a(e,t){e.min=e.min+t,e.max=e.max+t}function _b(e,t,n,r,s=.5){const i=He(e.min,e.max,s);xg(e,t,n,i,r)}function Fa(e,t){_b(e.x,t.x,t.scaleX,t.scale,t.originX),_b(e.y,t.y,t.scaleY,t.scale,t.originY)}function qN(e,t){return zN(mV(e.getBoundingClientRect(),t))}function gV(e,t,n){const r=qN(e,n),{scroll:s}=t;return s&&($a(r.x,s.offset.x),$a(r.y,s.offset.y)),r}const jb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ua=()=>({x:jb(),y:jb()}),kb=()=>({min:0,max:0}),ut=()=>({x:kb(),y:kb()}),wg={current:null},KN={current:!1};function yV(){if(KN.current=!0,!!xv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wg.current=e.matches;e.addEventListener("change",t),t()}else wg.current=!1}const vV=new WeakMap;function xV(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Et(s))e.addValue(r,s);else if(Et(i))e.addValue(r,bo(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,bo(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Cb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wV{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Iv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Kt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Be.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ih(n),this.isVariantNode=AN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&Et(m)&&m.set(c[f])}}mount(t){var n;this.current=t,vV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),KN.current||yV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wg.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=qo.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in So){const n=So[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Cb.length;r++){const s=Cb[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=xV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=bo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(LC(r)||FC(r))?r=parseFloat(r):!EU(r)&&qs.test(n)&&(r=bN(t,n)),this.setBaseTarget(t,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Hv(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Et(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new _v),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Lv.render(this.render)}}class GN extends wV{constructor(){super(...arguments),this.KeyframeResolver=yU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Et(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function YN(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function bV(e){return window.getComputedStyle(e)}class SV extends GN{constructor(){super(...arguments),this.type="html",this.renderInstance=YN}readValueFromInstance(t,n){var r;if(qo.has(n))return(r=this.projection)!=null&&r.isProjecting?ug(n):M3(t,n);{const s=bV(t),i=(JC(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qN(t,n)}build(t,n,r){Bv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return qv(t,n,r)}}const QN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _V(e,t,n,r){YN(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(QN.has(s)?s:Kv(s),t.attrs[s])}class jV extends GN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(qo.has(n)){const r=wN(n);return r&&r.default||0}return n=QN.has(n)?n:Kv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return FN(t,n,r)}build(t,n,r){DN(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){_V(t,n,r,s)}mount(t){this.isSVGTag=LN(t.tagName),super.mount(t)}}const kV=(e,t)=>Wv(e)?new jV(t):new SV(t,{allowProjection:e!==p.Fragment});function Xa(e,t,n){const r=e.getProps();return Hv(r,t,n!==void 0?n:r.custom,e)}const bg=e=>Array.isArray(e);function CV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,bo(n))}function NV(e){return bg(e)?e[e.length-1]||0:e}function EV(e,t){const n=Xa(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=NV(i[a]);CV(e,a,l)}}function TV(e){return!!(Et(e)&&e.add)}function Sg(e,t){const n=e.getValue("willChange");if(TV(n))return n.add(t);if(!n&&qr.WillChange){const r=new qr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function XN(e){return e.props[UN]}const PV=e=>e!==null;function RV(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(PV),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const AV={type:"spring",stiffness:500,damping:25,restSpeed:10},OV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IV={type:"keyframes",duration:.8},DV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MV=(e,{keyframes:t})=>t.length>2?IV:qo.has(e)?e.startsWith("scale")?OV(t[1]):AV:DV;function LV({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Gv=(e,t,n,r={},s,i)=>a=>{const l=Dv(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-xr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};LV(l)||Object.assign(d,MV(e,d)),d.duration&&(d.duration=xr(d.duration)),d.repeatDelay&&(d.repeatDelay=xr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(pg(d),d.delay===0&&(h=!0)),(qr.instantAnimations||qr.skipAnimations)&&(h=!0,pg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const f=RV(d.keyframes,l);if(f!==void 0){Be.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new Ov(d):new iU(d)};function $V({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ZN(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const h=e.getValue(d,e.latestValues[d]??null),f=l[d];if(f===void 0||u&&$V(u,d))continue;const m={delay:n,...Dv(i||{},d)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const w=XN(e);if(w){const x=window.MotionHandoffAnimation(w,d,Be);x!==null&&(m.startTime=x,g=!0)}}Sg(e,d),h.start(Gv(d,h,f,e.shouldReduceMotion&&yN.has(d)?{type:!1}:m,e,g));const y=h.animation;y&&c.push(y)}return a&&Promise.all(c).then(()=>{Be.update(()=>{a&&EV(e,a)})}),c}function JN(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:l-i*r}function _g(e,t,n={}){var c;const r=Xa(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(ZN(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return FV(e,t,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function FV(e,t,n=0,r=0,s=0,i=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(_g(c,t,{...a,delay:n+(typeof r=="function"?0:r)+JN(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function UV(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>_g(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=_g(e,t,n);else{const s=typeof t=="function"?Xa(e,t,n.custom):t;r=Promise.all(ZN(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function eE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const VV=Vv.length;function tE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?tE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<VV;n++){const r=Vv[n],s=e.props[r];(vc(s)||s===!1)&&(t[r]=s)}return t}const BV=[...Uv].reverse(),zV=Uv.length;function WV(e){return t=>Promise.all(t.map(({animation:n,options:r})=>UV(e,n,r)))}function HV(e){let t=WV(e),n=Nb(),r=!0;const s=c=>(u,d)=>{var f;const h=Xa(e,d,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...g}=h;u={...u,...g,...v}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=tE(e.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let y=0;y<zV;y++){const w=BV[y],x=n[w],b=u[w]!==void 0?u[w]:d[w],S=vc(b),_=w===c?x.isActive:null;_===!1&&(v=y);let j=b===d[w]&&b!==u[w]&&S;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...m},!x.isActive&&_===null||!b&&!x.prevProp||Oh(b)||typeof b=="boolean")continue;const k=qV(x.prevProp,b);let C=k||w===c&&x.isActive&&!j&&S||y>v&&S,T=!1;const E=Array.isArray(b)?b:[b];let O=E.reduce(s(w),{});_===!1&&(O={});const{prevResolvedValues:P={}}=x,W={...P,...O},I=U=>{C=!0,f.has(U)&&(T=!0,f.delete(U)),x.needsAnimating[U]=!0;const R=e.getValue(U);R&&(R.liveStyle=!1)};for(const U in W){const R=O[U],A=P[U];if(m.hasOwnProperty(U))continue;let V=!1;bg(R)&&bg(A)?V=!eE(R,A):V=R!==A,V?R!=null?I(U):f.add(U):R!==void 0&&f.has(U)?I(U):x.protectedKeys[U]=!0}x.prevProp=b,x.prevResolvedValues=O,x.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(C=!1);const Q=j&&k;C&&(!Q||T)&&h.push(...E.map(U=>{const R={type:w};if(typeof U=="string"&&r&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:A}=e,V=Xa(A,U);if(A.enteringChildren&&V){const{delayChildren:ae}=V.transition||{};R.delay=JN(A.enteringChildren,e,ae)}}return{animation:U,options:R}}))}if(f.size){const y={};if(typeof u.initial!="boolean"){const w=Xa(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(y.transition=w.transition)}f.forEach(w=>{const x=e.getBaseTarget(w),b=e.getValue(w);b&&(b.liveStyle=!0),y[w]=x??null}),h.push({animation:y})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Nb()}}}function qV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eE(t,e):!1}function di(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Nb(){return{animate:di(!0),whileInView:di(),whileHover:di(),whileTap:di(),whileDrag:di(),whileFocus:di(),exit:di()}}class ti{constructor(t){this.isMounted=!1,this.node=t}update(){}}class KV extends ti{constructor(t){super(t),t.animationState||(t.animationState=HV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Oh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let GV=0;class YV extends ti{constructor(){super(...arguments),this.id=GV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const QV={animation:{Feature:KV},exit:{Feature:YV}};function xc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Uc(e){return{point:{x:e.pageX,y:e.pageY}}}const XV=e=>t=>$v(t)&&e(t,Uc(t));function Ml(e,t,n,r){return xc(e,t,XV(n),r)}const nE=1e-4,ZV=1-nE,JV=1+nE,rE=.01,eB=0-rE,tB=0+rE;function Mt(e){return e.max-e.min}function nB(e,t,n){return Math.abs(e-t)<=n}function Eb(e,t,n,r=.5){e.origin=r,e.originPoint=He(t.min,t.max,e.origin),e.scale=Mt(n)/Mt(t),e.translate=He(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ZV&&e.scale<=JV||isNaN(e.scale))&&(e.scale=1),(e.translate>=eB&&e.translate<=tB||isNaN(e.translate))&&(e.translate=0)}function Ll(e,t,n,r){Eb(e.x,t.x,n.x,r?r.originX:void 0),Eb(e.y,t.y,n.y,r?r.originY:void 0)}function Tb(e,t,n){e.min=n.min+t.min,e.max=e.min+Mt(t)}function rB(e,t,n){Tb(e.x,t.x,n.x),Tb(e.y,t.y,n.y)}function Pb(e,t,n){e.min=t.min-n.min,e.max=e.min+Mt(t)}function Wd(e,t,n){Pb(e.x,t.x,n.x),Pb(e.y,t.y,n.y)}function yn(e){return[e("x"),e("y")]}const sE=({current:e})=>e?e.ownerDocument.defaultView:null,Rb=(e,t)=>Math.abs(e-t);function sB(e,t){const n=Rb(e.x,t.x),r=Rb(e.y,t.y);return Math.sqrt(n**2+r**2)}class iE{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=em(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=sB(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=f,{timestamp:y}=xt;this.history.push({...g,timestamp:y});const{onStart:w,onMove:x}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jf(m,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=em(f.type==="pointercancel"?this.lastMoveEventInfo:Jf(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,w),g&&g(f,w)},!$v(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=Uc(t),c=Jf(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=xt;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,em(c,this.history)),this.removeListeners=Lc(Ml(this.contextWindow,"pointermove",this.handlePointerMove),Ml(this.contextWindow,"pointerup",this.handlePointerUp),Ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function Jf(e,t){return t?{point:t(e.point)}:e}function Ab(e,t){return{x:e.x-t.x,y:e.y-t.y}}function em({point:e},t){return{point:e,delta:Ab(e,aE(t)),offset:Ab(e,iB(t)),velocity:aB(t,.1)}}function iB(e){return e[0]}function aE(e){return e[e.length-1]}function aB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=aE(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>xr(t)));)n--;if(!r)return{x:0,y:0};const i=_n(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function oB(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?He(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?He(n,e,r.max):Math.min(e,n)),e}function Ob(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function lB(e,{top:t,left:n,bottom:r,right:s}){return{x:Ob(e.x,n,s),y:Ob(e.y,t,r)}}function Ib(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function cB(e,t){return{x:Ib(e.x,t.x),y:Ib(e.y,t.y)}}function uB(e,t){let n=.5;const r=Mt(e),s=Mt(t);return s>r?n=pc(t.min,t.max-r,e.min):r>s&&(n=pc(e.min,e.max-s,t.min)),Hr(0,1,n)}function dB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jg=.35;function hB(e=jg){return e===!1?e=0:e===!0&&(e=jg),{x:Db(e,"left","right"),y:Db(e,"top","bottom")}}function Db(e,t,n){return{min:Mb(e,t),max:Mb(e,n)}}function Mb(e,t){return typeof e=="number"?e:e[t]||0}const fB=new WeakMap;class mB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uc(h).point)},a=(h,f)=>{const{drag:m,dragPropagation:v,onDragStart:g}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wU(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(w=>{let x=this.getAxisMotionValue(w).get()||0;if(wr.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[w];S&&(x=Mt(S)*(parseFloat(x)/100))}}this.originPoint[w]=x}),g&&Be.postRender(()=>g(h,f)),Sg(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:g,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(v&&this.currentDirection===null){this.currentDirection=pB(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>yn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new iE(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:sE(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Be.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ju(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=oB(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&La(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=lB(r.layoutBox,t):this.constraints=!1,this.elastic=hB(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=dB(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!La(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gV(r,s.root,this.visualElement.getTransformPagePoint());let a=cB(s.layout.layoutBox,i);if(n){const l=n(fV(a));this.hasMutatedConstraints=!!l,l&&(a=zN(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=yn(d=>{if(!ju(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Sg(this.visualElement,t),r.start(Gv(t,r,0,n,this.visualElement,!1))}stopAnimation(){yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){yn(n=>{const{drag:r}=this.getProps();if(!ju(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-He(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!La(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yn(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=uB({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(a=>{if(!ju(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(He(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;fB.set(this.visualElement,this);const t=this.visualElement.current,n=Ml(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();La(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Be.read(r);const a=xc(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(yn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=jg,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function ju(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function pB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class gB extends ti{constructor(t){super(t),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new mB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lb=e=>(t,n)=>{e&&Be.postRender(()=>e(t,n))};class yB extends ti{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(t){this.session=new iE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Lb(t),onStart:Lb(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Be.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Ml(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let tm=!1;class vB extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),tm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Qu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,tm=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Be.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Lv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;tm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oE(e){const[t,n]=TN(),r=p.useContext(yv);return o.jsx(vB,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(VN),isPresent:t,safeToRemove:n})}function xB(e,t,n){const r=Et(e)?e:bo(e);return r.start(Gv("",r,t,n)),r.animation}const wB=(e,t)=>e.depth-t.depth;class bB{constructor(){this.children=[],this.isDirty=!1}add(t){wv(this.children,t),this.isDirty=!0}remove(t){bv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wB),this.isDirty=!1,this.children.forEach(t)}}function SB(e,t){const n=Kt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Hs(r),e(i-t))};return Be.setup(r,!0),()=>Hs(r)}const lE=["TopLeft","TopRight","BottomLeft","BottomRight"],_B=lE.length,$b=e=>typeof e=="string"?parseFloat(e):e,Fb=e=>typeof e=="number"||oe.test(e);function jB(e,t,n,r,s,i){s?(e.opacity=He(0,n.opacity??1,kB(r)),e.opacityExit=He(t.opacity??1,0,CB(r))):i&&(e.opacity=He(t.opacity??1,n.opacity??1,r));for(let a=0;a<_B;a++){const l=`border${lE[a]}Radius`;let c=Ub(t,l),u=Ub(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Fb(c)===Fb(u)?(e[l]=Math.max(He($b(c),$b(u),r),0),(wr.test(u)||wr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=He(t.rotate||0,n.rotate||0,r))}function Ub(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kB=cE(0,.5,KC),CB=cE(.5,.95,Nn);function cE(e,t,n){return r=>r<e?0:r>t?1:n(pc(e,t,r))}function Vb(e,t){e.min=t.min,e.max=t.max}function Ln(e,t){Vb(e.x,t.x),Vb(e.y,t.y)}function Bb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zb(e,t,n,r,s){return e-=t,e=zd(e,1/n,r),s!==void 0&&(e=zd(e,1/s,r)),e}function NB(e,t=0,n=1,r=.5,s,i=e,a=e){if(wr.test(t)&&(t=parseFloat(t),t=He(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=He(i.min,i.max,r);e===i&&(l-=t),e.min=zb(e.min,t,n,l,s),e.max=zb(e.max,t,n,l,s)}function Wb(e,t,[n,r,s],i,a){NB(e,t[n],t[r],t[s],t.scale,i,a)}const EB=["x","scaleX","originX"],TB=["y","scaleY","originY"];function Hb(e,t,n,r){Wb(e.x,t,EB,n?n.x:void 0,r?r.x:void 0),Wb(e.y,t,TB,n?n.y:void 0,r?r.y:void 0)}function qb(e){return e.translate===0&&e.scale===1}function uE(e){return qb(e.x)&&qb(e.y)}function Kb(e,t){return e.min===t.min&&e.max===t.max}function PB(e,t){return Kb(e.x,t.x)&&Kb(e.y,t.y)}function Gb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dE(e,t){return Gb(e.x,t.x)&&Gb(e.y,t.y)}function Yb(e){return Mt(e.x)/Mt(e.y)}function Qb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RB{constructor(){this.members=[]}add(t){wv(this.members,t),t.scheduleRender()}remove(t){if(bv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AB(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const nm=["","X","Y","Z"],OB=1e3;let IB=0;function rm(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function hE(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=XN(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&hE(r)}function fE({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=IB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LB),this.nodes.forEach(VB),this.nodes.forEach(BB),this.nodes.forEach($B)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new bB)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new _v),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=EN(a)&&!CU(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;Be.read(()=>{h=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=SB(f,250),Qu.hasAnimatedSinceResize&&(Qu.hasAnimatedSinceResize=!1,this.nodes.forEach(Jb)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||KB,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!dE(this.targetLayout,m),x=!h&&f;if(this.options.layoutRoot||this.resumeFrom||x||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Dv(v,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,x)}else h||Jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zB),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(UB),this.nodes.forEach(DB),this.nodes.forEach(MB)):this.nodes.forEach(Zb),this.clearAllSnapshots();const l=Kt.now();xt.delta=Hr(0,1e3/60,l-xt.timestamp),xt.timestamp=l,xt.isProcessing=!0,Hf.update.process(xt),Hf.preRender.process(xt),Hf.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FB),this.sharedNodes.forEach(WB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!uE(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||pi(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),GB(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ut();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(YB))){const{scroll:d}=this.root;d&&($a(l.x,d.offset.x),$a(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=ut();if(Ln(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Ln(l,a),$a(l.x,h.offset.x),$a(l.y,h.offset.y))}return l}applyTransform(a,l=!1){const c=ut();Ln(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fa(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pi(d.latestValues)&&Fa(c,d.latestValues)}return pi(this.latestValues)&&Fa(c,this.latestValues),c}removeTransform(a){const l=ut();Ln(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!pi(u.latestValues))continue;vg(u.latestValues)&&u.updateSnapshot();const d=ut(),h=u.measurePageBox();Ln(d,h),Hb(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return pi(this.latestValues)&&Hb(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=xt.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ln(this.target,this.layout.layoutBox),HN(this.target,this.targetDelta)):Ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||vg(this.parent.latestValues)||WN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),Wd(this.relativeTargetOrigin,l,c),Ln(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ln(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;pV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ut());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bb(this.prevProjectionDelta.x,this.projectionDelta.x),Bb(this.prevProjectionDelta.y,this.projectionDelta.y)),Ll(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!Qb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ua(),this.projectionDelta=Ua(),this.projectionDeltaWithTransform=Ua()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=ut(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),w=!y||y.members.length<=1,x=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(qB));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const _=S/1e3;e1(h.x,a.x,_),e1(h.y,a.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HB(this.relativeTarget,this.relativeTargetOrigin,f,_),b&&PB(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ut()),Ln(b,this.relativeTarget)),g&&(this.animationValues=d,jB(d,u,this.latestValues,_,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{Qu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bo(0)),this.currentAnimation=xB(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&mE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ut();const h=Mt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Mt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Ln(l,c),Fa(l,d),Ll(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new RB),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&rm("z",a,u,this.animationValues);for(let d=0;d<nm.length;d++)rm(`rotate${nm[d]}`,a,u,this.animationValues),rm(`skew${nm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Yu(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Yu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!pi(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=AB(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),a.transform=h;const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in yg){if(d[v]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:w}=yg[v],x=h==="none"?d[v]:g(d[v],u);if(y){const b=y.length;for(let S=0;S<b;S++)a[y[S]]=x}else w?this.options.visualElement.renderState.vars[v]=x:a[v]=x}this.options.layoutId&&(a.pointerEvents=u===this?Yu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Xb),this.root.sharedNodes.clear()}}}function DB(e){e.updateLayout()}function MB(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?yn(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Mt(f);f.min=r[h].min,f.max=f.min+m}):mE(i,t.layoutBox,r)&&yn(h=>{const f=a?t.measuredBox[h]:t.layoutBox[h],m=Mt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Ua();Ll(l,r,t.layoutBox);const c=Ua();a?Ll(c,e.applyTransform(s,!0),t.measuredBox):Ll(c,r,t.layoutBox);const u=!uE(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=ut();Wd(v,t.layoutBox,f.layoutBox);const g=ut();Wd(g,r,m.layoutBox),dE(v,g)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function LB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $B(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FB(e){e.clearSnapshot()}function Xb(e){e.clearMeasurements()}function Zb(e){e.isLayoutDirty=!1}function UB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VB(e){e.resolveTargetDelta()}function BB(e){e.calcProjection()}function zB(e){e.resetSkewAndRotation()}function WB(e){e.removeLeadSnapshot()}function e1(e,t,n){e.translate=He(t.translate,0,n),e.scale=He(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function t1(e,t,n,r){e.min=He(t.min,n.min,r),e.max=He(t.max,n.max,r)}function HB(e,t,n,r){t1(e.x,t.x,n.x,r),t1(e.y,t.y,n.y,r)}function qB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const KB={duration:.45,ease:[.4,0,.1,1]},n1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),r1=n1("applewebkit/")&&!n1("chrome/")?Math.round:Nn;function s1(e){e.min=r1(e.min),e.max=r1(e.max)}function GB(e){s1(e.x),s1(e.y)}function mE(e,t,n){return e==="position"||e==="preserve-aspect"&&!nB(Yb(t),Yb(n),.2)}function YB(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const QB=fE({attachResizeListener:(e,t)=>xc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sm={current:void 0},pE=fE({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sm.current){const e=new QB({});e.mount(window),e.setOptions({layoutScroll:!0}),sm.current=e}return sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),XB={pan:{Feature:yB},drag:{Feature:gB,ProjectionNode:pE,MeasureLayout:oE}};function i1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Be.postRender(()=>i(t,Uc(t)))}class ZB extends ti{mount(){const{current:t}=this.node;t&&(this.unmount=bU(t,(n,r)=>(i1(this.node,r,"Start"),s=>i1(this.node,s,"End"))))}unmount(){}}class JB extends ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lc(xc(this.node.current,"focus",()=>this.onFocus()),xc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Be.postRender(()=>i(t,Uc(t)))}class e6 extends ti{mount(){const{current:t}=this.node;t&&(this.unmount=kU(t,(n,r)=>(a1(this.node,r,"Start"),(s,{success:i})=>a1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kg=new WeakMap,im=new WeakMap,t6=e=>{const t=kg.get(e.target);t&&t(e)},n6=e=>{e.forEach(t6)};function r6({root:e,...t}){const n=e||document;im.has(n)||im.set(n,{});const r=im.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(n6,{root:e,...t})),r[s]}function s6(e,t,n){const r=r6(t);return kg.set(e,n),r.observe(e),()=>{kg.delete(e),r.unobserve(e)}}const i6={some:0,all:1};class a6 extends ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:i6[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return s6(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(o6(t,n))&&this.startObserver()}unmount(){}}function o6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const l6={inView:{Feature:a6},tap:{Feature:e6},focus:{Feature:JB},hover:{Feature:ZB}},c6={layout:{ProjectionNode:pE,MeasureLayout:oE}},u6={...QV,...l6,...XB,...c6},L=hV(u6,kV),d6={some:0,all:1};function h6(e,t,{root:n,margin:r,amount:s="some"}={}){const i=SN(e),a=new WeakMap,l=u=>{u.forEach(d=>{const h=a.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=t(d.target,d);typeof f=="function"?a.set(d.target,f):c.unobserve(d.target)}else typeof h=="function"&&(h(d),a.delete(d.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof s=="number"?s:d6[s]});return i.forEach(u=>c.observe(u)),()=>c.disconnect()}function ra(e,{root:t,margin:n,amount:r,once:s=!1,initial:i=!1}={}){const[a,l]=p.useState(i);return p.useEffect(()=>{if(!e.current||s&&a)return;const c=()=>(l(!0),s?void 0:()=>l(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return h6(e.current,c,u)},[t,e,n,s,r]),a}function f6(){const{user:e}=lt();return Rt({queryKey:["user-role",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:t,error:n}=await K.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();if(n)throw n;return t==null?void 0:t.role},enabled:!!e})}function Dh(){const{data:e,isLoading:t}=f6();return{isInstructor:e==="instructor"||e==="admin",isAdmin:e==="admin",isLoading:t}}var am=0;function Yv(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??o1()),document.body.insertAdjacentElement("beforeend",e[1]??o1()),am++,()=>{am===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),am--}},[])}function o1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var om="focusScope.autoFocusOnMount",lm="focusScope.autoFocusOnUnmount",l1={bubbles:!1,cancelable:!0},m6="FocusScope",Mh=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[l,c]=p.useState(null),u=ot(s),d=ot(i),h=p.useRef(null),f=ye(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(b){if(m.paused||!l)return;const S=b.target;l.contains(S)?h.current=S:os(h.current,{select:!0})},y=function(b){if(m.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||os(h.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&os(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(w);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){u1.add(m);const g=document.activeElement;if(!l.contains(g)){const w=new CustomEvent(om,l1);l.addEventListener(om,u),l.dispatchEvent(w),w.defaultPrevented||(p6(w6(gE(l)),{select:!0}),document.activeElement===g&&os(l))}return()=>{l.removeEventListener(om,u),setTimeout(()=>{const w=new CustomEvent(lm,l1);l.addEventListener(lm,d),l.dispatchEvent(w),w.defaultPrevented||os(g??document.body,{select:!0}),l.removeEventListener(lm,d),u1.remove(m)},0)}}},[l,u,d,m]);const v=p.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(y&&w){const x=g.currentTarget,[b,S]=g6(x);b&&S?!g.shiftKey&&w===S?(g.preventDefault(),n&&os(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),n&&os(S,{select:!0})):w===x&&g.preventDefault()}},[n,r,m.paused]);return o.jsx(te.div,{tabIndex:-1,...a,ref:f,onKeyDown:v})});Mh.displayName=m6;function p6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(os(r,{select:t}),document.activeElement!==n)return}function g6(e){const t=gE(e),n=c1(t,e),r=c1(t.reverse(),e);return[n,r]}function gE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function c1(e,t){for(const n of e)if(!y6(n,{upTo:t}))return n}function y6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v6(e){return e instanceof HTMLInputElement&&"select"in e}function os(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&v6(e)&&t&&e.select()}}var u1=x6();function x6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=d1(e,t),e.unshift(t)},remove(t){var n;e=d1(e,t),(n=e[0])==null||n.resume()}}}function d1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function w6(e){return e.filter(t=>t.tagName!=="A")}var b6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pa=new WeakMap,ku=new WeakMap,Cu={},cm=0,yE=function(e){return e&&(e.host||yE(e.parentNode))},S6=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_6=function(e,t,n,r){var s=S6(t,Array.isArray(e)?e:[e]);Cu[n]||(Cu[n]=new WeakMap);var i=Cu[n],a=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var m=f.getAttribute(r),v=m!==null&&m!=="false",g=(pa.get(f)||0)+1,y=(i.get(f)||0)+1;pa.set(f,g),i.set(f,y),a.push(f),g===1&&v&&ku.set(f,!0),y===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(t),l.clear(),cm++,function(){a.forEach(function(h){var f=pa.get(h)-1,m=i.get(h)-1;pa.set(h,f),i.set(h,m),f||(ku.has(h)||h.removeAttribute(r),ku.delete(h)),m||h.removeAttribute(n)}),cm--,cm||(pa=new WeakMap,pa=new WeakMap,ku=new WeakMap,Cu={})}},Qv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=b6(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),_6(r,s,n,"aria-hidden")):function(){return null}},Xu="right-scroll-bar-position",Zu="width-before-scroll-bar",j6="with-scroll-bars-hidden",k6="--removed-body-scroll-bar-size";function um(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function C6(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var N6=typeof window<"u"?p.useLayoutEffect:p.useEffect,h1=new WeakMap;function E6(e,t){var n=C6(null,function(r){return e.forEach(function(s){return um(s,r)})});return N6(function(){var r=h1.get(n);if(r){var s=new Set(r),i=new Set(e),a=n.current;s.forEach(function(l){i.has(l)||um(l,null)}),i.forEach(function(l){s.has(l)||um(l,a)})}h1.set(n,e)},[e]),n}function T6(e){return e}function P6(e,t){t===void 0&&(t=T6);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var a=t(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function R6(e){e===void 0&&(e={});var t=P6(null);return t.options=mr({async:!0,ssr:!1},e),t}var vE=function(e){var t=e.sideCar,n=zo(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,mr({},n))};vE.isSideCarExport=!0;function A6(e,t){return e.useMedium(t),vE}var xE=R6(),dm=function(){},Lh=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),s=r[0],i=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,v=e.noIsolation,g=e.inert,y=e.allowPinchZoom,w=e.as,x=w===void 0?"div":w,b=e.gapMode,S=zo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,j=E6([n,t]),k=mr(mr({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:xE,removeScrollBar:u,shards:h,noRelative:m,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),a?p.cloneElement(p.Children.only(l),mr(mr({},k),{ref:j})):p.createElement(x,mr({},k,{className:c,ref:j}),l))});Lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lh.classNames={fullWidth:Zu,zeroRight:Xu};var O6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=O6();return t&&e.setAttribute("nonce",t),e}function D6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function M6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var L6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=I6())&&(D6(t,n),M6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$6=function(){var e=L6();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},wE=function(){var e=$6(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},F6={left:0,top:0,right:0,gap:0},hm=function(e){return parseInt(e||"",10)||0},U6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[hm(n),hm(r),hm(s)]},V6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F6;var t=U6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},B6=wE(),Za="data-scroll-locked",z6=function(e,t,n,r){var s=e.left,i=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(j6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Za,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Zu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zu," .").concat(Zu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Za,`] {
    `).concat(k6,": ").concat(l,`px;
  }
`)},f1=function(){var e=parseInt(document.body.getAttribute(Za)||"0",10);return isFinite(e)?e:0},W6=function(){p.useEffect(function(){return document.body.setAttribute(Za,(f1()+1).toString()),function(){var e=f1()-1;e<=0?document.body.removeAttribute(Za):document.body.setAttribute(Za,e.toString())}},[])},H6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;W6();var i=p.useMemo(function(){return V6(s)},[s]);return p.createElement(B6,{styles:z6(i,!t,s,n?"":"!important")})},Cg=!1;if(typeof window<"u")try{var Nu=Object.defineProperty({},"passive",{get:function(){return Cg=!0,!0}});window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{Cg=!1}var ga=Cg?{passive:!1}:!1,q6=function(e){return e.tagName==="TEXTAREA"},bE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q6(e)&&n[t]==="visible")},K6=function(e){return bE(e,"overflowY")},G6=function(e){return bE(e,"overflowX")},m1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SE(e,r);if(s){var i=_E(e,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Y6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Q6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},SE=function(e,t){return e==="v"?K6(t):G6(t)},_E=function(e,t){return e==="v"?Y6(t):Q6(t)},X6=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z6=function(e,t,n,r,s){var i=X6(e,window.getComputedStyle(t).direction),a=i*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,f=0;do{if(!l)break;var m=_E(e,l),v=m[0],g=m[1],y=m[2],w=g-y-i*v;(v||w)&&SE(e,l)&&(h+=w,f+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},p1=function(e){return[e.deltaX,e.deltaY]},g1=function(e){return e&&"current"in e?e.current:e},J6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ez=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tz=0,ya=[];function nz(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(tz++)[0],i=p.useState(wE)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Z4([e.lockRef.current],(e.shards||[]).map(g1),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var w=Eu(g),x=n.current,b="deltaX"in g?g.deltaX:x[0]-w[0],S="deltaY"in g?g.deltaY:x[1]-w[1],_,j=g.target,k=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&k==="h"&&j.type==="range")return!1;var C=m1(k,j);if(!C)return!0;if(C?_=k:(_=k==="v"?"h":"v",C=m1(k,j)),!C)return!1;if(!r.current&&"changedTouches"in g&&(b||S)&&(r.current=_),!_)return!0;var T=r.current||_;return Z6(T,y,g,T==="h"?b:S,!0)},[]),c=p.useCallback(function(g){var y=g;if(!(!ya.length||ya[ya.length-1]!==i)){var w="deltaY"in y?p1(y):Eu(y),x=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&J6(_.delta,w)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(a.current.shards||[]).map(g1).filter(Boolean).filter(function(_){return _.contains(y.target)}),S=b.length>0?l(y,b[0]):!a.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=p.useCallback(function(g,y,w,x){var b={name:g,delta:y,target:w,should:x,shadowParent:rz(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(g){n.current=Eu(g),r.current=void 0},[]),h=p.useCallback(function(g){u(g.type,p1(g),g.target,l(g,e.lockRef.current))},[]),f=p.useCallback(function(g){u(g.type,Eu(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return ya.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ga),document.addEventListener("touchmove",c,ga),document.addEventListener("touchstart",d,ga),function(){ya=ya.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,ga),document.removeEventListener("touchmove",c,ga),document.removeEventListener("touchstart",d,ga)}},[]);var m=e.removeScrollBar,v=e.inert;return p.createElement(p.Fragment,null,v?p.createElement(i,{styles:ez(s)}):null,m?p.createElement(H6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function rz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sz=A6(xE,nz);var $h=p.forwardRef(function(e,t){return p.createElement(Lh,mr({},e,{ref:t,sideCar:sz}))});$h.classNames=Lh.classNames;var Fh="Popover",[jE,O7]=fn(Fh,[Fo]),Vc=Fo(),[iz,ni]=jE(Fh),kE=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=e,l=Vc(t),c=p.useRef(null),[u,d]=p.useState(!1),[h,f]=Br({prop:r,defaultProp:s??!1,onChange:i,caller:Fh});return o.jsx(Vk,{...l,children:o.jsx(iz,{scope:t,contentId:Mr(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};kE.displayName=Fh;var CE="PopoverAnchor",az=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ni(CE,n),i=Vc(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(kh,{...i,...r,ref:t})});az.displayName=CE;var NE="PopoverTrigger",EE=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ni(NE,n),i=Vc(n),a=ye(t,s.triggerRef),l=o.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":OE(s.open),...r,ref:a,onClick:Y(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(kh,{asChild:!0,...i,children:l})});EE.displayName=NE;var Xv="PopoverPortal",[oz,lz]=jE(Xv,{forceMount:void 0}),TE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=ni(Xv,t);return o.jsx(oz,{scope:t,forceMount:n,children:o.jsx(Zt,{present:n||i.open,children:o.jsx(Oc,{asChild:!0,container:s,children:r})})})};TE.displayName=Xv;var _o="PopoverContent",PE=p.forwardRef((e,t)=>{const n=lz(_o,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=ni(_o,e.__scopePopover);return o.jsx(Zt,{present:r||i.open,children:i.modal?o.jsx(uz,{...s,ref:t}):o.jsx(dz,{...s,ref:t})})});PE.displayName=_o;var cz=zi("PopoverContent.RemoveScroll"),uz=p.forwardRef((e,t)=>{const n=ni(_o,e.__scopePopover),r=p.useRef(null),s=ye(t,r),i=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return Qv(a)},[]),o.jsx($h,{as:cz,allowPinchZoom:!0,children:o.jsx(RE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Y(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),dz=p.forwardRef((e,t)=>{const n=ni(_o,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(RE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),RE=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=ni(_o,n),m=Vc(n);return Yv(),o.jsx(Mh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Oo,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:o.jsx(tv,{"data-state":OE(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),AE="PopoverClose",hz=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ni(AE,n);return o.jsx(te.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});hz.displayName=AE;var fz="PopoverArrow",mz=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Vc(n);return o.jsx(nv,{...s,...r,ref:t})});mz.displayName=fz;function OE(e){return e?"open":"closed"}var pz=kE,gz=EE,yz=TE,IE=PE;const vz=pz,xz=gz,DE=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>o.jsx(yz,{children:o.jsx(IE,{ref:s,align:t,sideOffset:n,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));DE.displayName=IE.displayName;const wz=wh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ln({className:e,variant:t,...n}){return o.jsx("div",{className:le(wz({variant:t}),e),...n})}function ME(e){const{user:t}=lt(),n=(t==null?void 0:t.id)??null,r=mn(),[s,i]=p.useState([]),a=p.useRef(null),{isLoading:l,error:c,data:u}=Rt({queryKey:["notifications",n,e],queryFn:async()=>{if(!n)return[];let f=K.from("notifications").select("*").eq("user_id",n).order("created_at",{ascending:!1});const{data:m,error:v}=await f;if(v)throw v;const g=m||[];return i(g),g},enabled:!!n});p.useEffect(()=>n?((async()=>{try{const m=`user_id=eq.${n}`;if(K.channel){const v=K.channel(`public:notifications:${n}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:m},g=>{const y=g.new;i(w=>[y,...w]),r.setQueryData(["notifications",n,e],w=>[y,...w||[]])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:m},g=>{const y=g.new;i(w=>w.map(x=>x.id===y.id?y:x)),r.setQueryData(["notifications",n,e],w=>(w||[]).map(x=>x.id===y.id?y:x))});await v.subscribe(),a.current=v}else if(K.from){const v=K.from(`notifications:user_id=eq.${n}`).on("INSERT",g=>{const y=g.new;i(w=>[y,...w]),r.setQueryData(["notifications",n,e],w=>[y,...w||[]])}).on("UPDATE",g=>{const y=g.new;i(w=>w.map(x=>x.id===y.id?y:x)),r.setQueryData(["notifications",n,e],w=>(w||[]).map(x=>x.id===y.id?y:x))}).subscribe();a.current=v}}catch(m){console.error("Realtime subscription error",m)}})(),()=>{try{const m=a.current;if(!m)return;m.unsubscribe&&m.unsubscribe(),K.removeChannel&&K.removeChannel(m)}catch{}}):void 0,[n,e,r]);async function d(f){if(!f)return;const{error:m}=await K.from("notifications").update({is_read:!0}).eq("id",f);if(m)throw m;i(v=>v.map(g=>g.id===f?{...g,is_read:!0}:g)),r.setQueryData(["notifications",n,e],v=>(v||[]).map(g=>g.id===f?{...g,is_read:!0}:g))}async function h(){if(!n)return;const{error:f}=await K.from("notifications").update({is_read:!0}).eq("user_id",n);if(f)throw f;i(m=>m.map(v=>({...v,is_read:!0}))),r.setQueryData(["notifications",n,e],m=>(m||[]).map(v=>({...v,is_read:!0})))}return{notifications:u??s,isLoading:l,error:c??void 0,markAsRead:d,markAllAsRead:h}}function bz(e){if(!e)return"";const t=new Date(e).getTime(),n=Date.now(),r=Math.floor((n-t)/1e3);if(r<60)return`${r}s ago`;const s=Math.floor(r/60);if(s<60)return`${s}m ago`;const i=Math.floor(s/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`}function fm(){const{notifications:e,isLoading:t,markAsRead:n,markAllAsRead:r}=ME();Ut();const s=e||[],i=s.filter(l=>!l.is_read).length,a=async l=>{try{await n(l.id)}catch(c){console.error("Failed to mark read",c)}};return o.jsxs(vz,{children:[o.jsx(xz,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"relative",children:[o.jsx(wp,{className:"w-5 h-5"}),i>0&&o.jsx(ln,{className:"absolute -top-1 -right-1 size-4 rounded-full bg-destructive text-destructive-foreground text-[10px]",children:i>9?"9+":i})]})}),o.jsxs(DE,{align:"end",side:"bottom",className:"w-80",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Notifications"}),o.jsx(B,{size:"sm",variant:"ghost",onClick:()=>r(),children:"Mark all as read"})]}),o.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3",children:[t?o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-4 bg-secondary rounded w-1/2 animate-pulse"}),o.jsx("div",{className:"h-10 bg-secondary rounded animate-pulse"})]}):s.slice(0,10).map(l=>o.jsxs("button",{onClick:()=>a(l),className:`w-full text-left p-3 rounded hover:bg-accent flex items-start gap-3 ${l.is_read?"opacity-80":"bg-popover"}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"font-medium text-sm",children:l.title}),o.jsx("div",{className:"text-xs text-muted-foreground",children:bz(l.created_at)})]}),l.message&&o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:l.message})]}),!l.is_read&&o.jsx(ln,{variant:"secondary",className:"shrink-0",children:"New"})]},l.id)),!t&&s.length===0&&o.jsx("div",{className:"text-center text-sm text-muted-foreground py-6",children:"No notifications"})]})]})]})}const Sz=()=>{var f;const[e,t]=p.useState(!1),[n,r]=p.useState(!1),{user:s,profile:i,signOut:a}=lt(),{isInstructor:l,isAdmin:c,isLoading:u}=Dh(),d=Ut();p.useEffect(()=>{const m=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const h=async()=>{await a(),d("/")};return o.jsxs(L.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:"easeOut"},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-background/95 backdrop-blur-xl border-b border-border":"bg-transparent"}`,children:[o.jsx("div",{className:"container-custom px-6 md:px-12",children:o.jsxs("div",{className:"flex items-center justify-between h-20",children:[o.jsxs(we,{to:"/",className:"flex items-center gap-3 group",children:[o.jsx("div",{className:"w-12 h-12 bg-primary flex items-center justify-center transition-transform group-hover:scale-105",children:o.jsx("span",{className:"font-display text-2xl text-primary-foreground font-bold",children:""})}),o.jsxs("div",{className:"hidden sm:block",children:[o.jsx("span",{className:"font-display text-xl tracking-widest",children:"IRON FIST"}),o.jsx("span",{className:"block text-xs text-muted-foreground tracking-[0.3em]",children:"DOJO"})]})]}),o.jsx("nav",{className:"hidden lg:flex items-center gap-10",children:["Programs",...l||u?["Instructor"]:[],"Philosophy","Schedule","Gallery","Contact"].map(m=>o.jsxs("a",{href:`#${m.toLowerCase()}`,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors uppercase tracking-wider relative group",children:[m,o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]},m))}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsx("div",{className:"hidden md:block",children:o.jsx(fm,{})}),s?o.jsxs(o.Fragment,{children:[c&&o.jsx(we,{to:"/instructor",children:o.jsx(B,{variant:"secondary",size:"sm",className:"px-3",children:"Instructor"})}),o.jsx(we,{to:"/dashboard",children:o.jsxs(B,{variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(Ir,{className:"w-4 h-4"}),((f=i==null?void 0:i.full_name)==null?void 0:f.split(" ")[0])||"Dashboard"]})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:h,children:"Sign Out"})]}):o.jsxs(o.Fragment,{children:[o.jsx(we,{to:"/auth",children:o.jsx(B,{variant:"outline",size:"sm",children:"Login"})}),o.jsx(we,{to:"/auth",children:o.jsx(B,{variant:"default",size:"sm",children:"Free Trial"})})]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(fm,{}),s?o.jsxs(o.Fragment,{children:[c&&o.jsx(we,{to:"/instructor",children:o.jsx(B,{variant:"ghost",size:"icon",title:"Instructor",children:o.jsx(Ir,{className:"w-5 h-5"})})}),o.jsx(we,{to:"/dashboard",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(Ir,{className:"w-5 h-5"})})})]}):o.jsx(we,{to:"/auth",children:o.jsx(B,{variant:"ghost",size:"icon",children:"Login"})})]}),o.jsx("button",{className:"lg:hidden p-2 hover:bg-secondary transition-colors",onClick:()=>t(!e),"aria-label":"Toggle menu",children:e?o.jsx(Do,{className:"w-6 h-6"}):o.jsx(rk,{className:"w-6 h-6"})})]})}),o.jsx(Vd,{children:e&&o.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden border-t border-border bg-background overflow-hidden",children:o.jsxs("nav",{className:"container-custom px-6 py-6 space-y-4",children:[["Programs","Instructor","Philosophy","Schedule","Gallery","Contact"].map((m,v)=>{if(m==="Instructor"){const g=L(we);return o.jsx(g,{to:"/instructor",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},className:"block text-lg font-display tracking-wider hover:text-primary transition-colors",onClick:()=>t(!1),children:m},m)}return o.jsx(L.a,{href:`#${m.toLowerCase()}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},className:"block text-lg font-display tracking-wider hover:text-primary transition-colors",onClick:()=>t(!1),children:m},m)}),o.jsxs("div",{className:"pt-4 border-t border-border flex flex-col gap-3",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsx(fm,{})}),s?o.jsxs(o.Fragment,{children:[c&&o.jsx(we,{to:"/instructor",onClick:()=>t(!1),children:o.jsx(B,{variant:"outline",className:"w-full",children:"Instructor"})}),o.jsx(we,{to:"/dashboard",onClick:()=>t(!1),children:o.jsxs(B,{variant:"outline",className:"w-full gap-2",children:[o.jsx(Ir,{className:"w-4 h-4"}),"My Dashboard"]})}),o.jsx(B,{variant:"ghost",className:"w-full",onClick:h,children:"Sign Out"})]}):o.jsxs(o.Fragment,{children:[o.jsx(we,{to:"/auth",onClick:()=>t(!1),children:o.jsx(B,{variant:"outline",className:"w-full",children:"Login"})}),o.jsx(we,{to:"/auth",onClick:()=>t(!1),children:o.jsx(B,{className:"w-full",children:"Free Trial"})})]})]})]})})})]})},_z=()=>o.jsx("footer",{className:"border-t border-border section-padding bg-background pb-32 md:pb-12",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-12 mb-16",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-primary flex items-center justify-center",children:o.jsx("span",{className:"font-display text-2xl text-primary-foreground font-bold",children:""})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-display text-xl tracking-widest",children:"IRON FIST"}),o.jsx("span",{className:"block text-xs text-muted-foreground tracking-[0.3em]",children:"DOJO"})]})]}),o.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Traditional Shotokan karate training for all ages. Forging discipline and building champions since 1999."}),o.jsx("div",{className:"flex gap-3",children:[oI,uI,wI,yI].map((e,t)=>o.jsx("a",{href:"#",className:"w-10 h-10 bg-secondary flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:o.jsx(e,{className:"w-5 h-5"})},t))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-display text-lg tracking-wider",children:"PROGRAMS"}),o.jsx("nav",{className:"space-y-3",children:["Kids Karate","Teen Training","Adult Classes","Competition Team","Private Lessons"].map(e=>o.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:e},e))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-display text-lg tracking-wider",children:"DOJO"}),o.jsx("nav",{className:"space-y-3",children:["About Us","Instructors","Schedule","Gallery","Contact","FAQs"].map(e=>o.jsx("a",{href:"#",className:"block text-sm text-muted-foreground hover:text-primary transition-colors",children:e},e))})]})]}),o.jsxs("div",{className:"pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:" 2026 Iron Fist Dojo. All rights reserved."}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"})]})]})]})}),$l="/karate/assets/hero-karate-ClJVieqp.jpg",jz="/karate/assets/aldulttraining-Bl7PkPU9.png",kz="/karate/assets/teentraining-Vgfe669Q.png",Cz=()=>{const e=t=>{var n;(n=document.getElementById(t))==null||n.scrollIntoView({behavior:"smooth"})};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs(L.div,{className:"absolute inset-0 z-0",initial:{scale:1},animate:{scale:1.05},transition:{duration:15,ease:"linear"},children:[o.jsx("img",{src:$l,alt:"Karate martial artist in powerful stance",className:"w-full h-full object-cover opacity-40"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/90 to-background/60"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-background/50"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/5 via-transparent to-primary/5"})]}),o.jsx("div",{className:"container-custom relative z-10 px-6 md:px-12 py-24",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 border border-primary/30 rounded-full mb-8",children:[o.jsx("span",{className:"w-2 h-2 bg-primary animate-pulse rounded-full"}),o.jsx("span",{className:"text-sm text-primary font-medium uppercase tracking-wider",children:"Now Enrolling  January 2026"})]}),o.jsx("div",{className:"overflow-hidden mb-4",children:o.jsx(L.h1,{initial:{y:100},animate:{y:0},transition:{duration:.8,delay:.3,ease:[.22,1,.36,1]},className:"font-display text-5xl sm:text-6xl md:text-7xl leading-[0.95] tracking-wide text-foreground",children:"FORGE"})}),o.jsx("div",{className:"overflow-hidden mb-4",children:o.jsx(L.h1,{initial:{y:100},animate:{y:0},transition:{duration:.8,delay:.4,ease:[.22,1,.36,1]},className:"font-display text-5xl sm:text-6xl md:text-7xl leading-[0.95] tracking-wide text-primary",children:"DISCIPLINE"})}),o.jsx("div",{className:"overflow-hidden mb-8",children:o.jsx(L.h1,{initial:{y:100},animate:{y:0},transition:{duration:.8,delay:.5,ease:[.22,1,.36,1]},className:"font-display text-5xl sm:text-6xl md:text-7xl leading-[0.95] tracking-wide text-foreground",children:"BUILD CHAMPIONS"})}),o.jsx(L.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"text-lg md:text-xl text-muted-foreground max-w-xl mb-10 leading-relaxed",children:"Train with world-class instructors in a supportive community. Our programs blend traditional values with modern techniques to build real skill and lifelong confidence."}),o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"flex flex-wrap gap-4",children:[o.jsxs(B,{variant:"hero",size:"xl",onClick:()=>e("programs"),className:"group",children:["Start Your Journey",o.jsx(tI,{className:"ml-2 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(B,{variant:"outline",size:"xl",className:"group",onClick:()=>e("gallery"),children:[o.jsx(ik,{className:"mr-2 w-4 h-4 fill-current group-hover:scale-110 transition-transform"}),"See Training in Action"]})]}),o.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},className:"flex flex-wrap gap-8 mt-12 pt-8 border-t border-border/50",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:"500+"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Students Trained"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:"25+"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Years Experience"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-primary",children:"98%"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Satisfaction Rate"})]})]})]}),o.jsx(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.5},className:"relative w-full h-[500px] lg:h-[600px] flex items-center justify-center",children:o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx(L.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},className:"absolute inset-0 rounded-2xl overflow-hidden border-4 border-background/30 shadow-2xl",children:o.jsx("img",{src:$l,alt:"Master demonstrating technique",className:"w-full h-full object-cover"})}),o.jsxs(L.div,{initial:{x:20,y:-20,opacity:0},animate:{x:0,y:0,opacity:1},transition:{duration:.6,delay:.9},className:"absolute -top-4 -right-4 w-48 h-36 rounded-xl overflow-hidden border-2 border-primary/20 shadow-xl z-10",children:[o.jsx("img",{src:jz,alt:"Adult training session",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),o.jsxs(L.div,{initial:{x:-20,y:20,opacity:0},animate:{x:0,y:0,opacity:1},transition:{duration:.6,delay:1},className:"absolute -bottom-6 -left-6 w-56 h-40 rounded-xl overflow-hidden border-2 border-primary/20 shadow-xl z-10",children:[o.jsx("img",{src:kz,alt:"Teen training session",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]})]})})]})}),o.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-[0.3em]",children:"Discover More"}),o.jsx(L.div,{animate:{y:[0,10,0]},transition:{duration:1.8,repeat:1/0},className:"w-px h-16 bg-gradient-to-b from-primary via-primary/50 to-transparent"})]})]})},Ju="/karate/assets/instructor-BljZI4hl.png",Nz=[{value:8,label:"Medals",icon:$y,color:"text-yellow-500"},{value:4,label:"Trophies",icon:lk,color:"text-amber-500"},{value:2,label:"Dan Grade",icon:pI,color:"text-primary"},{value:15,label:"Years Exp",icon:qt,color:"text-emerald-500"}],y1=({value:e,suffix:t=""})=>{const[n,r]=p.useState(0),s=p.useRef(null),i=ra(s,{once:!0,margin:"-50px"});return p.useEffect(()=>{if(i){const c=e/30;let u=0;const d=setInterval(()=>{u+=c,u>=e?(r(e),clearInterval(d)):r(Math.floor(u))},1500/30);return()=>clearInterval(d)}},[i,e]),o.jsxs("span",{ref:s,children:[n,t]})},Ez=()=>{const e=p.useRef(null),t=ra(e,{once:!0,margin:"-100px"});return o.jsx("section",{id:"instructor",className:"section-padding bg-gradient-to-b from-background to-secondary/20",ref:e,children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-center mb-12 md:mb-16",children:[o.jsx("span",{className:"inline-block text-primary font-medium text-sm uppercase tracking-widest mb-3",children:"Meet Your Guide"}),o.jsx("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mb-3",children:"MEET YOUR SENSEI"}),o.jsx("div",{className:"w-20 h-1 bg-primary mx-auto mb-6"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Learn from a seasoned master with decades of experience in traditional and competitive karate"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-start",children:[o.jsx(L.div,{initial:{opacity:0,scale:.95},animate:t?{opacity:1,scale:1}:{},transition:{duration:.8,ease:"easeOut"},className:"order-2 lg:order-1",children:o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl lg:rounded-3xl shadow-2xl",children:[o.jsx("img",{src:Ju,alt:"Sensei Kevin Kiarie Nyambura demonstrating technique",className:"w-full h-auto object-cover transform group-hover:scale-105 transition-transform duration-700"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/60 via-transparent to-transparent"})]}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6,delay:.3},className:"absolute -bottom-6 -right-6 bg-background border-2 border-primary/20 shadow-xl rounded-xl p-4 w-32",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-display text-3xl text-primary mb-1",children:[o.jsx(y1,{value:2}),"nd"]}),o.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Dan Black Belt"})]})}),o.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 border-t-2 border-l-2 border-primary/30 rounded-tl-2xl"}),o.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 border-b-2 border-l-2 border-primary/30 rounded-bl-2xl"})]})}),o.jsxs(L.div,{initial:{opacity:0,x:30},animate:t?{opacity:1,x:0}:{},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"order-1 lg:order-2",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-2 sm:gap-4 mb-4",children:[o.jsx("h3",{className:"font-display text-3xl md:text-4xl lg:text-5xl",children:"KEVIN KIARIE"}),o.jsx("h4",{className:"font-display text-2xl md:text-3xl text-primary",children:"NYAMBURA"})]}),o.jsxs("div",{className:"inline-flex items-center gap-3 bg-primary/10 border border-primary/20 px-4 py-2 rounded-full mb-6",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),o.jsx("span",{className:"font-medium text-primary text-sm uppercase tracking-wider",children:"2nd Degree Black Belt  Head Instructor"})]})]}),o.jsxs("div",{className:"space-y-6 mb-10",children:[o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Born in 1986 and driven by an unwavering passion for martial arts, Sensei Kevin began his karate journey at the age of 12. With over 15 years of dedicated training and competition experience, he has earned numerous national and international accolades."}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"His teaching philosophy combines traditional Shotokan discipline with modern training methodologies, creating champions both on and off the mat."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Nz.map((n,r)=>{const s=n.icon;return o.jsx(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:.4+r*.1},className:"relative group",children:o.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-5 text-center hover:border-primary/30 transition-all duration-300 hover:shadow-lg",children:[o.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-full ${n.color}/10 mb-3`,children:o.jsx(s,{className:`w-6 h-6 ${n.color}`})}),o.jsx("div",{className:"font-display text-3xl md:text-4xl text-foreground mb-1",children:o.jsx(y1,{value:n.value,suffix:n.label==="Years Exp"?"+":""})}),o.jsx("div",{className:"text-xs text-muted-foreground uppercase tracking-wider font-medium",children:n.label}),o.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-0.5 bg-primary group-hover:w-16 transition-all duration-300"})]})},n.label)})}),o.jsxs(L.div,{initial:{opacity:0},animate:t?{opacity:1}:{},transition:{duration:.6,delay:.8},className:"mt-10 pt-8 border-t border-border/50",children:[o.jsx("h4",{className:"font-display text-xl mb-4 text-foreground",children:"Teaching Philosophy"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:["Discipline First","Modern Techniques","Personal Growth","Champion Mindset"].map((n,r)=>o.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm font-medium",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full mr-2"}),n]},r))})]})]})]})]})})})},v1=["Discipline","Respect","Honor","Strength"],Tz=()=>{const e=p.useRef(null),t=ra(e,{once:!0,margin:"-100px"});return o.jsxs("section",{id:"philosophy",className:"section-padding bg-background relative overflow-hidden",ref:e,children:[o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] opacity-30",style:{background:"var(--gradient-glow)"}}),o.jsxs("div",{className:"container-custom text-center relative z-10",children:[o.jsx(L.span,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6},className:"text-primary font-medium text-sm uppercase tracking-widest mb-8 block",children:"Our Philosophy"}),o.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-4 md:gap-x-8 gap-y-4 mb-12",children:v1.map((n,r)=>o.jsxs(L.div,{initial:{opacity:0,y:40},animate:t?{opacity:1,y:0}:{},transition:{duration:.6,delay:r*.15},className:"relative",children:[o.jsx("span",{className:"font-display text-4xl md:text-6xl lg:text-7xl tracking-wider",children:n}),o.jsx(L.div,{initial:{width:0},animate:t?{width:"100%"}:{},transition:{duration:.8,delay:.8+r*.1},className:"absolute -bottom-2 left-0 h-1 bg-primary"}),r<v1.length-1&&o.jsx("span",{className:"hidden md:inline font-display text-4xl md:text-6xl lg:text-7xl text-primary ml-4 md:ml-8",children:""})]},n))}),o.jsx(L.p,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{duration:.6,delay:1},className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto font-light italic",children:'"Karate is not about fighting  it is about mastering self."'}),o.jsx(L.div,{initial:{opacity:0},animate:t?{opacity:1}:{},transition:{duration:.6,delay:1.2},className:"mt-8 text-sm text-muted-foreground uppercase tracking-widest",children:" Gichin Funakoshi"})]})]})},Pz={BASE_URL:"/karate/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtaXNuaHh3dHNpYW9rd3NwbmpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4NjA1NzcsImV4cCI6MjA4MzQzNjU3N30.R2x9RqTs2SIujFFprEh7KTt855eIyhQMs1Axf9IM7R0",VITE_SUPABASE_PROJECT_ID:"umisnhxwtsiaokwspnjh",VITE_SUPABASE_PUBLISHABLE_KEY:"sb_publishable_uMzHyyA544OO-4gAl6ouKQ_9TToD6eu",VITE_SUPABASE_URL:"https://umisnhxwtsiaokwspnjh.supabase.co"},Rz=(e,t)=>{const n=t?`  ${t}`:"";return`${e}${n}`},x1=e=>{try{return`${typeof window<"u"?window.location.origin:"https://your-site.example"}${typeof import.meta<"u"&&Pz?"/karate/":"/"}videos?videoId=${encodeURIComponent(e)}`}catch{return`https://your-site.example/videos?videoId=${encodeURIComponent(e)}`}},rs=e=>{window.open(e,"_blank","noopener,noreferrer")},Zv=({title:e,description:t,url:n,videoId:r})=>{const[s,i]=p.useState(!1),a=Rz(e,t||void 0),l=n??(r?x1(r):typeof window<"u"?window.location.href:"https://your-site.example"),c=async()=>{if(navigator.share)try{await navigator.share({title:e,text:t||e,url:l})}catch{}else await navigator.clipboard.writeText(`${a} ${l}`),alert("Link copied to clipboard");i(!1)},u=async()=>{await navigator.clipboard.writeText(l),alert("Link copied to clipboard"),i(!1)},d=()=>{const y=`${a} ${l}`;rs(`https://wa.me/?text=${encodeURIComponent(y)}`),i(!1)},h=()=>{rs(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(l)}`),i(!1)},f=()=>{rs(`https://twitter.com/intent/tweet?text=${encodeURIComponent(a)}&url=${encodeURIComponent(l)}`),i(!1)},m=()=>{rs(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(l)}`),i(!1)},v=()=>{rs(`https://t.me/share/url?url=${encodeURIComponent(l)}&text=${encodeURIComponent(a)}`),i(!1)},g=()=>{rs(n||(r?x1(r):l)),i(!1)};return o.jsxs("div",{className:"relative inline-block",children:[o.jsx("button",{"aria-label":"Share",onClick:()=>i(y=>!y),className:"p-1 rounded hover:bg-white/5 flex items-center gap-2 text-sm",children:o.jsx(mI,{className:"w-4 h-4"})}),s&&o.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-card/95 backdrop-blur rounded shadow-lg z-50 p-2",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("button",{onClick:c,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Share..."}),o.jsx("button",{onClick:u,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Copy link"}),o.jsx("button",{onClick:d,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"WhatsApp"}),o.jsx("button",{onClick:f,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"X / Twitter"}),o.jsx("button",{onClick:h,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Facebook"}),o.jsx("button",{onClick:m,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"LinkedIn"}),o.jsx("button",{onClick:v,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Telegram"}),o.jsx("button",{onClick:g,className:"text-left px-2 py-2 hover:bg-white/5 rounded",children:"Open original"})]})})]})},Az=[{name:"White Belt",level:"Beginner",japanese:"",color:"bg-gray-100 text-gray-900",description:"The beginning of the journey. Learn basic stances, blocks, and strikes."},{name:"Yellow Belt",level:"10th-9th Kyu",japanese:"",color:"bg-yellow-400 text-gray-900",description:"Foundation building. Master basic kata and improve coordination."},{name:"Orange Belt",level:"8th-7th Kyu",japanese:"",color:"bg-orange-500 text-white",description:"Developing technique. Introduction to sparring and advanced kata."},{name:"Purple Belt",level:"7th-6th Kyu",japanese:"",color:"bg-violet-600 text-white",description:"Developing intermediate control, transitions, and timing."},{name:"Green Belt",level:"6th-5th Kyu",japanese:"",color:"bg-green-600 text-white",description:"Growth phase. Refine techniques and develop fighting strategy."},{name:"Brown Belt",level:"2nd-1st Kyu",japanese:"",color:"bg-amber-800 text-white",description:"Advanced preparation. Ready for black belt examination."},{name:"Black Belt",level:"1st Dan+",japanese:"",color:"bg-black text-white border border-white/20",description:"The true beginning. A lifelong journey of mastery and teaching."}],Oz=()=>{const e=p.useRef(null),t=ra(e,{once:!0,margin:"-100px"}),[n,r]=p.useState(null);return o.jsx("section",{className:"section-padding bg-secondary/20",ref:e,children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Karate Progression"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl",children:["THE PATH TO ",o.jsx("span",{className:"text-primary",children:"MASTERY"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Belts are awarded based on curriculum milestones and instructor evaluations. Belt assignment will be confirmed by your instructor."}),o.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[o.jsx(Zv,{title:"Karate Belt Progression",description:"Follow the path to mastery and share your journey.",url:typeof window<"u"?`${window.location.origin}/karate/#belt-progression`:void 0}),o.jsx("button",{className:"px-3 py-2 bg-primary text-primary-foreground rounded",children:"View full progression"})]})]}),o.jsx("div",{className:"flex flex-col gap-2",children:Az.map((s,i)=>o.jsxs(L.div,{initial:{opacity:0,x:-40},animate:t?{opacity:1,x:0}:{},transition:{duration:.5,delay:i*.1},onMouseEnter:()=>r(i),onMouseLeave:()=>r(null),className:`
                relative overflow-hidden transition-all duration-500 cursor-pointer
                ${s.color}
                ${n===i?"h-32 md:h-28":"h-14"}
              `,children:[o.jsx("div",{className:"absolute inset-0 flex items-center px-6 md:px-12",children:o.jsxs("div",{className:"flex items-center gap-4 md:gap-8 w-full",children:[o.jsx("span",{className:"font-display text-lg md:text-xl tracking-wider min-w-[120px] md:min-w-[160px]",children:s.name}),o.jsx("span",{className:"hidden md:block text-sm opacity-70",children:s.level}),o.jsx("span",{className:"hidden lg:block text-lg ml-auto",children:s.japanese})]})}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:n===i?1:0,y:n===i?0:20},transition:{duration:.3},className:"absolute bottom-0 left-0 right-0 px-6 md:px-12 pb-4",children:o.jsx("p",{className:"text-sm opacity-90 max-w-2xl",children:s.description})})]},s.name))})]})})},Iz=[{icon:nI,title:"Kids Karate",age:"Ages 5-12",description:"Focus, discipline, and fun. Building character through martial arts.",features:["Character Development","Coordination Skills","Self-Confidence"]},{icon:Io,title:"Teen Training",age:"Ages 13-17",description:"Channel energy positively. Develop focus and self-defense skills.",features:["Anti-Bullying Skills","Physical Fitness","Leadership"]},{icon:gI,title:"Adult Classes",age:"Ages 18+",description:"Stress relief, fitness, and mastery. Traditional training for modern life.",features:["Stress Management","Full-Body Workout","Self-Defense"]},{icon:lk,title:"Competition Team",age:"By Selection",description:"Elite training for tournament champions. Compete nationally and internationally.",features:["Tournament Prep","Advanced Kata","Strategic Sparring"]}],Dz=()=>{const e=p.useRef(null),t=ra(e,{once:!0,margin:"-100px"});return o.jsx("section",{id:"programs",className:"section-padding bg-background",ref:e,children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Training Programs"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl mb-4",children:["TRAIN WITH ",o.jsx("span",{className:"text-primary",children:"PURPOSE"})]}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Structured programs for every age and skill level. Find your path to mastery."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:Iz.map((n,r)=>o.jsxs(L.div,{initial:{opacity:0,y:40},animate:t?{opacity:1,y:0}:{},transition:{duration:.5,delay:r*.1},whileHover:{y:-8},className:"group relative bg-card border border-border p-8 transition-all duration-300 hover:border-primary/50 cursor-pointer",children:[o.jsx(L.div,{initial:{width:0},whileHover:{width:"100%"},className:"absolute bottom-0 left-0 h-1 bg-primary"}),o.jsx("div",{className:"w-14 h-14 bg-primary/10 border border-primary/30 flex items-center justify-center mb-6 transition-all duration-300 group-hover:bg-primary group-hover:border-primary",children:o.jsx(n.icon,{className:"w-7 h-7 text-primary transition-colors group-hover:text-primary-foreground"})}),o.jsx("div",{className:"flex items-center gap-3 mb-4",children:o.jsx("h3",{className:"font-display text-xl tracking-wider",children:n.title})}),o.jsx("span",{className:"inline-block text-xs text-primary bg-primary/10 px-2 py-1 mb-4",children:n.age}),o.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:n.description}),o.jsx("ul",{className:"space-y-2",children:n.features.map(s=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-primary"}),s]},s))})]},n.title))})]})})},mm=[{id:"1",image_url:$l,alt:"Karate training session",span:"col-span-2 row-span-2"},{id:"2",image_url:Ju,alt:"Sensei demonstration",span:"col-span-1 row-span-1"},{id:"3",image_url:$l,alt:"Competition moment",span:"col-span-1 row-span-1"},{id:"4",image_url:Ju,alt:"Belt ceremony",span:"col-span-1 row-span-2"},{id:"5",image_url:$l,alt:"Kids class",span:"col-span-1 row-span-1"},{id:"6",image_url:Ju,alt:"Team training",span:"col-span-1 row-span-1"}],Mz="site.gallery.items";function w1(){try{const e=localStorage.getItem(Mz);if(!e)return mm;const t=JSON.parse(e);return Array.isArray(t)?t:mm}catch{return mm}}const Lz=()=>{const e=p.useRef(null),t=ra(e,{once:!0,margin:"-100px"}),[n,r]=p.useState(null),[s,i]=p.useState(()=>w1());return p.useEffect(()=>{function a(l){l.key==="site.gallery.items"&&i(w1())}return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[]),o.jsxs("section",{id:"gallery",className:"section-padding bg-background",ref:e,children:[o.jsxs("div",{className:"container-custom",children:[o.jsxs(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Gallery"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl",children:["MOMENTS OF ",o.jsx("span",{className:"text-primary",children:"EXCELLENCE"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 auto-rows-[200px]",children:s.map((a,l)=>o.jsxs(L.div,{initial:{opacity:0,scale:.9},animate:t?{opacity:1,scale:1}:{},transition:{duration:.5,delay:l*.05},whileHover:{scale:1.02},className:`relative overflow-hidden cursor-pointer group ${a.span||""}`,onClick:()=>r(a.image_url),children:[o.jsx("img",{src:a.image_url,alt:a.alt,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors duration-300"})]},a.id))})]}),n&&o.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",onClick:()=>r(null),children:[o.jsx("button",{className:"absolute top-6 right-6 text-white hover:text-primary transition-colors",onClick:()=>r(null),children:o.jsx(Do,{className:"w-8 h-8"})}),o.jsx(L.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},src:n,alt:"Gallery image",className:"max-w-full max-h-[90vh] object-contain"})]})]})};function $z(){return Rt({queryKey:["classes"],queryFn:async()=>{const{data:e,error:t}=await K.from("classes").select("*").eq("is_active",!0).order("day_of_week");if(t)throw t;return e}})}function Fz(e){const t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n=new Date,r=t[n.getDay()===0?6:n.getDay()-1];return Rt({queryKey:["upcoming-classes",e],queryFn:async()=>{let s=K.from("classes").select("*").eq("is_active",!0);e&&e!=="all"&&(s=s.eq("program",e));const{data:i,error:a}=await s;if(a)throw a;const l=t.indexOf(r);return i.sort((u,d)=>{const h=t.indexOf(u.day_of_week),f=t.indexOf(d.day_of_week),m=h>=l?h-l:h+7-l,v=f>=l?f-l:f+7-l;return m!==v?m-v:u.start_time.localeCompare(d.start_time)})}})}const Uz=()=>{const e=p.useRef(null),t=ra(e,{once:!0,margin:"-100px"}),{data:n}=$z(),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(h=>{const f=(n||[]).filter(m=>m.day_of_week===h).map(m=>({time:m.start_time,name:m.title}));return{day:h,classes:f}}).filter(h=>h.classes.length>0),i=new Set;(n||[]).forEach(h=>{h.location&&i.add(h.location)});const a=Array.from(i).slice(0,6).map(h=>({name:h,address:"",city:"",phone:""})),l=[{day:"Monday",classes:[{time:"4:00 PM",name:"Kids Karate"},{time:"6:00 PM",name:"Adult Beginners"}]},{day:"Tuesday",classes:[{time:"5:00 PM",name:"Teen Training"},{time:"7:00 PM",name:"Adult Advanced"}]},{day:"Wednesday",classes:[{time:"4:00 PM",name:"Kids Karate"},{time:"6:00 PM",name:"Self Defense"}]},{day:"Thursday",classes:[{time:"5:00 PM",name:"Kata Focus"},{time:"7:00 PM",name:"Sparring"}]},{day:"Friday",classes:[{time:"4:00 PM",name:"Kids Karate"},{time:"6:00 PM",name:"Open Training"}]},{day:"Saturday",classes:[{time:"10:00 AM",name:"Competition Team"},{time:"12:00 PM",name:"Family Class"}]}],c=[{name:"Main Dojo",address:"1234 Warrior Way, Suite 100",city:"Los Angeles, CA 90001",phone:"(555) 123-4567"},{name:"Westside Branch",address:"5678 Champions Blvd",city:"Santa Monica, CA 90401",phone:"(555) 987-6543"}],u=s.length>0?s:l,d=a.length>0?a:c;return o.jsx("section",{id:"schedule",className:"section-padding bg-secondary/30",ref:e,children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},className:"text-center mb-16",children:[o.jsx("span",{className:"text-primary font-medium text-sm uppercase tracking-widest mb-4 block",children:"Locations & Schedule"}),o.jsxs("h2",{className:"font-display text-4xl md:text-5xl lg:text-6xl",children:["FIND YOUR ",o.jsx("span",{className:"text-primary",children:"CLASS"})]})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-display text-2xl mb-6 flex items-center gap-3",children:[o.jsx(bh,{className:"w-6 h-6 text-primary"}),"Locations"]}),d.map((h,f)=>o.jsxs(L.div,{initial:{opacity:0,x:-20},animate:t?{opacity:1,x:0}:{},transition:{delay:f*.1},className:"bg-card border border-border p-5 hover:border-primary/50 transition-all",children:[o.jsx("h4",{className:"font-display text-lg text-primary mb-2",children:h.name}),h.address&&o.jsx("p",{className:"text-muted-foreground text-sm",children:h.address}),h.city&&o.jsx("p",{className:"text-muted-foreground text-sm",children:h.city}),h.phone&&o.jsx("p",{className:"text-foreground text-sm mt-2 font-medium",children:h.phone}),o.jsx(L.div,{className:"w-3 h-3 bg-primary rounded-full mt-4",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}})]},h.name))]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("h3",{className:"font-display text-2xl mb-6 flex items-center gap-3",children:[o.jsx(ta,{className:"w-6 h-6 text-primary"}),"Weekly Schedule"]}),o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((h,f)=>o.jsxs(L.div,{initial:{opacity:0,y:20},animate:t?{opacity:1,y:0}:{},transition:{delay:f*.05},whileHover:{scale:1.02},className:"bg-card border border-border p-5 hover:border-primary/50 transition-all",children:[o.jsx("h4",{className:"font-display text-xl text-primary mb-4",children:h.day}),o.jsx("div",{className:"space-y-3",children:h.classes.map(m=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground w-16 flex-shrink-0 pt-0.5",children:m.time}),o.jsx("span",{className:"text-sm",children:m.name})]},m.time))})]},h.day))})]})]})]})})};function Vz(){return o.jsxs("section",{id:"contact",className:"py-20 md:py-32 px-4 md:px-8 bg-black relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-red-600 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-yellow-600 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:[o.jsxs(L.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[o.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["READY TO BEGIN YOUR ",o.jsx("span",{className:"text-red-600",children:"JOURNEY?"})]}),o.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Train with purpose. Rise with discipline. Join a community dedicated to excellence and personal growth."})]}),o.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",children:[o.jsxs(L.a,{href:"https://wa.me/254713178790?text=I%20want%20to%20join%20the%20karate%20dojo",target:"_blank",rel:"noopener noreferrer",animate:{boxShadow:["0 0 20px rgba(34, 197, 94, 0.3)","0 0 40px rgba(34, 197, 94, 0.6)","0 0 20px rgba(34, 197, 94, 0.3)"]},transition:{duration:3,repeat:1/0},className:"group px-10 py-5 bg-green-600 hover:bg-green-700 text-white font-bold text-lg flex items-center justify-center gap-3 transition-all duration-300",children:[o.jsx(sk,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),"WHATSAPP JOIN"]}),o.jsxs("a",{href:"mailto:kevokiash@gmail.com?subject=Karate%20Training%20Inquiry",className:"group px-10 py-5 bg-red-600 hover:bg-red-700 text-white font-bold text-lg flex items-center justify-center gap-3 transition-all duration-300 hover:shadow-lg hover:shadow-red-600/50",children:[o.jsx(Uy,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),"EMAIL CONTACT"]})]}),o.jsxs(L.div,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8,delay:.4},className:"grid md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"p-6 bg-gray-950 border-2 border-gray-800 rounded-lg hover:border-red-600 transition-colors",children:[o.jsx("p",{className:"text-4xl font-bold text-yellow-600 mb-2",children:"100%"}),o.jsx("p",{className:"text-gray-400",children:"Money-back guarantee if you're not satisfied after your first month"})]}),o.jsxs("div",{className:"p-6 bg-gray-950 border-2 border-gray-800 rounded-lg hover:border-yellow-600 transition-colors",children:[o.jsx("p",{className:"text-4xl font-bold text-red-600 mb-2",children:""}),o.jsx("p",{className:"text-gray-400",children:"Lifetime access to our online knowledge base and community"})]}),o.jsxs("div",{className:"p-6 bg-gray-950 border-2 border-gray-800 rounded-lg hover:border-green-600 transition-colors",children:[o.jsx("p",{className:"text-4xl font-bold text-green-600 mb-2",children:"FREE"}),o.jsx("p",{className:"text-gray-400",children:"First class is free  no commitment required to try us out"})]})]})]})]})}const Bz=Vz,zz=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Sz,{}),o.jsxs("main",{children:[o.jsx(Cz,{}),o.jsx(Ez,{}),o.jsx(Tz,{}),o.jsx(Oz,{}),o.jsx(Dz,{}),o.jsx(Lz,{}),o.jsx(Uz,{}),o.jsx(Bz,{})]}),o.jsx(_z,{})]}),Gt=p.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Gt.displayName="Input";var Wz="Label",LE=p.forwardRef((e,t)=>o.jsx(te.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LE.displayName=Wz;var $E=LE;const Hz=wh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ae=p.forwardRef(({className:e,...t},n)=>o.jsx($E,{ref:n,className:le(Hz(),e),...t}));Ae.displayName=$E.displayName;var ke;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(const a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ke||(ke={}));var b1;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(b1||(b1={}));const X=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ds=e=>{switch(typeof e){case"undefined":return X.undefined;case"string":return X.string;case"number":return Number.isNaN(e)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(e)?X.array:e===null?X.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?X.promise:typeof Map<"u"&&e instanceof Map?X.map:typeof Set<"u"&&e instanceof Set?X.set:typeof Date<"u"&&e instanceof Date?X.date:X.object;default:return X.unknown}},M=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Kr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Kr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Kr.create=e=>new Kr(e);const Ng=(e,t)=>{let n;switch(e.code){case M.invalid_type:e.received===X.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case M.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ke.jsonStringifyReplacer)}`;break;case M.unrecognized_keys:n=`Unrecognized key(s) in object: ${ke.joinValues(e.keys,", ")}`;break;case M.invalid_union:n="Invalid input";break;case M.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ke.joinValues(e.options)}`;break;case M.invalid_enum_value:n=`Invalid enum value. Expected ${ke.joinValues(e.options)}, received '${e.received}'`;break;case M.invalid_arguments:n="Invalid function arguments";break;case M.invalid_return_type:n="Invalid function return type";break;case M.invalid_date:n="Invalid date";break;case M.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ke.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case M.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case M.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case M.custom:n="Invalid input";break;case M.invalid_intersection_types:n="Intersection results could not be merged";break;case M.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case M.not_finite:n="Number must be finite";break;default:n=t.defaultError,ke.assertNever(e)}return{message:n}};let qz=Ng;function Kz(){return qz}const Gz=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function q(e,t){const n=Kz(),r=Gz({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ng?void 0:Ng].filter(s=>!!s)});e.common.issues.push(r)}class un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return ce;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return un.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ce;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const ce=Object.freeze({status:"aborted"}),vl=e=>({status:"dirty",value:e}),Pn=e=>({status:"valid",value:e}),S1=e=>e.status==="aborted",_1=e=>e.status==="dirty",jo=e=>e.status==="valid",Hd=e=>typeof Promise<"u"&&e instanceof Promise;var Z;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Z||(Z={}));class Ks{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const j1=(e,t)=>{if(jo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Kr(e.common.issues);return this._error=n,this._error}}};function ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class _e{get description(){return this._def.description}_getType(t){return ds(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ds(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new un,ctx:{common:t.parent.common,data:t.data,parsedType:ds(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Hd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ds(t)},s=this._parseSync({data:t,path:r.path,parent:r});return j1(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ds(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return jo(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>jo(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ds(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Hd(s)?s:Promise.resolve(s));return j1(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),l=()=>i.addIssue({code:M.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Co({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Fs.create(this,this._def)}nullable(){return No.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return br.create(this)}promise(){return Yd.create(this,this._def)}or(t){return Kd.create([this,t],this._def)}and(t){return Gd.create(this,t,this._def)}transform(t){return new Co({...ge(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Tg({...ge(this._def),innerType:this,defaultValue:n,typeName:ue.ZodDefault})}brand(){return new y8({typeName:ue.ZodBranded,type:this,...ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Pg({...ge(this._def),innerType:this,catchValue:n,typeName:ue.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Jv.create(this,t)}readonly(){return Rg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Yz=/^c[^\s-]{8,}$/i,Qz=/^[0-9a-z]+$/,Xz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Zz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jz=/^[a-z0-9_-]{21}$/i,e8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,t8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,n8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,r8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pm;const s8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,i8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,a8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,o8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,l8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,c8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,FE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",u8=new RegExp(`^${FE}$`);function UE(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function d8(e){return new RegExp(`^${UE(e)}$`)}function h8(e){let t=`${FE}T${UE(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function f8(e,t){return!!((t==="v4"||!t)&&s8.test(e)||(t==="v6"||!t)&&a8.test(e))}function m8(e,t){if(!e8.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function p8(e,t){return!!((t==="v4"||!t)&&i8.test(e)||(t==="v6"||!t)&&o8.test(e))}class Es extends _e{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==X.string){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_type,expected:X.string,received:i.parsedType}),ce}const r=new un;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,l=t.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(t,s),a?q(s,{code:M.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&q(s,{code:M.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")n8.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"email",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")pm||(pm=new RegExp(r8,"u")),pm.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"emoji",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Zz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"uuid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Jz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"nanoid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Yz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Qz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cuid2",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Xz.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ulid",code:M.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),q(s,{validation:"url",code:M.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"regex",code:M.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?h8(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?u8.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?d8(i).test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{code:M.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?t8.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"duration",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?f8(t.data,i.version)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"ip",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?m8(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"jwt",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?p8(t.data,i.version)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"cidr",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?l8.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"base64",code:M.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?c8.test(t.data)||(s=this._getOrReturnCtx(t,s),q(s,{validation:"base64url",code:M.invalid_string,message:i.message}),r.dirty()):ke.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:M.invalid_string,...Z.errToObj(r)})}_addCheck(t){return new Es({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Z.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Z.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Z.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Z.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Z.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Z.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Z.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Z.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Z.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Z.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Z.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Z.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Z.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Z.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Z.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Z.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Z.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Z.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Z.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Z.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Z.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Z.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Z.errToObj(n)})}nonempty(t){return this.min(1,Z.errToObj(t))}trim(){return new Es({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Es({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Es({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Es.create=e=>new Es({checks:[],typeName:ue.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ge(e)});function g8(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}class wc extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==X.number){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_type,expected:X.number,received:i.parsedType}),ce}let r;const s=new un;for(const i of this._def.checks)i.kind==="int"?ke.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:M.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?g8(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:M.not_finite,message:i.message}),s.dirty()):ke.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Z.toString(n))}setLimit(t,n,r,s){return new wc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(s)}]})}_addCheck(t){return new wc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Z.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Z.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ke.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}wc.create=e=>new wc({checks:[],typeName:ue.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class bc extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==X.bigint)return this._getInvalidInput(t);let r;const s=new un;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),q(r,{code:M.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ke.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return q(n,{code:M.invalid_type,expected:X.bigint,received:n.parsedType}),ce}gte(t,n){return this.setLimit("min",t,!0,Z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Z.toString(n))}setLimit(t,n,r,s){return new bc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(s)}]})}_addCheck(t){return new bc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}bc.create=e=>new bc({checks:[],typeName:ue.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ge(e)});class k1 extends _e{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==X.boolean){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:X.boolean,received:r.parsedType}),ce}return Pn(t.data)}}k1.create=e=>new k1({typeName:ue.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ge(e)});class qd extends _e{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==X.date){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_type,expected:X.date,received:i.parsedType}),ce}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return q(i,{code:M.invalid_date}),ce}const r=new un;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),q(s,{code:M.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ke.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new qd({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Z.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Z.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}qd.create=e=>new qd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ue.ZodDate,...ge(e)});class C1 extends _e{_parse(t){if(this._getType(t)!==X.symbol){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:X.symbol,received:r.parsedType}),ce}return Pn(t.data)}}C1.create=e=>new C1({typeName:ue.ZodSymbol,...ge(e)});class N1 extends _e{_parse(t){if(this._getType(t)!==X.undefined){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:X.undefined,received:r.parsedType}),ce}return Pn(t.data)}}N1.create=e=>new N1({typeName:ue.ZodUndefined,...ge(e)});class E1 extends _e{_parse(t){if(this._getType(t)!==X.null){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:X.null,received:r.parsedType}),ce}return Pn(t.data)}}E1.create=e=>new E1({typeName:ue.ZodNull,...ge(e)});class T1 extends _e{constructor(){super(...arguments),this._any=!0}_parse(t){return Pn(t.data)}}T1.create=e=>new T1({typeName:ue.ZodAny,...ge(e)});class P1 extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Pn(t.data)}}P1.create=e=>new P1({typeName:ue.ZodUnknown,...ge(e)});class Gs extends _e{_parse(t){const n=this._getOrReturnCtx(t);return q(n,{code:M.invalid_type,expected:X.never,received:n.parsedType}),ce}}Gs.create=e=>new Gs({typeName:ue.ZodNever,...ge(e)});class R1 extends _e{_parse(t){if(this._getType(t)!==X.undefined){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:X.void,received:r.parsedType}),ce}return Pn(t.data)}}R1.create=e=>new R1({typeName:ue.ZodVoid,...ge(e)});class br extends _e{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==X.array)return q(n,{code:M.invalid_type,expected:X.array,received:n.parsedType}),ce;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(q(n,{code:a?M.too_big:M.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(q(n,{code:M.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(q(n,{code:M.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Ks(n,a,n.path,l)))).then(a=>un.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Ks(n,a,n.path,l)));return un.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new br({...this._def,minLength:{value:t,message:Z.toString(n)}})}max(t,n){return new br({...this._def,maxLength:{value:t,message:Z.toString(n)}})}length(t,n){return new br({...this._def,exactLength:{value:t,message:Z.toString(n)}})}nonempty(t){return this.min(1,t)}}br.create=(e,t)=>new br({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...ge(t)});function Sa(e){if(e instanceof Je){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Fs.create(Sa(r))}return new Je({...e._def,shape:()=>t})}else return e instanceof br?new br({...e._def,type:Sa(e.element)}):e instanceof Fs?Fs.create(Sa(e.unwrap())):e instanceof No?No.create(Sa(e.unwrap())):e instanceof Ki?Ki.create(e.items.map(t=>Sa(t))):e}class Je extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ke.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==X.object){const u=this._getOrReturnCtx(t);return q(u,{code:M.invalid_type,expected:X.object,received:u.parsedType}),ce}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ks(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Gs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(q(s,{code:M.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ks(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>un.mergeObjectSync(r,u)):un.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Z.errToObj,new Je({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Z.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Je({...this._def,unknownKeys:"strip"})}passthrough(){return new Je({...this._def,unknownKeys:"passthrough"})}extend(t){return new Je({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Je({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ue.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Je({...this._def,catchall:t})}pick(t){const n={};for(const r of ke.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Je({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ke.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Je({...this._def,shape:()=>n})}deepPartial(){return Sa(this)}partial(t){const n={};for(const r of ke.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new Je({...this._def,shape:()=>n})}required(t){const n={};for(const r of ke.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Fs;)i=i._def.innerType;n[r]=i}return new Je({...this._def,shape:()=>n})}keyof(){return VE(ke.objectKeys(this.shape))}}Je.create=(e,t)=>new Je({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:ue.ZodObject,...ge(t)});Je.strictCreate=(e,t)=>new Je({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:ue.ZodObject,...ge(t)});Je.lazycreate=(e,t)=>new Je({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:ue.ZodObject,...ge(t)});class Kd extends _e{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Kr(l.ctx.common.issues));return q(n,{code:M.invalid_union,unionErrors:a}),ce}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Kr(c));return q(n,{code:M.invalid_union,unionErrors:l}),ce}}get options(){return this._def.options}}Kd.create=(e,t)=>new Kd({options:e,typeName:ue.ZodUnion,...ge(t)});function Eg(e,t){const n=ds(e),r=ds(t);if(e===t)return{valid:!0,data:e};if(n===X.object&&r===X.object){const s=ke.objectKeys(t),i=ke.objectKeys(e).filter(l=>s.indexOf(l)!==-1),a={...e,...t};for(const l of i){const c=Eg(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===X.array&&r===X.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=e[i],l=t[i],c=Eg(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===X.date&&r===X.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gd extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(S1(i)||S1(a))return ce;const l=Eg(i.value,a.value);return l.valid?((_1(i)||_1(a))&&n.dirty(),{status:n.value,value:l.data}):(q(r,{code:M.invalid_intersection_types}),ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gd.create=(e,t,n)=>new Gd({left:e,right:t,typeName:ue.ZodIntersection,...ge(n)});class Ki extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==X.array)return q(r,{code:M.invalid_type,expected:X.array,received:r.parsedType}),ce;if(r.data.length<this._def.items.length)return q(r,{code:M.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:M.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ks(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>un.mergeArray(n,a)):un.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ki({...this._def,rest:t})}}Ki.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ki({items:e,typeName:ue.ZodTuple,rest:null,...ge(t)})};class A1 extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==X.map)return q(r,{code:M.invalid_type,expected:X.map,received:r.parsedType}),ce;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Ks(r,l,r.path,[u,"key"])),value:i._parse(new Ks(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ce;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}A1.create=(e,t,n)=>new A1({valueType:t,keyType:e,typeName:ue.ZodMap,...ge(n)});class Sc extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==X.set)return q(r,{code:M.invalid_type,expected:X.set,received:r.parsedType}),ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(q(r,{code:M.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(q(r,{code:M.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ce;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Ks(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,n){return new Sc({...this._def,minSize:{value:t,message:Z.toString(n)}})}max(t,n){return new Sc({...this._def,maxSize:{value:t,message:Z.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Sc.create=(e,t)=>new Sc({valueType:e,minSize:null,maxSize:null,typeName:ue.ZodSet,...ge(t)});class O1 extends _e{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}O1.create=(e,t)=>new O1({getter:e,typeName:ue.ZodLazy,...ge(t)});class I1 extends _e{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return q(n,{received:n.data,code:M.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}I1.create=(e,t)=>new I1({value:e,typeName:ue.ZodLiteral,...ge(t)});function VE(e,t){return new ko({values:e,typeName:ue.ZodEnum,...ge(t)})}class ko extends _e{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return q(n,{expected:ke.joinValues(r),received:n.parsedType,code:M.invalid_type}),ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return q(n,{received:n.data,code:M.invalid_enum_value,options:r}),ce}return Pn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ko.create(t,{...this._def,...n})}exclude(t,n=this._def){return ko.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}ko.create=VE;class D1 extends _e{_parse(t){const n=ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==X.string&&r.parsedType!==X.number){const s=ke.objectValues(n);return q(r,{expected:ke.joinValues(s),received:r.parsedType,code:M.invalid_type}),ce}if(this._cache||(this._cache=new Set(ke.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ke.objectValues(n);return q(r,{received:r.data,code:M.invalid_enum_value,options:s}),ce}return Pn(t.data)}get enum(){return this._def.values}}D1.create=(e,t)=>new D1({values:e,typeName:ue.ZodNativeEnum,...ge(t)});class Yd extends _e{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==X.promise&&n.common.async===!1)return q(n,{code:M.invalid_type,expected:X.promise,received:n.parsedType}),ce;const r=n.parsedType===X.promise?n.data:Promise.resolve(n.data);return Pn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Yd.create=(e,t)=>new Yd({type:e,typeName:ue.ZodPromise,...ge(t)});class Co extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{q(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return ce;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ce:c.status==="dirty"||n.value==="dirty"?vl(c.value):c});{if(n.value==="aborted")return ce;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?ce:l.status==="dirty"||n.value==="dirty"?vl(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ce:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ce:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!jo(a))return ce;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>jo(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):ce);ke.assertNever(s)}}Co.create=(e,t,n)=>new Co({schema:e,typeName:ue.ZodEffects,effect:t,...ge(n)});Co.createWithPreprocess=(e,t,n)=>new Co({schema:t,effect:{type:"preprocess",transform:e},typeName:ue.ZodEffects,...ge(n)});class Fs extends _e{_parse(t){return this._getType(t)===X.undefined?Pn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fs.create=(e,t)=>new Fs({innerType:e,typeName:ue.ZodOptional,...ge(t)});class No extends _e{_parse(t){return this._getType(t)===X.null?Pn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}No.create=(e,t)=>new No({innerType:e,typeName:ue.ZodNullable,...ge(t)});class Tg extends _e{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===X.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Tg.create=(e,t)=>new Tg({innerType:e,typeName:ue.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ge(t)});class Pg extends _e{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Hd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Kr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Kr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Pg.create=(e,t)=>new Pg({innerType:e,typeName:ue.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ge(t)});class M1 extends _e{_parse(t){if(this._getType(t)!==X.nan){const r=this._getOrReturnCtx(t);return q(r,{code:M.invalid_type,expected:X.nan,received:r.parsedType}),ce}return{status:"valid",value:t.data}}}M1.create=e=>new M1({typeName:ue.ZodNaN,...ge(e)});class y8 extends _e{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Jv extends _e{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ce:i.status==="dirty"?(n.dirty(),vl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Jv({in:t,out:n,typeName:ue.ZodPipeline})}}class Rg extends _e{_parse(t){const n=this._def.innerType._parse(t),r=s=>(jo(s)&&(s.value=Object.freeze(s.value)),s);return Hd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Rg.create=(e,t)=>new Rg({innerType:e,typeName:ue.ZodReadonly,...ge(t)});Je.lazycreate;var ue;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ue||(ue={}));const Fl=Es.create;Gs.create;br.create;const BE=Je.create;Je.strictCreate;Kd.create;Gd.create;Ki.create;ko.create;Yd.create;Fs.create;No.create;const v8=BE({email:Fl().email("Please enter a valid email address"),password:Fl().min(6,"Password must be at least 6 characters")}),x8=BE({fullName:Fl().min(2,"Name must be at least 2 characters").max(100),email:Fl().email("Please enter a valid email address"),password:Fl().min(6,"Password must be at least 6 characters")});function w8(){const[e,t]=p.useState(!1),[n,r]=p.useState(""),[s,i]=p.useState(""),[a,l]=p.useState(""),[c,u]=p.useState("adult"),[d,h]=p.useState(!1),[f,m]=p.useState(!1),[v,g]=p.useState({}),{signIn:y,signUp:w,user:x}=lt(),b=Ut(),{toast:S}=sr();p.useEffect(()=>{if(!x)return;(async()=>{try{const{data:k}=await K.from("user_roles").select("role").eq("user_id",x.id).maybeSingle(),C=k==null?void 0:k.role;if(C==="instructor"||C==="admin"){b("/instructor");return}const{data:T}=await K.from("profiles").select("program, belt_rank").eq("user_id",x.id).maybeSingle();T&&T.program?b("/dashboard"):b("/onboarding")}catch{b("/dashboard")}})()},[x,b]);const _=async j=>{j.preventDefault(),g({}),m(!0);try{if(e){const k=x8.safeParse({fullName:a,email:n,password:s});if(!k.success){const T={};k.error.errors.forEach(E=>{E.path[0]&&(T[E.path[0]]=E.message)}),g(T),m(!1);return}const{error:C}=await w(n,s,a,c);if(C)C.message.includes("already registered")?S({title:"Account exists",description:"This email is already registered. Please sign in instead.",variant:"destructive"}):S({title:"Sign up failed",description:C.message,variant:"destructive"});else{S({title:"Welcome to Iron Fist Dojo!",description:"Your account has been created. Redirecting to setup..."});const{error:T}=await y(n,s);if(T)S({title:"Check your email",description:"Please confirm your email address to complete registration.",variant:"default"});else{b("/onboarding");return}}}else{const k=v8.safeParse({email:n,password:s});if(!k.success){const T={};k.error.errors.forEach(E=>{E.path[0]&&(T[E.path[0]]=E.message)}),g(T),m(!1);return}const{error:C}=await y(n,s);C&&S({title:"Sign in failed",description:"Invalid email or password. Please try again.",variant:"destructive"})}}catch{S({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}m(!1)};return o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/src/assets/hero-karate.jpg)"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/50 to-transparent"}),o.jsx("div",{className:"relative z-10 flex flex-col justify-center p-12",children:o.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[o.jsxs("h1",{className:"font-display text-5xl text-foreground tracking-wider mb-4",children:["IRON FIST",o.jsx("br",{}),"DOJO"]}),o.jsx("p",{className:"text-muted-foreground text-lg max-w-md",children:"Begin your martial arts journey. Train with purpose. Master yourself."})]})})]}),o.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"font-display text-3xl text-foreground tracking-wide mb-2",children:e?"JOIN THE DOJO":"WELCOME BACK"}),o.jsx("p",{className:"text-muted-foreground",children:e?"Create your account to start training":"Sign in to access your dashboard"})]}),o.jsxs("form",{onSubmit:_,className:"space-y-5",children:[e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"fullName",className:"text-foreground",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(Gt,{id:"fullName",type:"text",value:a,onChange:j=>l(j.target.value),placeholder:"Enter your full name",className:"pl-10 bg-secondary border-border focus:border-primary"})]}),v.fullName&&o.jsx("p",{className:"text-sm text-destructive",children:v.fullName})]}),e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"registrationType",className:"text-foreground",children:"Registration Type"}),o.jsx("div",{className:"relative",children:o.jsxs("select",{id:"registrationType",value:c,onChange:j=>u(j.target.value),className:"w-full pl-3 pr-3 py-2 bg-secondary border-border rounded-md",children:[o.jsx("option",{value:"adult",children:"Adult"}),o.jsx("option",{value:"child",children:"Child (Parent-managed)"}),o.jsx("option",{value:"trial",children:"Trial"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"email",className:"text-foreground",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Uy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(Gt,{id:"email",type:"email",value:n,onChange:j=>r(j.target.value),placeholder:"Enter your email",className:"pl-10 bg-secondary border-border focus:border-primary"})]}),v.email&&o.jsx("p",{className:"text-sm text-destructive",children:v.email})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"password",className:"text-foreground",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(rc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(Gt,{id:"password",type:d?"text":"password",value:s,onChange:j=>i(j.target.value),placeholder:"Enter your password",className:"pl-10 pr-10 bg-secondary border-border focus:border-primary"}),o.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:d?o.jsx(bp,{className:"w-5 h-5"}):o.jsx(nk,{className:"w-5 h-5"})})]}),v.password&&o.jsx("p",{className:"text-sm text-destructive",children:v.password})]}),o.jsx(B,{type:"submit",variant:"hero",className:"w-full",disabled:f,children:f?"Please wait...":e?"Create Account":"Sign In"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-muted-foreground",children:[e?"Already have an account?":"Don't have an account?",o.jsx("button",{type:"button",onClick:()=>{t(!e),g({})},className:"ml-2 text-primary hover:text-primary/80 font-medium",children:e?"Sign in":"Sign up"})]})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx(we,{to:"/",className:"text-muted-foreground hover:text-foreground text-sm",children:" Back to home"})})]})})]})}function b8(e){const t=e.split(":").map(s=>parseInt(s,10)),n=Number.isNaN(t[0])?0:t[0],r=Number.isNaN(t[1])?0:t[1];return{hours:n,minutes:r}}function S8(e){return(()=>{var n,r;const t=Rt({queryKey:["next-class",e],queryFn:async()=>{let s=K.from("classes").select("*").eq("is_active",!0);e&&e!=="all"&&(s=s.eq("program",e));const{data:i,error:a}=await s;if(a)throw a;const l=i||[],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=new Date;let d=null;for(const h of l){if(!h.day_of_week||!h.start_time)continue;const f=c.indexOf(h.day_of_week);if(f===-1)continue;const{hours:m,minutes:v}=b8(h.start_time),g=u.getDay();let y=f-g;y<0&&(y+=7);const w=new Date(u);w.setHours(0,0,0,0),w.setDate(w.getDate()+y),w.setHours(m,v,0,0),w<=u&&w.setDate(w.getDate()+7),w>u&&(!d||w<d.startsAt)&&(d={cls:h,startsAt:w})}return{nextClass:d?d.cls:null,startsAt:d?d.startsAt:null}}});return{nextClass:((n=t.data)==null?void 0:n.nextClass)??null,startsAt:((r=t.data)==null?void 0:r.startsAt)??null,isLoading:t.isLoading,error:t.error??void 0}})()}function Oe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ys(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const zE=6048e5,_8=864e5,Tu=43200,L1=1440;let j8={};function Bc(){return j8}function _c(e,t){var l,c,u,d;const n=Bc(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Oe(e),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Qd(e){return _c(e,{weekStartsOn:1})}function WE(e){const t=Oe(e),n=t.getFullYear(),r=Ys(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Qd(r),i=Ys(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Qd(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function $1(e){const t=Oe(e);return t.setHours(0,0,0,0),t}function Xd(e){const t=Oe(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function k8(e,t){const n=$1(e),r=$1(t),s=+n-Xd(n),i=+r-Xd(r);return Math.round((s-i)/_8)}function C8(e){const t=WE(e),n=Ys(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qd(n)}function ed(e,t){const n=Oe(e),r=Oe(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function N8(e){return Ys(e,Date.now())}function E8(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function T8(e){if(!E8(e)&&typeof e!="number")return!1;const t=Oe(e);return!isNaN(Number(t))}function P8(e,t){const n=Oe(e),r=Oe(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function R8(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function A8(e,t){return+Oe(e)-+Oe(t)}function O8(e){const t=Oe(e);return t.setHours(23,59,59,999),t}function I8(e){const t=Oe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function D8(e){const t=Oe(e);return+O8(t)==+I8(t)}function M8(e,t){const n=Oe(e),r=Oe(t),s=ed(n,r),i=Math.abs(P8(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=ed(n,r)===-s;D8(Oe(e))&&i===1&&ed(e,r)===1&&(l=!1),a=s*(i-Number(l))}return a===0?0:a}function L8(e,t,n){const r=A8(e,t)/1e3;return R8(n==null?void 0:n.roundingMethod)(r)}function $8(e){const t=Oe(e),n=Ys(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const F8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},U8=(e,t,n)=>{let r;const s=F8[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gm(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const V8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W8={date:gm({formats:V8,defaultWidth:"full"}),time:gm({formats:B8,defaultWidth:"full"}),dateTime:gm({formats:z8,defaultWidth:"full"})},H8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q8=(e,t,n,r)=>H8[e];function ol(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const K8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},G8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},X8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Z8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},J8=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},e9={ordinalNumber:J8,era:ol({values:K8,defaultWidth:"wide"}),quarter:ol({values:G8,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ol({values:Y8,defaultWidth:"wide"}),day:ol({values:Q8,defaultWidth:"wide"}),dayPeriod:ol({values:X8,defaultWidth:"wide",formattingValues:Z8,defaultFormattingWidth:"wide"})};function ll(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?n9(l,h=>h.test(a)):t9(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function t9(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function n9(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function r9(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const s9=/^(\d+)(th|st|nd|rd)?/i,i9=/\d+/i,a9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},o9={any:[/^b/i,/^(a|c)/i]},l9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},c9={any:[/1/i,/2/i,/3/i,/4/i]},u9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},f9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},m9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},g9={ordinalNumber:r9({matchPattern:s9,parsePattern:i9,valueCallback:e=>parseInt(e,10)}),era:ll({matchPatterns:a9,defaultMatchWidth:"wide",parsePatterns:o9,defaultParseWidth:"any"}),quarter:ll({matchPatterns:l9,defaultMatchWidth:"wide",parsePatterns:c9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ll({matchPatterns:u9,defaultMatchWidth:"wide",parsePatterns:d9,defaultParseWidth:"any"}),day:ll({matchPatterns:h9,defaultMatchWidth:"wide",parsePatterns:f9,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:m9,defaultMatchWidth:"any",parsePatterns:p9,defaultParseWidth:"any"})},HE={code:"en-US",formatDistance:U8,formatLong:W8,formatRelative:q8,localize:e9,match:g9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y9(e){const t=Oe(e);return k8(t,$8(t))+1}function v9(e){const t=Oe(e),n=+Qd(t)-+C8(t);return Math.round(n/zE)+1}function qE(e,t){var d,h,f,m;const n=Oe(e),r=n.getFullYear(),s=Bc(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Ys(e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=_c(a,t),c=Ys(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=_c(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function x9(e,t){var l,c,u,d;const n=Bc(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=qE(e,t),i=Ys(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),_c(i,t)}function w9(e,t){const n=Oe(e),r=+_c(n,t)-+x9(n,t);return Math.round(r/zE)+1}function Te(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ss={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Te(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Te(n+1,2)},d(e,t){return Te(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Te(e.getHours()%12||12,t.length)},H(e,t){return Te(e.getHours(),t.length)},m(e,t){return Te(e.getMinutes(),t.length)},s(e,t){return Te(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Te(s,t.length)}},va={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F1={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ss.y(e,t)},Y:function(e,t,n,r){const s=qE(e,r),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return Te(a,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Te(i,t.length)},R:function(e,t){const n=WE(e);return Te(n,t.length)},u:function(e,t){const n=e.getFullYear();return Te(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Te(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ss.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=w9(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Te(s,t.length)},I:function(e,t,n){const r=v9(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Te(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ss.d(e,t)},D:function(e,t,n){const r=y9(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Te(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Te(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Te(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=va.noon:r===0?s=va.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=va.evening:r>=12?s=va.afternoon:r>=4?s=va.morning:s=va.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ss.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ss.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ss.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ss.s(e,t)},S:function(e,t){return ss.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return V1(r);case"XXXX":case"XX":return gi(r);case"XXXXX":case"XXX":default:return gi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return V1(r);case"xxxx":case"xx":return gi(r);case"xxxxx":case"xxx":default:return gi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+U1(r,":");case"OOOO":default:return"GMT"+gi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+U1(r,":");case"zzzz":default:return"GMT"+gi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Te(r,t.length)},T:function(e,t,n){const r=e.getTime();return Te(r,t.length)}};function U1(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Te(i,2)}function V1(e,t){return e%60===0?(e>0?"-":"+")+Te(Math.abs(e)/60,2):gi(e,t)}function gi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Te(Math.trunc(r/60),2),i=Te(r%60,2);return n+s+t+i}const B1=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},b9=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return B1(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",B1(r,t)).replace("{{time}}",KE(s,t))},S9={p:KE,P:b9},_9=/^D+$/,j9=/^Y+$/,k9=["D","DD","YY","YYYY"];function C9(e){return _9.test(e)}function N9(e){return j9.test(e)}function E9(e,t,n){const r=T9(e,t,n);if(console.warn(r),k9.includes(e))throw new RangeError(r)}function T9(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const P9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A9=/^'([^]*?)'?$/,O9=/''/g,I9=/[a-zA-Z]/;function GE(e,t,n){var d,h,f,m;const r=Bc(),s=r.locale??HE,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,l=Oe(e);if(!T8(l))throw new RangeError("Invalid time value");let c=t.match(R9).map(v=>{const g=v[0];if(g==="p"||g==="P"){const y=S9[g];return y(v,s.formatLong)}return v}).join("").match(P9).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:D9(v)};if(F1[g])return{isToken:!0,value:v};if(g.match(I9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(N9(g)||C9(g))&&E9(g,t,String(e));const y=F1[g[0]];return y(l,g,s.localize,u)}).join("")}function D9(e){const t=e.match(A9);return t?t[1].replace(O9,"'"):e}function M9(e,t,n){const r=Bc(),s=(n==null?void 0:n.locale)??r.locale??HE,i=2520,a=ed(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let c,u;a>0?(c=Oe(t),u=Oe(e)):(c=Oe(e),u=Oe(t));const d=L8(u,c),h=(Xd(u)-Xd(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<L1){const v=Math.round(f/60);return s.formatDistance("aboutXHours",v,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<Tu){const v=Math.round(f/L1);return s.formatDistance("xDays",v,l)}else if(f<Tu*2)return m=Math.round(f/Tu),s.formatDistance("aboutXMonths",m,l)}if(m=M8(u,c),m<12){const v=Math.round(f/Tu);return s.formatDistance("xMonths",v,l)}else{const v=m%12,g=Math.trunc(m/12);return v<3?s.formatDistance("aboutXYears",g,l):v<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function ex(e,t){return M9(e,N8(e),t)}function YE(){const e=Ut(),t=na(),{isInstructor:n}=Dh(),r=t.pathname.startsWith("/instructor");return t.pathname,n?o.jsx("div",{className:"flex items-center gap-2",children:r?o.jsxs(B,{size:"sm",variant:"outline",onClick:()=>e("/dashboard"),className:"flex items-center gap-2",children:[o.jsx(_p,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm hidden sm:inline",children:"Student View"})]}):o.jsxs(B,{size:"sm",variant:"default",onClick:()=>e("/instructor"),className:"flex items-center gap-2",children:[o.jsx(By,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm hidden sm:inline",children:"Instructor Panel"})]})}):null}function L9(){const{profile:e,signOut:t}=lt(),{notifications:n,markAsRead:r}=ME(),s=n||[],i=s.filter(v=>!v.is_read).length,a=Ut(),[l,c]=p.useState(!1),[u,d]=p.useState(!1),h=async()=>{await t(),a("/")},f=async v=>{try{await r(v)}catch(g){console.error("Failed to mark notification read",g)}},m=v=>{const g={white:"bg-white border border-border",yellow:"bg-yellow-400",orange:"bg-orange-500",green:"bg-green-500",blue:"bg-blue-500",brown:"bg-amber-700",black:"bg-black"};return g[v.toLowerCase()]||g.white};return o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b border-border",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{to:"/",className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:o.jsx("span",{className:"font-display text-primary-foreground text-lg",children:""})}),o.jsx("span",{className:"font-display text-xl text-foreground tracking-wider hidden sm:block",children:"IRON FIST DOJO"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(we,{to:"/",className:"text-muted-foreground hover:text-foreground flex items-center gap-2",children:[o.jsx(_p,{className:"w-4 h-4"}),"Home"]}),o.jsxs(we,{to:"/videos",className:"text-muted-foreground hover:text-foreground flex items-center gap-2",children:[o.jsx(xI,{className:"w-4 h-4"}),"Videos"]}),o.jsxs(we,{to:"/profile",className:"text-muted-foreground hover:text-foreground flex items-center gap-2",children:[o.jsx(Ir,{className:"w-4 h-4"}),"Profile"]}),o.jsx(YE,{}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>c(!l),className:"relative p-2 text-muted-foreground hover:text-foreground",children:[o.jsx(wp,{className:"w-5 h-5"}),i>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary text-primary-foreground text-xs rounded-full flex items-center justify-center",children:i})]}),o.jsx(Vd,{children:l&&o.jsxs(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 top-full mt-2 w-80 bg-card border border-border rounded-lg shadow-xl overflow-hidden",children:[o.jsx("div",{className:"p-3 border-b border-border",children:o.jsx("h3",{className:"font-semibold text-foreground",children:"Notifications"})}),o.jsx("div",{className:"max-h-80 overflow-y-auto",children:s.length===0?o.jsx("p",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):s.slice(0,5).map(v=>o.jsxs("button",{onClick:()=>f(v.id),className:`w-full p-3 text-left hover:bg-secondary/50 border-b border-border last:border-0 ${v.is_read?"":"bg-primary/5"}`,children:[o.jsx("p",{className:"font-medium text-foreground text-sm",children:v.title}),o.jsx("p",{className:"text-muted-foreground text-xs mt-1 line-clamp-2",children:v.message}),o.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:v.created_at&&ex(new Date(v.created_at),{addSuffix:!0})})]},v.id))})]})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-4 h-4 rounded ${m((e==null?void 0:e.belt_rank)||"white")}`}),o.jsx("span",{className:"text-foreground font-medium",children:e==null?void 0:e.full_name})]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:h,children:[o.jsx(B0,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{onClick:()=>d(!u),className:"md:hidden p-2 text-foreground",children:u?o.jsx(Do,{className:"w-6 h-6"}):o.jsx(rk,{className:"w-6 h-6"})})]}),o.jsx(Vd,{children:u&&o.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden mt-4 pb-4 border-t border-border pt-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-4 h-4 rounded ${m((e==null?void 0:e.belt_rank)||"white")}`}),o.jsx("span",{className:"text-foreground font-medium",children:e==null?void 0:e.full_name})]}),o.jsxs(we,{to:"/",className:"text-muted-foreground hover:text-foreground flex items-center gap-2",children:[o.jsx(_p,{className:"w-4 h-4"}),"Home"]}),o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[o.jsx(wp,{className:"w-4 h-4"}),"Notifications",i>0&&o.jsx("span",{className:"ml-2 px-2 py-0.5 bg-primary text-primary-foreground text-xs rounded-full",children:i})]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:h,className:"w-fit",children:[o.jsx(B0,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})})]})})}function cl(e){return e.toString().padStart(2,"0")}function ym(e){const t=e.getUTCFullYear(),n=cl(e.getUTCMonth()+1),r=cl(e.getUTCDate()),s=cl(e.getUTCHours()),i=cl(e.getUTCMinutes()),a=cl(e.getUTCSeconds());return`${t}${n}${r}T${s}${i}${a}Z`}function QE(e){const t=e.uid||`${Date.now()}@iron-fist-dojo`,n=ym(new Date),r=ym(e.startsAt),s=ym(e.endsAt),i=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Iron Fist Dojo//EN","CALSCALE:GREGORIAN","BEGIN:VEVENT",`UID:${t}`,`DTSTAMP:${n}`,`DTSTART:${r}`,`DTEND:${s}`,`SUMMARY:${vm(e.title)}`];return e.description&&i.push(`DESCRIPTION:${vm(e.description)}`),e.location&&i.push(`LOCATION:${vm(e.location)}`),i.push("END:VEVENT","END:VCALENDAR"),i.join(`\r
`)}function vm(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/,/g,",")}function XE(e){const t=e.startsAt.toISOString().replace(/-|:|\.\d{3}Z/g,""),n=e.endsAt.toISOString().replace(/-|:|\.\d{3}Z/g,"");return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:e.title,details:e.description||"",location:e.location||"",dates:`${t}/${n}`}).toString()}`}function ZE(){const{user:e}=lt();return Rt({queryKey:["my-enrollments",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:t,error:n}=await K.from("enrollments").select(`
          *,
          classes (
            id, title, day_of_week, start_time, end_time, location, program, level
          )
        `).eq("user_id",e.id).eq("status","enrolled");if(n)throw n;return t},enabled:!!e})}function $9(){return Rt({queryKey:["enrollment-counts"],queryFn:async()=>{const{data:e,error:t}=await K.from("enrollments").select("class_id").eq("status","enrolled");if(t)throw t;const n={};return(e||[]).forEach(r=>{n[r.class_id]=(n[r.class_id]||0)+1}),n}})}function F9(e){return Rt({queryKey:["class-enrollments",e],queryFn:async()=>{const{data:t,error:n}=await K.from("enrollments").select(`
          *,
          profiles:user_id (
            full_name, email, belt_rank
          )
        `).eq("class_id",e).eq("status","enrolled");if(n)throw n;return t},enabled:!!e})}function U9(){const e=mn(),{user:t}=lt();return rr({mutationFn:async n=>{if(!t)throw new Error("Must be logged in to enroll");const{data:r,error:s}=await K.from("enrollments").insert({user_id:t.id,class_id:n,status:"enrolled"}).select().single();if(s)throw s;return r},onSuccess:(n,r)=>{e.invalidateQueries({queryKey:["my-enrollments"]}),e.invalidateQueries({queryKey:["enrollment-check",t==null?void 0:t.id,r]}),e.invalidateQueries({queryKey:["enrollment-counts"]}),e.invalidateQueries({queryKey:["class-enrollments",r]})}})}function JE(){const e=mn(),{user:t}=lt();return rr({mutationFn:async n=>{if(!t)throw new Error("Must be logged in to unenroll");const{error:r}=await K.from("enrollments").delete().eq("user_id",t.id).eq("class_id",n);if(r)throw r},onSuccess:(n,r)=>{e.invalidateQueries({queryKey:["my-enrollments"]}),e.invalidateQueries({queryKey:["enrollment-check",t==null?void 0:t.id,r]}),e.invalidateQueries({queryKey:["enrollment-counts"]}),e.invalidateQueries({queryKey:["class-enrollments",r]})}})}function V9(){const{profile:e,user:t}=lt(),{data:n,isLoading:r}=Fz(e==null?void 0:e.program),{data:s}=ZE(),i=U9(),a=JE(),{toast:l}=sr(),c=new Set((s||[]).map(y=>y.class_id)),u=async(y,w)=>{var x;try{await i.mutateAsync(y),l({title:"Enrolled!",description:`You're now enrolled in ${w}`})}catch(b){l({title:"Enrollment failed",description:(x=b.message)!=null&&x.includes("duplicate")?"Already enrolled in this class":"Could not enroll",variant:"destructive"})}},d=async(y,w)=>{try{await a.mutateAsync(y),l({title:"Unenrolled",description:`You've been removed from ${w}`})}catch{l({title:"Error",description:"Could not unenroll",variant:"destructive"})}},h=y=>{const[w,x]=y.split(":"),b=parseInt(w),S=b>=12?"PM":"AM";return`${b%12||12}:${x} ${S}`},f=y=>{const w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],x=new Date().getDay();let S=w.indexOf(y)-x;return S<0&&(S+=7),S===0?"Today":S===1?"Tomorrow":y};function m(y){if(!y)return 60;const[w,x]=(y||"").split(":").map(b=>parseInt(b||"0",10));return w*60+(x||0)}function v(y,w){const b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(y),S=new Date,_=S.getDay();let j=b-_;j<0&&(j+=7);const k=new Date;k.setDate(S.getDate()+j);const[C="0",T="0"]=(w||"00:00").split(":");return k.setHours(parseInt(C,10)),k.setMinutes(parseInt(T,10)),k.setSeconds(0),k.setMilliseconds(0),k}if(r)return o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-secondary rounded w-1/3"}),o.jsx("div",{className:"space-y-3",children:[1,2,3].map(y=>o.jsx("div",{className:"h-20 bg-secondary rounded"},y))})]})});const g=(n==null?void 0:n.slice(0,4))||[];return o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6",children:[o.jsx("h2",{className:"font-display text-lg sm:text-xl text-foreground tracking-wide",children:"UPCOMING CLASSES"}),o.jsx(qt,{className:"w-5 h-5 text-primary mt-3 sm:mt-0"})]}),g.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No upcoming classes found"}):o.jsx("div",{className:"space-y-3",children:g.map((y,w)=>o.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+w*.05},className:"bg-secondary/50 rounded-lg p-3 sm:p-4 hover:bg-secondary transition-colors",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:y.title}),c.has(y.id)&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-500/20 text-green-600 text-xs font-medium",children:[o.jsx(Fy,{className:"w-3 h-3"}),"Enrolled"]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mt-2 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ta,{className:"w-4 h-4"}),h(y.start_time)," - ",h(y.end_time)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bh,{className:"w-4 h-4"}),y.location]}),y.capacity&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Io,{className:"w-4 h-4"}),y.capacity," spots"]})]})]}),o.jsxs("div",{className:"text-right flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${f(y.day_of_week)==="Today"?"bg-primary text-primary-foreground":f(y.day_of_week)==="Tomorrow"?"bg-gold/20 text-gold":"bg-secondary text-foreground"}`,children:f(y.day_of_week)}),y.level&&o.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:y.level})]}),t&&o.jsx("div",{className:"mt-2",children:c.has(y.id)?o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>d(y.id,y.title),disabled:a.isPending,className:"text-destructive hover:text-destructive",children:[o.jsx(ck,{className:"w-4 h-4 mr-1"}),"Unenroll"]}):o.jsxs(B,{variant:"default",size:"sm",onClick:()=>u(y.id,y.title),disabled:i.isPending,children:[o.jsx(vI,{className:"w-4 h-4 mr-1"}),"Enroll"]})}),o.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-2",children:[o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{const x=v(y.day_of_week,y.start_time),b=new Date(x.getTime()+(m(y.end_time)-m(y.start_time)||60)*6e4),S={title:y.title,description:y.description||"",location:y.location||"",startsAt:x,endsAt:b},_=XE(S);window.open(_,"_blank")},className:"w-full sm:w-auto",children:[o.jsx(qt,{className:"w-4 h-4 mr-2"}),"Google"]}),o.jsx(B,{variant:"ghost",size:"sm",className:"w-full sm:w-auto",onClick:()=>{const x=v(y.day_of_week,y.start_time),b=new Date(x.getTime()+(m(y.end_time)-m(y.start_time)||60)*6e4),S={title:y.title,description:y.description||"",location:y.location||"",startsAt:x,endsAt:b},_=QE(S),j=new Blob([_],{type:"text/calendar;charset=utf-8"}),k=URL.createObjectURL(j),C=document.createElement("a");C.href=k,C.download=`${(y.title||"event").replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(C),C.click(),C.remove(),setTimeout(()=>URL.revokeObjectURL(k),1e4)},children:"Download"})]})]})]})},y.id))}),o.jsx("a",{href:"#schedule",className:"block mt-4 text-center text-primary hover:text-primary/80 text-sm font-medium",children:"View Full Schedule "})]})}function B9(){const{data:e,isLoading:t}=ZE(),n=JE(),{toast:r}=sr(),s=a=>{const[l,c]=a.split(":"),u=parseInt(l),d=u>=12?"PM":"AM";return`${u%12||12}:${c} ${d}`},i=async(a,l)=>{try{await n.mutateAsync(a),r({title:"Unenrolled",description:`You've been removed from ${l}`})}catch{r({title:"Error",description:"Could not unenroll",variant:"destructive"})}};return t?o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-secondary rounded w-1/3"}),o.jsx("div",{className:"space-y-3",children:[1,2].map(a=>o.jsx("div",{className:"h-16 bg-secondary rounded"},a))})]})}):!e||e.length===0?null:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fy,{className:"w-5 h-5 text-green-500"}),o.jsx("h2",{className:"font-display text-lg sm:text-xl text-foreground tracking-wide",children:"MY ENROLLED CLASSES"})]}),o.jsxs("span",{className:"text-sm text-muted-foreground mt-2 sm:mt-0",children:[e.length," class",e.length!==1?"es":""]})]}),o.jsx("div",{className:"space-y-3",children:e.map((a,l)=>o.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+l*.05},className:"bg-green-500/5 border border-green-500/20 rounded-lg p-3 sm:p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:a.classes.title}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mt-2 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(qt,{className:"w-4 h-4"}),a.classes.day_of_week]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ta,{className:"w-4 h-4"}),s(a.classes.start_time)," - ",s(a.classes.end_time)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bh,{className:"w-4 h-4"}),a.classes.location]})]})]}),o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>i(a.class_id,a.classes.title),disabled:n.isPending,className:"text-destructive hover:text-destructive border-destructive/30",children:[o.jsx(ck,{className:"w-4 h-4 mr-1"}),"Unenroll"]})]})},a.id))})]})}function z9(){return Rt({queryKey:["announcements"],queryFn:async()=>{const{data:e,error:t}=await K.from("announcements").select("*").eq("is_published",!0).order("created_at",{ascending:!1});if(t)throw t;return e}})}function eT(){const{data:e,isLoading:t}=z9(),n=s=>{switch(s){case"high":return o.jsx(iI,{className:"w-4 h-4 text-primary"});default:return o.jsx(cI,{className:"w-4 h-4 text-muted-foreground"})}};if(t)return o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-secondary rounded w-1/3"}),o.jsx("div",{className:"space-y-3",children:[1,2].map(s=>o.jsx("div",{className:"h-16 bg-secondary rounded"},s))})]})});const r=(e==null?void 0:e.slice(0,3))||[];return o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card border border-border rounded-xl p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6",children:[o.jsx("h2",{className:"font-display text-lg sm:text-xl text-foreground tracking-wide",children:"ANNOUNCEMENTS"}),o.jsx(kd,{className:"w-5 h-5 text-primary mt-3 sm:mt-0"})]}),r.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No announcements"}):o.jsx("div",{className:"space-y-3",children:r.map((s,i)=>o.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+i*.05},className:`rounded-lg p-3 sm:p-4 ${s.priority==="high"?"bg-primary/10 border border-primary/20":"bg-secondary/50"}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[o.jsx("div",{className:"flex-shrink-0",children:n(s.priority)}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground text-sm sm:text-base",children:s.title}),o.jsx("p",{className:"text-muted-foreground text-sm mt-1 line-clamp-3",children:s.content}),o.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:ex(new Date(s.created_at),{addSuffix:!0})})]})]})},s.id))})]})}const ul=[{name:"White belt",color:"bg-white border border-border",value:0},{name:"Yellow belt",color:"bg-yellow-400",value:1},{name:"Orange belt",color:"bg-orange-500",value:2},{name:"Purple belt",color:"bg-violet-600 text-white",value:3},{name:"Green belt",color:"bg-green-500",value:4},{name:"Brown belt",color:"bg-amber-700",value:5},{name:"Black belt",color:"bg-black text-white",value:6}];function tT(){const{profile:e}=lt(),t=ul.find(s=>{var i;return s.name.toLowerCase()===((i=e==null?void 0:e.belt_rank)==null?void 0:i.toLowerCase())})||ul[0],n=ul[t.value+1],r=(t.value+1)/ul.length*100;return o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-card border border-border rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"font-display text-xl text-foreground tracking-wide",children:"YOUR PROGRESS"}),o.jsx($y,{className:"w-5 h-5 text-gold"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-6",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg ${t.color} flex items-center justify-center shadow-lg flex-shrink-0`,children:t.name==="Black"&&o.jsx("span",{className:"text-white font-display text-sm",children:""})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-foreground font-semibold",children:[t.name," Belt"]}),o.jsxs("p",{className:"text-muted-foreground text-sm capitalize",children:[e==null?void 0:e.program," Program"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Journey Progress"}),o.jsxs("span",{className:"text-foreground font-medium",children:[Math.round(r),"%"]})]}),o.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:o.jsx(L.div,{initial:{width:0},animate:{width:`${r}%`},transition:{delay:.5,duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-primary to-gold rounded-full"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:ul.map((s,i)=>o.jsxs("div",{className:"flex flex-col items-center min-w-[40px]",children:[o.jsx("div",{className:`w-6 h-6 rounded ${s.color} ${i<=t.value?"ring-2 ring-primary ring-offset-2 ring-offset-background":"opacity-40"}`}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1 hidden sm:block text-center",children:s.name.slice(0,2)})]},s.name))})}),n&&o.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(jp,{className:"w-4 h-4 text-primary"}),o.jsx("span",{className:"text-muted-foreground",children:"Next goal:"}),o.jsxs("span",{className:"text-foreground font-medium",children:[n.name," Belt"]})]})})]})}function W9(){const{isInstructor:e}=Dh();return o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-card border border-border rounded-xl p-6",children:[o.jsx("h2",{className:"font-display text-xl text-foreground tracking-wide mb-6",children:"QUICK ACTIONS"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e&&o.jsx(we,{to:"/instructor",className:"col-span-1 sm:col-span-2",children:o.jsxs(B,{className:"w-full h-auto py-4 flex gap-2 bg-gradient-to-r from-primary to-gold hover:opacity-90",children:[o.jsx(By,{className:"w-5 h-5"}),o.jsx("span",{children:"Instructor Panel"})]})}),o.jsx("a",{href:`https://wa.me/${"+254700000000".replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",children:o.jsxs(B,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2",children:[o.jsx(sk,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-xs",children:"WhatsApp"})]})}),o.jsx("a",{href:"mailto:info@ironfistdojo.com",children:o.jsxs(B,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2",children:[o.jsx(Uy,{className:"w-5 h-5 text-primary"}),o.jsx("span",{className:"text-xs",children:"Email"})]})}),o.jsx("a",{href:`tel:${"+254 700 000 000".replace(/\s/g,"")}`,children:o.jsxs(B,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2",children:[o.jsx(dI,{className:"w-5 h-5 text-gold"}),o.jsx("span",{className:"text-xs",children:"Call"})]})}),o.jsx(we,{to:"/videos",children:o.jsxs(B,{variant:"outline",className:"w-full h-auto py-4 flex flex-col gap-2 hover:border-primary/50 hover:bg-primary/5",children:[o.jsx(Sp,{className:"w-5 h-5 text-primary"}),o.jsx("span",{className:"text-xs",children:"Training Videos"})]})})]})]})}function H9(){var l;const{user:e,profile:t,loading:n}=lt(),r=Ut(),{nextClass:s,startsAt:i,isLoading:a}=S8(t==null?void 0:t.program);return p.useEffect(()=>{!n&&!e&&r("/auth")},[e,n,r]),n?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]})}):e?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(L9,{}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[o.jsxs(L.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs("h1",{className:"font-display text-3xl md:text-4xl text-foreground tracking-wide",children:["Welcome back, ",((l=t==null?void 0:t.full_name)==null?void 0:l.split(" ")[0])||"Student","!"]}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Your martial arts journey continues. Here's what's happening at the dojo."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsx(K9,{nextClass:s,startsAt:i,isLoading:a}),o.jsx(B9,{}),o.jsx(V9,{}),o.jsx(eT,{})]}),o.jsxs("div",{className:"space-y-6 md:col-span-1",children:[o.jsx(tT,{}),o.jsx(W9,{})]})]}),o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-8 bg-gradient-to-r from-primary/10 to-gold/10 border border-primary/20 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"font-display text-primary-foreground text-lg",children:""})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-display text-lg text-foreground tracking-wide",children:"MESSAGE FROM SENSEI"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:'"The journey of a thousand miles begins with a single step. Every training session, every kata, every moment of discipline brings you closer to mastery. Train hard, stay humble, and remember  the true battle is always within."'}),o.jsx("p",{className:"text-primary mt-2 font-medium",children:" Sensei Kevin Kiarie"})]})]})})]})]}):null}function z1(e){const[t,n]=e.split(":"),r=parseInt(t||"0",10),s=n?parseInt(n,10):0,i=r>=12?"PM":"AM";return`${r%12===0?12:r%12}:${String(s).padStart(2,"0")} ${i}`}function q9(e){if(!e)return"";const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date,r=Math.floor((e.setHours(0,0,0,0)-n.setHours(0,0,0,0))/(1e3*60*60*24));return r===0?"Today":r===1?"Tomorrow":t[e.getDay()]||""}function K9({nextClass:e,startsAt:t,isLoading:n}){return n?o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-6 w-1/3 bg-secondary rounded mb-4"}),o.jsx("div",{className:"h-12 bg-secondary rounded"})]})}):e?o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-3",children:[o.jsx("h3",{className:"font-display text-xl text-foreground tracking-wide mr-2",children:e.title}),o.jsx("span",{className:"inline-block px-2 py-0.5 text-xs bg-primary text-primary-foreground rounded mt-2 sm:mt-0",children:"Next Class"})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[e.program,e.level?`  ${e.level}`:""]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mt-3 text-sm text-muted-foreground",children:[o.jsx("span",{className:"flex items-center gap-2 sm:mr-4",children:e.location}),t&&o.jsxs("span",{children:[q9(new Date(t)),"  ",z1(e.start_time)," - ",z1(e.end_time)]})]})]}),t&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[o.jsxs(B,{variant:"outline",size:"sm",className:"w-full sm:w-auto",onClick:()=>{const r=new Date(t),s=new Date(r.getTime()+(Pu(e.end_time)-Pu(e.start_time)||60)*6e4),i={title:e.title,description:e.description||e.body||"",location:e.location||"",startsAt:r,endsAt:s},a=XE(i);window.open(a,"_blank")},children:[o.jsx(qt,{className:"w-4 h-4 mr-2"}),"Add to Google"]}),o.jsx(B,{variant:"ghost",size:"sm",className:"w-full sm:w-auto",onClick:()=>{const r=new Date(t),s=new Date(r.getTime()+(Pu(e.end_time)-Pu(e.start_time)||60)*6e4),i={title:e.title,description:e.description||e.body||"",location:e.location||"",startsAt:r,endsAt:s},a=QE(i),l=new Blob([a],{type:"text/calendar;charset=utf-8"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`${(e.title||"event").replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(u),u.click(),u.remove(),setTimeout(()=>URL.revokeObjectURL(c),1e4)},children:"Download .ics"})]})]})}):o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h2",{className:"font-display text-lg text-foreground tracking-wide",children:"NEXT CLASS"})}),o.jsx("p",{className:"text-muted-foreground",children:"No upcoming classes scheduled"})]})}function Pu(e){if(!e)return 60;const[t,n]=(e||"").split(":").map(r=>parseInt(r||"0",10));return t*60+(n||0)}function xm({className:e,...t}){return o.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}const W1=[{value:"white",label:"White Belt",color:"bg-gray-100 text-gray-800"},{value:"yellow",label:"Yellow Belt",color:"bg-yellow-400 text-yellow-900"},{value:"orange",label:"Orange Belt",color:"bg-orange-500 text-white"},{value:"green",label:"Green Belt",color:"bg-green-600 text-white"},{value:"blue",label:"Blue Belt",color:"bg-blue-600 text-white"},{value:"purple",label:"Purple Belt",color:"bg-purple-600 text-white"},{value:"brown",label:"Brown Belt",color:"bg-amber-800 text-white"},{value:"black",label:"Black Belt",color:"bg-black text-white"}],G9=[{value:"all",label:"All Videos",icon:""},{value:"kihon",label:"Basics (Kihon)",icon:""},{value:"kata",label:"Kata",icon:""},{value:"kumite",label:"Kumite",icon:""},{value:"conditioning",label:"Conditioning",icon:""},{value:"competition",label:"Competition",icon:""}],nT=e=>W1.find(t=>t.value===e)||W1[0],rT=e=>{if(!e)return"";const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`},sT=e=>Rt({queryKey:["videos",e],queryFn:async()=>{let t=K.from("videos").select("*").order("created_at",{ascending:!1});e&&e!=="all"&&(t=t.eq("category",e));const{data:n,error:r}=await t;if(r)throw r;return n}}),Kn=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Kn.displayName="Card";const lr=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",e),...t}));lr.displayName="CardHeader";const cr=p.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));cr.displayName="CardTitle";const tx=p.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",e),...t}));tx.displayName="CardDescription";const Gn=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:le("p-6 pt-0",e),...t}));Gn.displayName="CardContent";const Y9=p.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",e),...t}));Y9.displayName="CardFooter";const Q9=({video:e,userBeltRank:t,onClick:n})=>{const{user:r}=lt(),s=nT(e.minimum_belt_rank),i=e.is_public||r&&t&&H1(t)>=H1(e.minimum_belt_rank);return o.jsx(L.div,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},transition:{duration:.2},children:o.jsxs(Kn,{className:`group cursor-pointer overflow-hidden border-border/50 bg-card/80 backdrop-blur-sm transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 ${i?"":"opacity-75"}`,onClick:i?n:void 0,children:[o.jsxs("div",{className:"relative aspect-video bg-muted overflow-hidden",children:[e.thumbnail_url?o.jsx("img",{src:e.thumbnail_url,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl opacity-50",children:""})}),o.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:i?o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/90 flex items-center justify-center",children:o.jsx(ik,{className:"w-8 h-8 text-primary-foreground ml-1",fill:"currentColor"})}):o.jsx("div",{className:"w-16 h-16 rounded-full bg-muted/90 flex items-center justify-center",children:o.jsx(rc,{className:"w-8 h-8 text-muted-foreground"})})}),e.duration_seconds&&o.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[o.jsx(ta,{className:"w-3 h-3"}),rT(e.duration_seconds)]}),!i&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsxs(ln,{variant:"secondary",className:"bg-black/70 text-white border-0",children:[o.jsx(rc,{className:"w-3 h-3 mr-1"}),s.label]})})]}),o.jsxs(Gn,{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:o.jsx("h3",{className:"font-semibold text-foreground line-clamp-2 group-hover:text-primary transition-colors",children:e.title})}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:e.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ln,{variant:"outline",className:`${s.color} border-0 text-xs`,children:s.label}),e.instructor_name&&o.jsx("span",{className:"text-xs text-muted-foreground",children:e.instructor_name}),o.jsx("div",{className:"ml-3",children:o.jsx(Zv,{title:e.title,description:e.description??void 0,url:e.video_url,videoId:e.id})})]})]})]})})};function H1(e){return{white:1,yellow:2,orange:3,green:4,blue:5,purple:6,brown:7,black:8}[e]||0}const X9=({video:e,isOpen:t,onClose:n})=>{if(!e)return null;const r=nT(e.minimum_belt_rank);return o.jsx(Vd,{children:t&&o.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:n,children:o.jsxs(L.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-5xl bg-card rounded-lg overflow-hidden shadow-2xl",onClick:s=>s.stopPropagation(),children:[o.jsx(B,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 bg-black/50 hover:bg-black/70 text-white rounded-full",onClick:n,children:o.jsx(Do,{className:"w-5 h-5"})}),o.jsx("div",{className:"aspect-video bg-black",children:o.jsx("iframe",{src:e.video_url,title:e.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:e.title}),o.jsx("div",{className:"hidden sm:block",children:o.jsx(Zv,{title:e.title,description:e.description??void 0,url:e.video_url,videoId:e.id})})]}),o.jsx(ln,{className:`${r.color} border-0 shrink-0`,children:r.label})]}),e.description&&o.jsx("p",{className:"text-muted-foreground mb-4",children:e.description}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.instructor_name&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ir,{className:"w-4 h-4"}),o.jsx("span",{children:e.instructor_name})]}),e.duration_seconds&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ta,{className:"w-4 h-4"}),o.jsx("span",{children:rT(e.duration_seconds)})]})]})]})]})})})},Z9=({selectedCategory:e,onCategoryChange:t})=>o.jsx("div",{className:"flex flex-wrap gap-2",children:G9.map(n=>{const r=e===n.value;return o.jsx(L.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs(B,{variant:r?"default":"outline",size:"sm",onClick:()=>t(n.value),className:`gap-2 ${r?"bg-primary text-primary-foreground shadow-lg shadow-primary/25":"hover:bg-primary/10 hover:border-primary/50"}`,children:[o.jsx("span",{children:n.icon}),o.jsx("span",{children:n.label})]})},n.value)})}),J9=()=>{const{user:e}=lt(),[t,n]=p.useState("all"),[r,s]=p.useState(null),[i,a]=p.useState(!1),{data:l,isLoading:c}=sT(t),{data:u}=Rt({queryKey:["profile",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;const{data:m}=await K.from("profiles").select("belt_rank").eq("user_id",e.id).maybeSingle();return m},enabled:!!e}),d=m=>{s(m),a(!0)},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:e?"/dashboard":"/",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(ea,{className:"w-5 h-5"})})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sp,{className:"w-6 h-6 text-primary"}),o.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Training Videos"})]})]}),!e&&o.jsx(we,{to:"/auth",children:o.jsxs(B,{variant:"default",size:"sm",className:"gap-2",children:[o.jsx(rc,{className:"w-4 h-4"}),"Sign in for full access"]})})]})})}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsx(L.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:o.jsx(Z9,{selectedCategory:t,onCategoryChange:n})}),!e&&o.jsx(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-8 p-4 rounded-lg bg-primary/10 border border-primary/20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rc,{className:"w-5 h-5 text-primary shrink-0"}),o.jsxs("p",{className:"text-sm text-foreground",children:[o.jsx("strong",{children:"Limited access:"})," Sign in to unlock all videos based on your belt rank. Some videos are only available to registered students."]})]})}),c?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((m,v)=>o.jsxs("div",{className:"space-y-3",children:[o.jsx(xm,{className:"aspect-video rounded-lg"}),o.jsx(xm,{className:"h-4 w-3/4"}),o.jsx(xm,{className:"h-3 w-1/2"})]},v))}):l&&l.length>0?o.jsx(L.div,{variants:h,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(m=>o.jsx(L.div,{variants:f,children:o.jsx(Q9,{video:m,userBeltRank:(u==null?void 0:u.belt_rank)||void 0,onClick:()=>d(m)})},m.id))}):o.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[o.jsx(Sp,{className:"w-16 h-16 mx-auto text-muted-foreground/50 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No videos found"}),o.jsx("p",{className:"text-muted-foreground",children:t!=="all"?"No videos available in this category yet.":"Check back soon for new training content."})]})]}),o.jsx(X9,{video:r,isOpen:i,onClose:()=>{a(!1),s(null)}})]})};var eW=p.createContext(void 0);function Uh(e){const t=p.useContext(eW);return e||t||"ltr"}var wm="rovingFocusGroup.onEntryFocus",tW={bubbles:!1,cancelable:!0},zc="RovingFocusGroup",[Ag,iT,nW]=Iy(zc),[rW,aT]=fn(zc,[nW]),[sW,iW]=rW(zc),oT=p.forwardRef((e,t)=>o.jsx(Ag.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ag.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(aW,{...e,ref:t})})}));oT.displayName=zc;var aW=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=ye(t,f),v=Uh(i),[g,y]=Br({prop:a,defaultProp:l??null,onChange:c,caller:zc}),[w,x]=p.useState(!1),b=ot(u),S=iT(n),_=p.useRef(!1),[j,k]=p.useState(0);return p.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(wm,b),()=>C.removeEventListener(wm,b)},[b]),o.jsx(sW,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(C=>y(C),[y]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>k(C=>C-1),[]),children:o.jsx(te.div,{tabIndex:w||j===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{_.current=!0}),onFocus:Y(e.onFocus,C=>{const T=!_.current;if(C.target===C.currentTarget&&T&&!w){const E=new CustomEvent(wm,tW);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const O=S().filter(F=>F.focusable),P=O.find(F=>F.active),W=O.find(F=>F.id===g),Q=[P,W,...O].filter(Boolean).map(F=>F.ref.current);uT(Q,d)}}_.current=!1}),onBlur:Y(e.onBlur,()=>x(!1))})})}),lT="RovingFocusGroupItem",cT=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=e,c=Mr(),u=i||c,d=iW(lT,n),h=d.currentTabStopId===u,f=iT(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:g}=d;return p.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),o.jsx(Ag.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(te.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Y(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:Y(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Y(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=cW(y,d.orientation,d.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=f().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const S=b.indexOf(y.currentTarget);b=d.loop?uW(b,S+1):b.slice(S+1)}setTimeout(()=>uT(b))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:g!=null}):a})})});cT.displayName=lT;var oW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lW(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cW(e,t,n){const r=lW(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oW[r]}function uT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function uW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dW=oT,hW=cT,Vh="Tabs",[fW,I7]=fn(Vh,[aT]),dT=aT(),[mW,nx]=fW(Vh),hT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Uh(l),[h,f]=Br({prop:r,onChange:s,defaultProp:i??"",caller:Vh});return o.jsx(mW,{scope:n,baseId:Mr(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:c,children:o.jsx(te.div,{dir:d,"data-orientation":a,...u,ref:t})})});hT.displayName=Vh;var fT="TabsList",mT=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=nx(fT,n),a=dT(n);return o.jsx(dW,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});mT.displayName=fT;var pT="TabsTrigger",gT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,a=nx(pT,n),l=dT(n),c=xT(a.baseId,r),u=wT(a.baseId,r),d=r===a.value;return o.jsx(hW,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Y(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:Y(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:Y(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!s&&h&&a.onValueChange(r)})})})});gT.displayName=pT;var yT="TabsContent",vT=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=e,l=nx(yT,n),c=xT(l.baseId,r),u=wT(l.baseId,r),d=r===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx(Zt,{present:s||d,children:({present:f})=>o.jsx(te.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});vT.displayName=yT;function xT(e,t){return`${e}-trigger-${t}`}function wT(e,t){return`${e}-content-${t}`}var pW=hT,bT=mT,ST=gT,_T=vT;const gW=pW,jT=p.forwardRef(({className:e,...t},n)=>o.jsx(bT,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jT.displayName=bT.displayName;const xl=p.forwardRef(({className:e,...t},n)=>o.jsx(ST,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));xl.displayName=ST.displayName;const wl=p.forwardRef(({className:e,...t},n)=>o.jsx(_T,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wl.displayName=_T.displayName;const rx=p.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));rx.displayName="Textarea";function Og(e,[t,n]){return Math.min(n,Math.max(t,e))}function sx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yW=[" ","Enter","ArrowUp","ArrowDown"],vW=[" ","Enter"],Gi="Select",[Bh,zh,xW]=Iy(Gi),[Ko,D7]=fn(Gi,[xW,Fo]),Wh=Fo(),[wW,ri]=Ko(Gi),[bW,SW]=Ko(Gi),kT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:m,form:v}=e,g=Wh(t),[y,w]=p.useState(null),[x,b]=p.useState(null),[S,_]=p.useState(!1),j=Uh(u),[k,C]=Br({prop:r,defaultProp:s??!1,onChange:i,caller:Gi}),[T,E]=Br({prop:a,defaultProp:l,onChange:c,caller:Gi}),O=p.useRef(null),P=y?v||!!y.closest("form"):!0,[W,I]=p.useState(new Set),Q=Array.from(W).map(F=>F.props.value).join(";");return o.jsx(Vk,{...g,children:o.jsxs(wW,{required:m,scope:t,trigger:y,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Mr(),value:T,onValueChange:E,open:k,onOpenChange:C,dir:j,triggerPointerDownPosRef:O,disabled:f,children:[o.jsx(Bh.Provider,{scope:t,children:o.jsx(bW,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(F=>{I(U=>new Set(U).add(F))},[]),onNativeOptionRemove:p.useCallback(F=>{I(U=>{const R=new Set(U);return R.delete(F),R})},[]),children:n})}),P?o.jsxs(YT,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:F=>E(F.target.value),disabled:f,form:v,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(W)]},Q):null]})})};kT.displayName=Gi;var CT="SelectTrigger",NT=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Wh(n),a=ri(CT,n),l=a.disabled||r,c=ye(t,a.onTriggerChange),u=zh(n),d=p.useRef("touch"),[h,f,m]=XT(g=>{const y=u().filter(b=>!b.disabled),w=y.find(b=>b.value===a.value),x=ZT(y,g,w);x!==void 0&&a.onValueChange(x.value)}),v=g=>{l||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(kh,{asChild:!0,...i,children:o.jsx(te.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QT(a.value)?"":void 0,...s,ref:c,onClick:Y(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Y(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Y(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&yW.includes(g.key)&&(v(),g.preventDefault())})})})});NT.displayName=CT;var ET="SelectValue",TT=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=e,c=ri(ET,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ye(t,c.onValueNodeChange);return rt(()=>{u(d)},[u,d]),o.jsx(te.span,{...l,ref:h,style:{pointerEvents:"none"},children:QT(c.value)?o.jsx(o.Fragment,{children:a}):i})});TT.displayName=ET;var _W="SelectIcon",PT=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(te.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});PT.displayName=_W;var jW="SelectPortal",RT=e=>o.jsx(Oc,{asChild:!0,...e});RT.displayName=jW;var Yi="SelectContent",AT=p.forwardRef((e,t)=>{const n=ri(Yi,e.__scopeSelect),[r,s]=p.useState();if(rt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ji.createPortal(o.jsx(OT,{scope:e.__scopeSelect,children:o.jsx(Bh.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(IT,{...e,ref:t})});AT.displayName=Yi;var Un=10,[OT,si]=Ko(Yi),kW="SelectContentImpl",CW=zi("SelectContent.RemoveScroll"),IT=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y,...w}=e,x=ri(Yi,n),[b,S]=p.useState(null),[_,j]=p.useState(null),k=ye(t,z=>S(z)),[C,T]=p.useState(null),[E,O]=p.useState(null),P=zh(n),[W,I]=p.useState(!1),Q=p.useRef(!1);p.useEffect(()=>{if(b)return Qv(b)},[b]),Yv();const F=p.useCallback(z=>{const[Ee,...Ye]=P().map(je=>je.ref.current),[Ce]=Ye.slice(-1),be=document.activeElement;for(const je of z)if(je===be||(je==null||je.scrollIntoView({block:"nearest"}),je===Ee&&_&&(_.scrollTop=0),je===Ce&&_&&(_.scrollTop=_.scrollHeight),je==null||je.focus(),document.activeElement!==be))return},[P,_]),U=p.useCallback(()=>F([C,b]),[F,C,b]);p.useEffect(()=>{W&&U()},[W,U]);const{onOpenChange:R,triggerPointerDownPosRef:A}=x;p.useEffect(()=>{if(b){let z={x:0,y:0};const Ee=Ce=>{var be,je;z={x:Math.abs(Math.round(Ce.pageX)-(((be=A.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((je=A.current)==null?void 0:je.y)??0))}},Ye=Ce=>{z.x<=10&&z.y<=10?Ce.preventDefault():b.contains(Ce.target)||R(!1),document.removeEventListener("pointermove",Ee),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[b,R,A]),p.useEffect(()=>{const z=()=>R(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[R]);const[V,ae]=XT(z=>{const Ee=P().filter(be=>!be.disabled),Ye=Ee.find(be=>be.ref.current===document.activeElement),Ce=ZT(Ee,z,Ye);Ce&&setTimeout(()=>Ce.ref.current.focus())}),ee=p.useCallback((z,Ee,Ye)=>{const Ce=!Q.current&&!Ye;(x.value!==void 0&&x.value===Ee||Ce)&&(T(z),Ce&&(Q.current=!0))},[x.value]),fe=p.useCallback(()=>b==null?void 0:b.focus(),[b]),de=p.useCallback((z,Ee,Ye)=>{const Ce=!Q.current&&!Ye;(x.value!==void 0&&x.value===Ee||Ce)&&O(z)},[x.value]),Me=r==="popper"?Ig:DT,Ge=Me===Ig?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return o.jsx(OT,{scope:n,content:b,viewport:_,onViewportChange:j,itemRefCallback:ee,selectedItem:C,onItemLeave:fe,itemTextRefCallback:de,focusSelectedItem:U,selectedItemText:E,position:r,isPositioned:W,searchRef:V,children:o.jsx($h,{as:CW,allowPinchZoom:!0,children:o.jsx(Mh,{asChild:!0,trapped:x.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:Y(s,z=>{var Ee;(Ee=x.trigger)==null||Ee.focus({preventScroll:!0}),z.preventDefault()}),children:o.jsx(Oo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(Me,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:z=>z.preventDefault(),...w,...Ge,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Y(w.onKeyDown,z=>{const Ee=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!Ee&&z.key.length===1&&ae(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let Ce=P().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(z.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const be=z.target,je=Ce.indexOf(be);Ce=Ce.slice(je+1)}setTimeout(()=>F(Ce)),z.preventDefault()}})})})})})})});IT.displayName=kW;var NW="SelectItemAlignedPosition",DT=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=ri(Yi,n),a=si(Yi,n),[l,c]=p.useState(null),[u,d]=p.useState(null),h=ye(t,k=>d(k)),f=zh(n),m=p.useRef(!1),v=p.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:w,focusSelectedItem:x}=a,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&y&&w){const k=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),E=w.getBoundingClientRect();if(i.dir!=="rtl"){const be=E.left-C.left,je=T.left-be,St=k.left-je,pn=k.width+St,ii=Math.max(pn,C.width),Qr=window.innerWidth-Un,ai=Og(je,[Un,Math.max(Un,Qr-ii)]);l.style.minWidth=pn+"px",l.style.left=ai+"px"}else{const be=C.right-E.right,je=window.innerWidth-T.right-be,St=window.innerWidth-k.right-je,pn=k.width+St,ii=Math.max(pn,C.width),Qr=window.innerWidth-Un,ai=Og(je,[Un,Math.max(Un,Qr-ii)]);l.style.minWidth=pn+"px",l.style.right=ai+"px"}const O=f(),P=window.innerHeight-Un*2,W=g.scrollHeight,I=window.getComputedStyle(u),Q=parseInt(I.borderTopWidth,10),F=parseInt(I.paddingTop,10),U=parseInt(I.borderBottomWidth,10),R=parseInt(I.paddingBottom,10),A=Q+F+W+R+U,V=Math.min(y.offsetHeight*5,A),ae=window.getComputedStyle(g),ee=parseInt(ae.paddingTop,10),fe=parseInt(ae.paddingBottom,10),de=k.top+k.height/2-Un,Me=P-de,Ge=y.offsetHeight/2,z=y.offsetTop+Ge,Ee=Q+F+z,Ye=A-Ee;if(Ee<=de){const be=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const je=u.clientHeight-g.offsetTop-g.offsetHeight,St=Math.max(Me,Ge+(be?fe:0)+je+U),pn=Ee+St;l.style.height=pn+"px"}else{const be=O.length>0&&y===O[0].ref.current;l.style.top="0px";const St=Math.max(de,Q+g.offsetTop+(be?ee:0)+Ge)+Ye;l.style.height=St+"px",g.scrollTop=Ee-de+g.offsetTop}l.style.margin=`${Un}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,y,w,i.dir,r]);rt(()=>b(),[b]);const[S,_]=p.useState();rt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=p.useCallback(k=>{k&&v.current===!0&&(b(),x==null||x(),v.current=!1)},[b,x]);return o.jsx(TW,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(te.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});DT.displayName=NW;var EW="SelectPopperPosition",Ig=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Un,...i}=e,a=Wh(n);return o.jsx(tv,{...a,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ig.displayName=EW;var[TW,ix]=Ko(Yi,{}),Dg="SelectViewport",MT=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=si(Dg,n),a=ix(Dg,n),l=ye(t,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Bh.Slot,{scope:n,children:o.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-Un*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),w=Math.max(g,y);if(w<v){const x=w+m,b=Math.min(v,x),S=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});MT.displayName=Dg;var LT="SelectGroup",[PW,RW]=Ko(LT),AW=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Mr();return o.jsx(PW,{scope:n,id:s,children:o.jsx(te.div,{role:"group","aria-labelledby":s,...r,ref:t})})});AW.displayName=LT;var $T="SelectLabel",FT=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=RW($T,n);return o.jsx(te.div,{id:s.id,...r,ref:t})});FT.displayName=$T;var Zd="SelectItem",[OW,UT]=Ko(Zd),VT=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=e,l=ri(Zd,n),c=si(Zd,n),u=l.value===r,[d,h]=p.useState(i??""),[f,m]=p.useState(!1),v=ye(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),g=Mr(),y=p.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(OW,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(Bh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(te.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:v,onFocus:Y(a.onFocus,()=>m(!0)),onBlur:Y(a.onBlur,()=>m(!1)),onClick:Y(a.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Y(a.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Y(a.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:Y(a.onPointerMove,x=>{var b;y.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(a.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Y(a.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(vW.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});VT.displayName=Zd;var bl="SelectItemText",BT=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,a=ri(bl,n),l=si(bl,n),c=UT(bl,n),u=SW(bl,n),[d,h]=p.useState(null),f=ye(t,w=>h(w),c.onItemTextChange,w=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return rt(()=>(g(v),()=>y(v)),[g,y,v]),o.jsxs(o.Fragment,{children:[o.jsx(te.span,{id:c.textId,...i,ref:f}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ji.createPortal(i.children,a.valueNode):null]})});BT.displayName=bl;var zT="SelectItemIndicator",WT=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return UT(zT,n).isSelected?o.jsx(te.span,{"aria-hidden":!0,...r,ref:t}):null});WT.displayName=zT;var Mg="SelectScrollUpButton",HT=p.forwardRef((e,t)=>{const n=si(Mg,e.__scopeSelect),r=ix(Mg,e.__scopeSelect),[s,i]=p.useState(!1),a=ye(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(KT,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});HT.displayName=Mg;var Lg="SelectScrollDownButton",qT=p.forwardRef((e,t)=>{const n=si(Lg,e.__scopeSelect),r=ix(Lg,e.__scopeSelect),[s,i]=p.useState(!1),a=ye(t,r.onScrollButtonChange);return rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(KT,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qT.displayName=Lg;var KT=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=si("SelectScrollButton",n),a=p.useRef(null),l=zh(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),rt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(te.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Y(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{c()})})}),IW="SelectSeparator",GT=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(te.div,{"aria-hidden":!0,...r,ref:t})});GT.displayName=IW;var $g="SelectArrow",DW=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Wh(n),i=ri($g,n),a=si($g,n);return i.open&&a.position==="popper"?o.jsx(nv,{...s,...r,ref:t}):null});DW.displayName=$g;var MW="SelectBubbleInput",YT=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),i=ye(r,s),a=sx(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(te.select,{...n,style:{...Pj,...n.style},ref:i,defaultValue:t})});YT.displayName=MW;function QT(e){return e===""||e===void 0}function XT(e){const t=ot(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ZT(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let a=LW(e,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function LW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $W=kT,JT=NT,FW=TT,UW=PT,VW=RT,eP=AT,BW=MT,tP=FT,nP=VT,zW=BT,WW=WT,rP=HT,sP=qT,iP=GT;const Qn=$W,Xn=FW,jn=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(JT,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(UW,{asChild:!0,children:o.jsx(tk,{className:"h-4 w-4 opacity-50"})})]}));jn.displayName=JT.displayName;const aP=p.forwardRef(({className:e,...t},n)=>o.jsx(rP,{ref:n,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(sI,{className:"h-4 w-4"})}));aP.displayName=rP.displayName;const oP=p.forwardRef(({className:e,...t},n)=>o.jsx(sP,{ref:n,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(tk,{className:"h-4 w-4"})}));oP.displayName=sP.displayName;const kn=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(VW,{children:o.jsxs(eP,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(aP,{}),o.jsx(BW,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(oP,{})]})}));kn.displayName=eP.displayName;const HW=p.forwardRef(({className:e,...t},n)=>o.jsx(tP,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));HW.displayName=tP.displayName;const Tt=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(nP,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(WW,{children:o.jsx(ek,{className:"h-4 w-4"})})}),o.jsx(zW,{children:t})]}));Tt.displayName=nP.displayName;const qW=p.forwardRef(({className:e,...t},n)=>o.jsx(iP,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));qW.displayName=iP.displayName;var Hh="Dialog",[lP,M7]=fn(Hh),[KW,ir]=lP(Hh),cP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Br({prop:r,defaultProp:s??!1,onChange:i,caller:Hh});return o.jsx(KW,{scope:t,triggerRef:l,contentRef:c,contentId:Mr(),titleId:Mr(),descriptionId:Mr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};cP.displayName=Hh;var uP="DialogTrigger",dP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(uP,n),i=ye(t,s.triggerRef);return o.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lx(s.open),...r,ref:i,onClick:Y(e.onClick,s.onOpenToggle)})});dP.displayName=uP;var ax="DialogPortal",[GW,hP]=lP(ax,{forceMount:void 0}),fP=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=ir(ax,t);return o.jsx(GW,{scope:t,forceMount:n,children:p.Children.map(r,a=>o.jsx(Zt,{present:n||i.open,children:o.jsx(Oc,{asChild:!0,container:s,children:a})}))})};fP.displayName=ax;var Jd="DialogOverlay",mP=p.forwardRef((e,t)=>{const n=hP(Jd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=ir(Jd,e.__scopeDialog);return i.modal?o.jsx(Zt,{present:r||i.open,children:o.jsx(QW,{...s,ref:t})}):null});mP.displayName=Jd;var YW=zi("DialogOverlay.RemoveScroll"),QW=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(Jd,n);return o.jsx($h,{as:YW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(te.div,{"data-state":lx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qi="DialogContent",pP=p.forwardRef((e,t)=>{const n=hP(Qi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=ir(Qi,e.__scopeDialog);return o.jsx(Zt,{present:r||i.open,children:i.modal?o.jsx(XW,{...s,ref:t}):o.jsx(ZW,{...s,ref:t})})});pP.displayName=Qi;var XW=p.forwardRef((e,t)=>{const n=ir(Qi,e.__scopeDialog),r=p.useRef(null),s=ye(t,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return Qv(i)},[]),o.jsx(gP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Y(e.onFocusOutside,i=>i.preventDefault())})}),ZW=p.forwardRef((e,t)=>{const n=ir(Qi,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(gP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gP=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=e,l=ir(Qi,n),c=p.useRef(null),u=ye(t,c);return Yv(),o.jsxs(o.Fragment,{children:[o.jsx(Mh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Oo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lx(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(JW,{titleId:l.titleId}),o.jsx(tH,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ox="DialogTitle",yP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(ox,n);return o.jsx(te.h2,{id:s.titleId,...r,ref:t})});yP.displayName=ox;var vP="DialogDescription",xP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(vP,n);return o.jsx(te.p,{id:s.descriptionId,...r,ref:t})});xP.displayName=vP;var wP="DialogClose",bP=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=ir(wP,n);return o.jsx(te.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});bP.displayName=wP;function lx(e){return e?"open":"closed"}var SP="DialogTitleWarning",[L7,_P]=oO(SP,{contentName:Qi,titleName:ox,docsSlug:"dialog"}),JW=({titleId:e})=>{const t=_P(SP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},eH="DialogDescriptionWarning",tH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_P(eH).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},nH=cP,rH=dP,sH=fP,jP=mP,kP=pP,CP=yP,NP=xP,iH=bP;const qh=nH,cx=rH,aH=sH,EP=p.forwardRef(({className:e,...t},n)=>o.jsx(jP,{ref:n,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));EP.displayName=jP.displayName;const Wc=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(aH,{children:[o.jsx(EP,{}),o.jsxs(kP,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(iH,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Do,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wc.displayName=kP.displayName;const Hc=({className:e,...t})=>o.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Hc.displayName="DialogHeader";const qc=p.forwardRef(({className:e,...t},n)=>o.jsx(CP,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));qc.displayName=CP.displayName;const oH=p.forwardRef(({className:e,...t},n)=>o.jsx(NP,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));oH.displayName=NP.displayName;var Kh="Switch",[lH,$7]=fn(Kh),[cH,uH]=lH(Kh),TP=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=p.useState(null),v=ye(t,b=>m(b)),g=p.useRef(!1),y=f?d||!!f.closest("form"):!0,[w,x]=Br({prop:s,defaultProp:i??!1,onChange:u,caller:Kh});return o.jsxs(cH,{scope:n,checked:w,disabled:l,children:[o.jsx(te.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":OP(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:Y(e.onClick,b=>{x(S=>!S),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&o.jsx(AP,{control:f,bubbles:!g.current,name:r,value:c,checked:w,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});TP.displayName=Kh;var PP="SwitchThumb",RP=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=uH(PP,n);return o.jsx(te.span,{"data-state":OP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});RP.displayName=PP;var dH="SwitchBubbleInput",AP=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const a=p.useRef(null),l=ye(a,i),c=sx(n),u=Zy(t);return p.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const v=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(v)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AP.displayName=dH;function OP(e){return e?"checked":"unchecked"}var IP=TP,hH=RP;const ux=p.forwardRef(({className:e,...t},n)=>o.jsx(IP,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:o.jsx(hH,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ux.displayName=IP.displayName;function DP(){return Rt({queryKey:["admin-classes"],queryFn:async()=>{const{data:e,error:t}=await K.from("classes").select("*").order("day_of_week");if(t)throw t;return e}})}function fH(){const e=mn();return rr({mutationFn:async t=>{const{data:n,error:r}=await K.from("classes").insert(t).select().single();if(r)throw r;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-classes"]}),e.invalidateQueries({queryKey:["classes"]})}})}function mH(){const e=mn();return rr({mutationFn:async({id:t,...n})=>{const{data:r,error:s}=await K.from("classes").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-classes"]}),e.invalidateQueries({queryKey:["classes"]})}})}function pH(){const e=mn();return rr({mutationFn:async t=>{const{error:n}=await K.from("classes").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-classes"]}),e.invalidateQueries({queryKey:["classes"]})}})}function gH(){return Rt({queryKey:["admin-announcements"],queryFn:async()=>{const{data:e,error:t}=await K.from("announcements").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}})}function yH(){const e=mn();return rr({mutationFn:async t=>{const{data:n,error:r}=await K.from("announcements").insert(t).select().single();if(r)throw r;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-announcements"]}),e.invalidateQueries({queryKey:["announcements"]})}})}function vH(){const e=mn();return rr({mutationFn:async({id:t,...n})=>{const{data:r,error:s}=await K.from("announcements").update(n).eq("id",t).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-announcements"]}),e.invalidateQueries({queryKey:["announcements"]})}})}function xH(){const e=mn();return rr({mutationFn:async t=>{const{error:n}=await K.from("announcements").delete().eq("id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-announcements"]}),e.invalidateQueries({queryKey:["announcements"]})}})}function wH(e){return Rt({queryKey:["attendance",e],queryFn:async()=>{let t=K.from("attendance").select(`
          *,
          classes(title, program)
        `).order("attended_at",{ascending:!1});const{data:n,error:r}=await t.limit(100);if(r)throw r;return n}})}function bH(){const e=mn();return rr({mutationFn:async({class_id:t,user_id:n})=>{const{data:r,error:s}=await K.from("attendance").insert({class_id:t,user_id:n}).select().single();if(s)throw s;return r},onSuccess:()=>{e.invalidateQueries({queryKey:["attendance"]})}})}function MP(){return Rt({queryKey:["all-students"],queryFn:async()=>{const{data:e,error:t}=await K.from("profiles").select("*").order("full_name");if(t)throw t;return e||[]}})}function LP(){return Rt({queryKey:["analytics"],queryFn:async()=>{const{count:e}=await K.from("profiles").select("*",{count:"exact",head:!0}),{count:t}=await K.from("classes").select("*",{count:"exact",head:!0}).eq("is_active",!0),n=new Date;n.setDate(1),n.setHours(0,0,0,0);const{count:r}=await K.from("attendance").select("*",{count:"exact",head:!0}).gte("attended_at",n.toISOString().split("T")[0]),{data:s}=await K.from("profiles").select("id, user_id, belt_rank"),i=(s||[]).reduce((h,f)=>{const m=f.belt_rank||"white";return h[m]=(h[m]||0)+1,h},{}),{data:a}=await K.from("profiles").select("program"),l=(a||[]).reduce((h,{program:f})=>{const m=f||"adults";return h[m]=(h[m]||0)+1,h},{}),c=new Date;c.setDate(c.getDate()-7);const{data:u}=await K.from("attendance").select("attended_at").gte("attended_at",c.toISOString().split("T")[0]),d=(u||[]).reduce((h,{attended_at:f})=>(h[f]=(h[f]||0)+1,h),{});return{studentCount:e||0,classCount:t||0,monthlyAttendance:r||0,beltDistribution:i,programDistribution:l,attendanceByDay:d}}})}function SH(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var dx="ScrollArea",[$P,F7]=fn(dx),[_H,Rn]=$P(dx),FP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,v]=p.useState(null),[g,y]=p.useState(null),[w,x]=p.useState(0),[b,S]=p.useState(0),[_,j]=p.useState(!1),[k,C]=p.useState(!1),T=ye(t,O=>c(O)),E=Uh(s);return o.jsx(_H,{scope:n,type:r,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:S,children:o.jsx(te.div,{dir:E,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});FP.displayName=dx;var UP="ScrollAreaViewport",VP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,a=Rn(UP,n),l=p.useRef(null),c=ye(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(te.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});VP.displayName=UP;var jr="ScrollAreaScrollbar",hx=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Rn(jr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?o.jsx(jH,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(kH,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(BP,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(fx,{...r,ref:t}):null});hx.displayName=jr;var jH=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Rn(jr,e.__scopeScrollArea),[i,a]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Zt,{present:n||i,children:o.jsx(BP,{"data-state":i?"visible":"hidden",...r,ref:t})})}),kH=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Rn(jr,e.__scopeScrollArea),i=e.orientation==="horizontal",a=Yh(()=>c("SCROLL_END"),100),[l,c]=SH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),a()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,a]),o.jsx(Zt,{present:n||l!=="hidden",children:o.jsx(fx,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Y(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Y(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),BP=p.forwardRef((e,t)=>{const n=Rn(jr,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,a]=p.useState(!1),l=e.orientation==="horizontal",c=Yh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return Eo(n.viewport,c),Eo(n.content,c),o.jsx(Zt,{present:r||i,children:o.jsx(fx,{"data-state":i?"visible":"hidden",...s,ref:t})})}),fx=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Rn(jr,e.__scopeScrollArea),i=p.useRef(null),a=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=KP(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,m){return RH(f,a.current,l,m)}return n==="horizontal"?o.jsx(CH,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,m=q1(f,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?o.jsx(NH,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,m=q1(f,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),CH=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Rn(jr,e.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=ye(t,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(WP,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gh(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),YP(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:th(a.paddingLeft),paddingEnd:th(a.paddingRight)}})}})}),NH=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Rn(jr,e.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=ye(t,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(WP,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gh(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),YP(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:th(a.paddingTop),paddingEnd:th(a.paddingBottom)}})}})}),[EH,zP]=$P(jr),WP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Rn(jr,n),[v,g]=p.useState(null),y=ye(t,T=>g(T)),w=p.useRef(null),x=p.useRef(""),b=m.viewport,S=r.content-r.viewport,_=ot(d),j=ot(c),k=Yh(h,10);function C(T){if(w.current){const E=T.clientX-w.current.left,O=T.clientY-w.current.top;u({x:E,y:O})}}return p.useEffect(()=>{const T=E=>{const O=E.target;(v==null?void 0:v.contains(O))&&_(E,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,v,S,_]),p.useEffect(j,[r,j]),Eo(v,k),Eo(m.content,k),o.jsx(EH,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:ot(i),onThumbPointerUp:ot(a),onThumbPositionChange:j,onThumbPointerDown:ot(l),children:o.jsx(te.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:Y(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),w.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(T))}),onPointerMove:Y(e.onPointerMove,C),onPointerUp:Y(e.onPointerUp,T=>{const E=T.target;E.hasPointerCapture(T.pointerId)&&E.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),eh="ScrollAreaThumb",HP=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=zP(eh,e.__scopeScrollArea);return o.jsx(Zt,{present:n||s.hasThumb,children:o.jsx(TH,{ref:t,...r})})}),TH=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Rn(eh,n),a=zP(eh,n),{onThumbPositionChange:l}=a,c=ye(t,h=>a.onThumbChange(h)),u=p.useRef(void 0),d=Yh(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const m=AH(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),o.jsx(te.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Y(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),v=h.clientX-m.left,g=h.clientY-m.top;a.onThumbPointerDown({x:v,y:g})}),onPointerUp:Y(e.onPointerUp,a.onThumbPointerUp)})});HP.displayName=eh;var mx="ScrollAreaCorner",qP=p.forwardRef((e,t)=>{const n=Rn(mx,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(PH,{...e,ref:t}):null});qP.displayName=mx;var PH=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Rn(mx,n),[i,a]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return Eo(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Eo(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?o.jsx(te.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function th(e){return e?parseInt(e,10):0}function KP(e,t){const n=e/t;return isNaN(n)?0:n}function Gh(e){const t=KP(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function RH(e,t,n,r="ltr"){const s=Gh(n),i=s/2,a=t||i,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return GP([c,u],h)(e)}function q1(e,t,n="ltr"){const r=Gh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,a=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,a]:[a*-1,0],u=Og(e,c);return GP([0,a],[0,l])(u)}function GP(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function YP(e,t){return e>0&&e<t}var AH=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Yh(e,t){const n=ot(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Eo(e,t){const n=ot(t);rt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var QP=FP,OH=VP,IH=qP;const XP=p.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(QP,{ref:r,className:le("relative overflow-hidden",e),...n,children:[o.jsx(OH,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(ZP,{}),o.jsx(IH,{})]}));XP.displayName=QP.displayName;const ZP=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(hx,{ref:r,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(HP,{className:"relative flex-1 rounded-full bg-border"})}));ZP.displayName=hx.displayName;const K1=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],DH=["kids","teens","adults","family"],MH=["beginner","intermediate","advanced","all"],LH=["Main Dojo","Training Room A","Training Room B","Outdoor Area"],bm={title:"",description:"",program:"adults",level:"all",location:"Main Dojo",day_of_week:"Monday",start_time:"09:00",end_time:"10:00",capacity:20};function G1(){const{data:e,isLoading:t}=DP(),{data:n}=$9(),r=fH(),s=mH(),i=pH(),{toast:a}=sr(),[l,c]=p.useState(!1),[u,d]=p.useState(null),[h,f]=p.useState(bm),[m,v]=p.useState(null),g=async S=>{S.preventDefault();try{u?(await s.mutateAsync({id:u,...h}),a({title:"Class updated successfully!"})):(await r.mutateAsync(h),a({title:"Class created successfully!"})),c(!1),d(null),f(bm)}catch{a({title:"Error",description:"Failed to save class",variant:"destructive"})}},y=S=>{d(S.id),f({title:S.title,description:S.description||"",program:S.program,level:S.level||"all",location:S.location,day_of_week:S.day_of_week,start_time:S.start_time,end_time:S.end_time,capacity:S.capacity||20}),c(!0)},w=async S=>{if(confirm("Are you sure you want to delete this class?"))try{await i.mutateAsync(S),a({title:"Class deleted successfully!"})}catch{a({title:"Error",description:"Failed to delete class",variant:"destructive"})}},x=async(S,_)=>{try{await s.mutateAsync({id:S,is_active:!_}),a({title:`Class ${_?"deactivated":"activated"}`})}catch{a({title:"Error",description:"Failed to update class status",variant:"destructive"})}},b=(e||[]).reduce((S,_)=>(S[_.day_of_week]||(S[_.day_of_week]=[]),S[_.day_of_week].push(_),S),{});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"CLASS SCHEDULE"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your dojo class schedule"})]}),o.jsxs(qh,{open:l,onOpenChange:S=>{c(S),S||(d(null),f(bm))},children:[o.jsx(cx,{asChild:!0,children:o.jsxs(B,{className:"gap-2",children:[o.jsx(Vy,{className:"w-4 h-4"}),"Add Class"]})}),o.jsxs(Wc,{className:"max-w-md",children:[o.jsx(Hc,{children:o.jsx(qc,{className:"font-display tracking-wide",children:u?"EDIT CLASS":"NEW CLASS"})}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"title",children:"Class Title"}),o.jsx(Gt,{id:"title",value:h.title,onChange:S=>f({...h,title:S.target.value}),placeholder:"e.g., Morning Karate",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"description",children:"Description"}),o.jsx(rx,{id:"description",value:h.description,onChange:S=>f({...h,description:S.target.value}),placeholder:"Class description...",rows:2})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{children:"Program"}),o.jsxs(Qn,{value:h.program,onValueChange:S=>f({...h,program:S}),children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsx(kn,{children:DH.map(S=>o.jsx(Tt,{value:S,className:"capitalize",children:S},S))})]})]}),o.jsxs("div",{children:[o.jsx(Ae,{children:"Level"}),o.jsxs(Qn,{value:h.level,onValueChange:S=>f({...h,level:S}),children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsx(kn,{children:MH.map(S=>o.jsx(Tt,{value:S,className:"capitalize",children:S},S))})]})]})]}),o.jsxs("div",{children:[o.jsx(Ae,{children:"Day"}),o.jsxs(Qn,{value:h.day_of_week,onValueChange:S=>f({...h,day_of_week:S}),children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsx(kn,{children:K1.map(S=>o.jsx(Tt,{value:S,children:S},S))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"start_time",children:"Start Time"}),o.jsx(Gt,{id:"start_time",type:"time",value:h.start_time,onChange:S=>f({...h,start_time:S.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"end_time",children:"End Time"}),o.jsx(Gt,{id:"end_time",type:"time",value:h.end_time,onChange:S=>f({...h,end_time:S.target.value}),required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{children:"Location"}),o.jsxs(Qn,{value:h.location,onValueChange:S=>f({...h,location:S}),children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsx(kn,{children:LH.map(S=>o.jsx(Tt,{value:S,children:S},S))})]})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"capacity",children:"Capacity"}),o.jsx(Gt,{id:"capacity",type:"number",min:1,value:h.capacity,onChange:S=>f({...h,capacity:parseInt(S.target.value)||20})})]})]}),o.jsx(B,{type:"submit",className:"w-full",disabled:r.isPending||s.isPending,children:u?"Update Class":"Create Class"})]})]})]})]}),t?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-6",children:[K1.map(S=>{const _=b[S]||[];return _.length===0?null:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-xl overflow-hidden",children:[o.jsx("div",{className:"bg-muted px-4 py-3 border-b border-border",children:o.jsxs("h3",{className:"font-display text-lg text-foreground tracking-wide flex items-center gap-2",children:[o.jsx(qt,{className:"w-5 h-5 text-primary"}),S.toUpperCase()]})}),o.jsx("div",{className:"divide-y divide-border",children:_.map(j=>o.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 ${j.is_active?"":"opacity-50"}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground",children:j.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ln,{variant:"outline",className:"capitalize",children:j.program}),j.level&&j.level!=="all"&&o.jsx(ln,{variant:"secondary",className:"capitalize",children:j.level})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ta,{className:"w-3 h-3"}),j.start_time.slice(0,5)," - ",j.end_time.slice(0,5)]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(bh,{className:"w-3 h-3"}),j.location]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Io,{className:"w-3 h-3"}),j.capacity," max"]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(B,{variant:"outline",size:"sm",onClick:()=>v(j.id),className:"gap-2",children:[o.jsx(Ka,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"font-semibold",children:(n==null?void 0:n[j.id])||0}),o.jsxs("span",{className:"text-muted-foreground",children:["/ ",j.capacity]})]})}),o.jsxs("div",{className:"flex items-center gap-2 sm:ml-4 sm:pl-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mr-0 sm:mr-4",children:[o.jsx(ux,{checked:j.is_active,onCheckedChange:()=>x(j.id,j.is_active)}),o.jsx("span",{className:"text-xs text-muted-foreground",children:j.is_active?"Active":"Inactive"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>y(j),children:o.jsx(ok,{className:"w-4 h-4"})}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>w(j.id),children:o.jsx(zy,{className:"w-4 h-4 text-destructive"})})]})]})]},j.id))})]},S)}),Object.keys(b).length===0&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(qt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No classes scheduled yet."}),o.jsx("p",{className:"text-sm",children:'Click "Add Class" to create your first class.'})]})]}),o.jsx($H,{classId:m,onClose:()=>v(null),classes:e||[]})]})}function $H({classId:e,onClose:t,classes:n}){const{data:r,isLoading:s}=F9(e||""),i=n.find(a=>a.id===e);return e?o.jsx(qh,{open:!!e,onOpenChange:a=>!a&&t(),children:o.jsxs(Wc,{className:"max-w-md",children:[o.jsxs(Hc,{children:[o.jsx(qc,{className:"font-display tracking-wide",children:"ENROLLED STUDENTS"}),i&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.title," - ",i.day_of_week]})]}),s?o.jsx("div",{className:"py-8 text-center",children:o.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto"})}):r&&r.length>0?o.jsx(XP,{className:"max-h-[300px]",children:o.jsx("div",{className:"space-y-2",children:r.map(a=>{var l,c,u;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:((l=a.profiles)==null?void 0:l.full_name)||"Unknown"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:(c=a.profiles)==null?void 0:c.email})]}),((u=a.profiles)==null?void 0:u.belt_rank)&&o.jsxs(ln,{variant:"outline",className:"capitalize",children:[a.profiles.belt_rank," belt"]})]},a.id)})})}):o.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[o.jsx(Ka,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No students enrolled yet"})]})]})}):null}const Sm={title:"",content:"",priority:"normal",expires_at:"",is_published:!0},FH={low:"bg-muted text-muted-foreground",normal:"bg-primary/10 text-primary",high:"bg-gold/10 text-gold",urgent:"bg-destructive/10 text-destructive"};function UH(){const{data:e,isLoading:t}=gH(),n=yH(),r=vH(),s=xH(),{toast:i}=sr(),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,h]=p.useState(Sm),f=async y=>{y.preventDefault();const w={...d,expires_at:d.expires_at||null};try{c?(await r.mutateAsync({id:c,...w}),i({title:"Announcement updated successfully!"})):(await n.mutateAsync(w),i({title:"Announcement created successfully!"})),l(!1),u(null),h(Sm)}catch{i({title:"Error",description:"Failed to save announcement",variant:"destructive"})}},m=y=>{var w;u(y.id),h({title:y.title,content:y.content,priority:y.priority||"normal",expires_at:((w=y.expires_at)==null?void 0:w.split("T")[0])||"",is_published:y.is_published}),l(!0)},v=async y=>{if(confirm("Are you sure you want to delete this announcement?"))try{await s.mutateAsync(y),i({title:"Announcement deleted successfully!"})}catch{i({title:"Error",description:"Failed to delete announcement",variant:"destructive"})}},g=async(y,w)=>{try{await r.mutateAsync({id:y,is_published:!w}),i({title:`Announcement ${w?"unpublished":"published"}`})}catch{i({title:"Error",description:"Failed to update announcement",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"ANNOUNCEMENTS"}),o.jsx("p",{className:"text-muted-foreground",children:"Create and manage dojo announcements"})]}),o.jsxs(qh,{open:a,onOpenChange:y=>{l(y),y||(u(null),h(Sm))},children:[o.jsx(cx,{asChild:!0,children:o.jsxs(B,{className:"gap-2",children:[o.jsx(Vy,{className:"w-4 h-4"}),"New Announcement"]})}),o.jsxs(Wc,{className:"max-w-md",children:[o.jsx(Hc,{children:o.jsx(qc,{className:"font-display tracking-wide",children:c?"EDIT ANNOUNCEMENT":"NEW ANNOUNCEMENT"})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"title",children:"Title"}),o.jsx(Gt,{id:"title",value:d.title,onChange:y=>h({...d,title:y.target.value}),placeholder:"Announcement title...",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"content",children:"Content"}),o.jsx(rx,{id:"content",value:d.content,onChange:y=>h({...d,content:y.target.value}),placeholder:"Announcement details...",rows:4,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{children:"Priority"}),o.jsxs(Qn,{value:d.priority,onValueChange:y=>h({...d,priority:y}),children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsxs(kn,{children:[o.jsx(Tt,{value:"low",children:"Low"}),o.jsx(Tt,{value:"normal",children:"Normal"}),o.jsx(Tt,{value:"high",children:"High"}),o.jsx(Tt,{value:"urgent",children:"Urgent"})]})]})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"expires_at",children:"Expires (optional)"}),o.jsx(Gt,{id:"expires_at",type:"date",value:d.expires_at,onChange:y=>h({...d,expires_at:y.target.value})})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ux,{id:"is_published",checked:d.is_published,onCheckedChange:y=>h({...d,is_published:y})}),o.jsx(Ae,{htmlFor:"is_published",children:"Publish immediately"})]}),o.jsx(B,{type:"submit",className:"w-full",disabled:n.isPending||r.isPending,children:c?"Update Announcement":"Create Announcement"})]})]})]})]}),t?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-4",children:[(e||[]).map(y=>o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-card border border-border rounded-xl p-4 ${y.is_published?"":"opacity-60"}`,children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(kd,{className:"w-4 h-4 text-primary"}),o.jsx("h3",{className:"font-medium text-foreground",children:y.title}),o.jsx(ln,{className:FH[y.priority||"normal"],children:y.priority||"normal"}),!y.is_published&&o.jsxs(ln,{variant:"outline",className:"gap-1",children:[o.jsx(bp,{className:"w-3 h-3"}),"Draft"]})]}),o.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:y.content}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ta,{className:"w-3 h-3"}),ex(new Date(y.created_at),{addSuffix:!0})]}),y.expires_at&&o.jsxs("span",{children:["Expires: ",GE(new Date(y.expires_at),"MMM d, yyyy")]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>g(y.id,y.is_published),children:y.is_published?o.jsx(nk,{className:"w-4 h-4"}):o.jsx(bp,{className:"w-4 h-4"})}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>m(y),children:o.jsx(ok,{className:"w-4 h-4"})}),o.jsx(B,{variant:"ghost",size:"icon",onClick:()=>v(y.id),children:o.jsx(zy,{className:"w-4 h-4 text-destructive"})})]})]})},y.id)),(e||[]).length===0&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(kd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No announcements yet."}),o.jsx("p",{className:"text-sm",children:'Click "New Announcement" to create one.'})]})]})]})}function VH(){const{data:e,isLoading:t}=wH(),{data:n}=MP(),{data:r}=DP(),s=bH(),{toast:i}=sr(),[a,l]=p.useState(!1),[c,u]=p.useState(""),[d,h]=p.useState(""),[f,m]=p.useState(""),[v,g]=p.useState("all"),y=async()=>{if(!c||!d){i({title:"Please select both class and student",variant:"destructive"});return}try{await s.mutateAsync({class_id:c,user_id:d}),i({title:"Attendance recorded successfully!"}),l(!1),u(""),h("")}catch(_){i({title:"Error",description:_.message||"Failed to record attendance",variant:"destructive"})}},w=(n||[]).reduce((_,j)=>(_[j.user_id]=j,_),{}),b=(e||[]).filter(_=>{var T,E,O;const j=w[_.user_id],k=!f||((T=j==null?void 0:j.full_name)==null?void 0:T.toLowerCase().includes(f.toLowerCase()))||((O=(E=_.classes)==null?void 0:E.title)==null?void 0:O.toLowerCase().includes(f.toLowerCase())),C=v==="all"||_.class_id===v;return k&&C}).reduce((_,j)=>{const k=j.attended_at;return _[k]||(_[k]=[]),_[k].push(j),_},{}),S=(r||[]).filter(_=>_.is_active);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"ATTENDANCE"}),o.jsx("p",{className:"text-muted-foreground",children:"Track student class attendance"})]}),o.jsxs(qh,{open:a,onOpenChange:l,children:[o.jsx(cx,{asChild:!0,children:o.jsxs(B,{className:"gap-2",children:[o.jsx(Ka,{className:"w-4 h-4"}),"Record Attendance"]})}),o.jsxs(Wc,{className:"max-w-md",children:[o.jsx(Hc,{children:o.jsx(qc,{className:"font-display tracking-wide",children:"RECORD ATTENDANCE"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{children:"Select Class"}),o.jsxs(Qn,{value:c,onValueChange:u,children:[o.jsx(jn,{children:o.jsx(Xn,{placeholder:"Choose a class..."})}),o.jsx(kn,{children:S.map(_=>o.jsxs(Tt,{value:_.id,children:[_.title," (",_.day_of_week," ",_.start_time.slice(0,5),")"]},_.id))})]})]}),o.jsxs("div",{children:[o.jsx(Ae,{children:"Select Student"}),o.jsxs(Qn,{value:d,onValueChange:h,children:[o.jsx(jn,{children:o.jsx(Xn,{placeholder:"Choose a student..."})}),o.jsx(kn,{children:(n||[]).map(_=>o.jsxs(Tt,{value:_.user_id,children:[_.full_name,o.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",_.belt_level||_.belt_rank||"white"," belt)"]})]},_.user_id))})]})]}),o.jsx(B,{onClick:y,className:"w-full",disabled:s.isPending,children:"Record Attendance"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(ak,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(Gt,{placeholder:"Search by student or class...",value:f,onChange:_=>m(_.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lI,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs(Qn,{value:v,onValueChange:g,children:[o.jsx(jn,{className:"w-48",children:o.jsx(Xn,{placeholder:"Filter by class"})}),o.jsxs(kn,{children:[o.jsx(Tt,{value:"all",children:"All Classes"}),S.map(_=>o.jsx(Tt,{value:_.id,children:_.title},_.id))]})]})]})]}),t?o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-6",children:[Object.entries(b).map(([_,j])=>o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-xl overflow-hidden",children:[o.jsxs("div",{className:"bg-muted px-4 py-3 border-b border-border flex items-center justify-between",children:[o.jsxs("h3",{className:"font-display text-lg text-foreground tracking-wide flex items-center gap-2",children:[o.jsx(qt,{className:"w-5 h-5 text-primary"}),GE(new Date(_),"EEEE, MMMM d, yyyy")]}),o.jsxs(ln,{variant:"secondary",children:[j.length," attended"]})]}),o.jsx("div",{className:"divide-y divide-border",children:j.map(k=>{var T,E;const C=w[k.user_id];return o.jsxs("div",{className:"p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Ka,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:(C==null?void 0:C.full_name)||"Unknown Student"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:((T=k.classes)==null?void 0:T.title)||"Unknown Class"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ln,{variant:"outline",className:"capitalize",children:[(C==null?void 0:C.belt_level)||(C==null?void 0:C.belt_rank)||"white"," belt"]}),o.jsx(ln,{variant:"outline",className:"capitalize",children:(E=k.classes)==null?void 0:E.program})]})]},k.id)})})]},_)),Object.keys(b).length===0&&o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Ka,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No attendance records found."}),o.jsx("p",{className:"text-sm",children:"Record attendance when students attend classes."})]})]})]})}const BH={white:"#E5E7EB",yellow:"#FDE047",orange:"#FB923C",green:"#4ADE80",blue:"#60A5FA",purple:"#A78BFA",brown:"#A16207",black:"#1F2937"},zH=["white","yellow","orange","green","blue","purple","brown","black"];function WH(){const{data:e,isLoading:t}=LP();if(t)return o.jsx("div",{className:"text-center py-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"})});const{studentCount:n=0,classCount:r=0,monthlyAttendance:s=0,beltDistribution:i={},programDistribution:a={},attendanceByDay:l={}}=e||{},c=Object.keys(l).length>0?Math.round(Object.values(l).reduce((h,f)=>h+f,0)/Object.keys(l).length):0,u=zH.filter(h=>i[h]>0),d=Math.max(...Object.values(i).map(h=>h),1);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-display text-2xl text-foreground tracking-wide",children:"ANALYTICS"}),o.jsx("p",{className:"text-muted-foreground",children:"Insights into your dojo performance"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:o.jsxs(Kn,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:[o.jsx(lr,{className:"pb-2",children:o.jsxs(cr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(Io,{className:"w-4 h-4"}),"Total Students"]})}),o.jsxs(Gn,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:n}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Registered members"})]})]})}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:o.jsxs(Kn,{className:"bg-gradient-to-br from-gold/10 to-gold/5 border-gold/20",children:[o.jsx(lr,{className:"pb-2",children:o.jsxs(cr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(qt,{className:"w-4 h-4"}),"Active Classes"]})}),o.jsxs(Gn,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:r}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Weekly sessions"})]})]})}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:o.jsxs(Kn,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-500/20",children:[o.jsx(lr,{className:"pb-2",children:o.jsxs(cr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(jp,{className:"w-4 h-4"}),"Monthly Attendance"]})}),o.jsxs(Gn,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:s}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This month"})]})]})}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:o.jsxs(Kn,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5 border-purple-500/20",children:[o.jsx(lr,{className:"pb-2",children:o.jsxs(cr,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[o.jsx(Jj,{className:"w-4 h-4"}),"Avg. Daily Attendance"]})}),o.jsxs(Gn,{children:[o.jsx("p",{className:"text-3xl font-display text-foreground",children:c}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Last 7 days"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:o.jsxs(Kn,{children:[o.jsx(lr,{children:o.jsxs(cr,{className:"font-display tracking-wide flex items-center gap-2",children:[o.jsx($y,{className:"w-5 h-5 text-primary"}),"BELT DISTRIBUTION"]})}),o.jsx(Gn,{children:o.jsxs("div",{className:"space-y-3",children:[u.map(h=>{const f=i[h]||0,m=Math.round(f/d*100);return o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("span",{className:"capitalize text-foreground",children:[h," Belt"]}),o.jsxs("span",{className:"text-muted-foreground",children:[f," students"]})]}),o.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:o.jsx(L.div,{initial:{width:0},animate:{width:`${m}%`},transition:{duration:.5,delay:.5},className:"h-full rounded-full",style:{backgroundColor:BH[h]}})})]},h)}),u.length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No student data available"})]})})]})}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:o.jsxs(Kn,{children:[o.jsx(lr,{children:o.jsxs(cr,{className:"font-display tracking-wide flex items-center gap-2",children:[o.jsx(rI,{className:"w-5 h-5 text-primary"}),"PROGRAM ENROLLMENT"]})}),o.jsx(Gn,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Object.entries(a).map(([h,f],m)=>{const v=["bg-primary","bg-gold","bg-green-500","bg-purple-500"],g=Object.values(a).reduce((w,x)=>w+x,0),y=g>0?Math.round(f/g*100):0;return o.jsxs(L.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6+m*.1},className:"bg-muted/50 rounded-xl p-4 text-center",children:[o.jsx("div",{className:`w-12 h-12 ${v[m%v.length]} rounded-full mx-auto mb-2 flex items-center justify-center`,children:o.jsxs("span",{className:"text-white font-bold text-lg",children:[y,"%"]})}),o.jsx("p",{className:"font-medium capitalize text-foreground",children:h}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[f," students"]})]},h)}),Object.keys(a).length===0&&o.jsx("p",{className:"text-muted-foreground text-center py-4 col-span-2",children:"No program data available"})]})})]})})]}),o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:o.jsxs(Kn,{children:[o.jsx(lr,{children:o.jsxs(cr,{className:"font-display tracking-wide flex items-center gap-2",children:[o.jsx(jp,{className:"w-5 h-5 text-primary"}),"7-DAY ATTENDANCE TREND"]})}),o.jsx(Gn,{children:Object.keys(l).length>0?o.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:Object.entries(l).sort(([h],[f])=>new Date(h).getTime()-new Date(f).getTime()).map(([h,f])=>{const m=Math.max(...Object.values(l).map(y=>y)),v=m>0?f/m*100:0,g=new Date(h).toLocaleDateString("en-US",{weekday:"short"});return o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx(L.div,{initial:{height:0},animate:{height:`${v}%`},transition:{duration:.5,delay:.7},className:"w-full bg-gradient-to-t from-primary to-primary/50 rounded-t-md min-h-[4px]"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:g}),o.jsx("p",{className:"text-xs font-medium text-foreground",children:f})]},h)})}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No attendance data for the past 7 days"})})]})})]})}function HH(){const{user:e,loading:t}=lt(),{isInstructor:n,isLoading:r}=Dh(),s=Ut(),{data:i,isLoading:a}=LP(),{data:l}=MP();return p.useEffect(()=>{!t&&!e&&s("/auth")},[e,t,s]),p.useEffect(()=>{!t&&!r&&e&&!n&&s("/dashboard")},[e,t,r,n,s]),t||r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading instructor panel..."})]})}):!e||!n?null:o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/dashboard",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(ea,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl md:text-2xl text-foreground tracking-wide flex items-center gap-2",children:[o.jsx(By,{className:"w-6 h-6 text-primary"}),"INSTRUCTOR PANEL"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your dojo"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"hidden sm:block",children:o.jsx(YE,{})}),o.jsx(we,{to:"/instructor/profile",children:o.jsxs(B,{variant:"ghost",size:"sm",children:[o.jsx(qt,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),o.jsx(we,{to:"/instructor/classes",children:o.jsxs(B,{variant:"ghost",size:"sm",children:[o.jsx(qt,{className:"w-4 h-4 mr-2"}),"Manage Timetable"]})})]})]})})}),o.jsx("main",{className:"max-w-7xl mx-auto px-6 py-8",children:o.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[o.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 flex items-center justify-between shadow-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Active Students"}),o.jsx("div",{className:"text-xl sm:text-3xl font-medium text-foreground mt-1",children:a?"":(i==null?void 0:i.studentCount)??0})]}),o.jsx(Io,{className:"w-6 sm:w-10 h-6 sm:h-10 text-primary"})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 flex items-center justify-between shadow-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Upcoming Classes"}),o.jsx("div",{className:"text-xl sm:text-3xl font-medium text-foreground mt-1",children:a?"":(i==null?void 0:i.classCount)??0})]}),o.jsx(qt,{className:"w-6 sm:w-10 h-6 sm:h-10 text-primary"})]}),o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 flex items-center justify-between shadow-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Monthly Attendance"}),o.jsx("div",{className:"text-xl sm:text-3xl font-medium text-foreground mt-1",children:a?"":(i==null?void 0:i.monthlyAttendance)??0})]}),o.jsx(aI,{className:"w-6 sm:w-10 h-6 sm:h-10 text-primary"})]})]}),o.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 lg:col-span-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium",children:"Manage Students"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>s("/instructor/users"),children:"Manage"}),o.jsx(we,{to:"/instructor/users",className:"text-sm text-primary",children:"Open User Manager "})]})]}),o.jsxs("div",{className:"space-y-2",children:[(l||[]).slice(0,5).map(c=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:c.full_name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:c.email})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:c.program||""})]},c.id)),(l||[]).length===0&&o.jsx("div",{className:"text-sm text-muted-foreground",children:"No students yet."})]})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 border border-primary/20 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Upload Training Video"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Add a new training video to the library"})]}),o.jsx("div",{children:o.jsx(we,{to:"/instructor/upload",children:o.jsx(B,{children:"Upload"})})})]})})]}),o.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(tT,{}),o.jsx(eT,{})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"font-display text-lg text-foreground",children:"Manage Classes"}),o.jsx(we,{to:"/instructor/classes",className:"text-sm text-primary",children:"Open Class Manager "})]}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsx(G1,{})})]})]}),o.jsxs(gW,{defaultValue:"classes",className:"space-y-6",children:[o.jsxs(jT,{className:"grid grid-cols-4 w-full max-w-2xl",children:[o.jsxs(xl,{value:"classes",className:"gap-2",children:[o.jsx(qt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Classes"})]}),o.jsxs(xl,{value:"announcements",className:"gap-2",children:[o.jsx(kd,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Announcements"})]}),o.jsxs(xl,{value:"attendance",className:"gap-2",children:[o.jsx(Ka,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Attendance"})]}),o.jsxs(xl,{value:"analytics",className:"gap-2",children:[o.jsx(Jj,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]})]}),o.jsx(wl,{value:"classes",children:o.jsx(G1,{})}),o.jsx(wl,{value:"announcements",children:o.jsx(UH,{})}),o.jsx(wl,{value:"attendance",children:o.jsx(VH,{})}),o.jsx(wl,{value:"analytics",children:o.jsx(WH,{})})]})]})})]})}const Y1=["all","competition","kids","adults"];function Q1(e){const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1024&&n<t.length-1;)r/=1024,n++;return`${r.toFixed(1)} ${t[n]}`}function qH(e){const t=e.match(/(?:youtube(?:-nocookie)?\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([A-Za-z0-9_-]{6,})/);return t?t[1]:null}function KH(){const e=p.useRef(null),{user:t,profile:n}=lt(),r=Ut(),{toast:s}=sr(),[i,a]=p.useState("upload"),[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(""),[m,v]=p.useState(""),[g,y]=p.useState(Y1[0]),[w,x]=p.useState(""),[b,S]=p.useState(null),[_,j]=p.useState(!1),k=500*1024*1024;function C(E){S(null);const O=E.target.files&&E.target.files[0];if(O){if(!O.type.startsWith("video/")){S("Please select a valid video file.");return}if(O.size>k){S(`File too large  max ${Q1(k)}.`);return}c(O),d(URL.createObjectURL(O))}}async function T(E){if(E.preventDefault(),S(null),!t){S("You must be signed in to upload.");return}if(!h.trim()){S("Please enter a title for the video.");return}j(!0);try{let O="",P=null;if(i==="youtube"){const F=qH(w.trim());if(!F){S("Invalid YouTube URL"),j(!1);return}O=`https://www.youtube.com/embed/${F}`,P=`https://img.youtube.com/vi/${F}/hqdefault.jpg`}else{if(!l){S("Please select a video file to upload."),j(!1);return}const F=`videos/${t.id}/${Date.now()}_${l.name.replace(/[^a-zA-Z0-9_.-]/g,"_")}`,{error:U}=await K.storage.from("videos").upload(F,l,{upsert:!1});if(U){console.error("Upload error",U),s({title:"Upload failed",description:U.message||"Check storage bucket and permissions",variant:"destructive"}),j(!1);return}const{data:R}=K.storage.from("videos").getPublicUrl(F);O=R.publicUrl}const W={title:h.trim(),description:m.trim()||null,category:g,video_url:O,thumbnail_url:P,is_public:!1,minimum_belt_rank:"white",instructor_name:(n==null?void 0:n.full_name)||t.email||null},{data:I,error:Q}=await K.from("videos").insert(W).select().maybeSingle();if(Q){console.error("Insert error",Q),s({title:"Failed to save video",description:Q.message||void 0,variant:"destructive"}),j(!1);return}s({title:"Video added",description:"Your video is saved to the library"}),f(""),v(""),c(null),d(F=>(F&&URL.revokeObjectURL(F),null)),x(""),r("/instructor/videos")}catch(O){console.error("Upload flow error",O),s({title:"Upload failed",variant:"destructive"})}finally{j(!1)}}return o.jsx("div",{className:"min-h-screen bg-background text-foreground py-8 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto bg-card border border-border rounded-lg shadow p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Instructor  Add Training Video"}),o.jsxs("div",{className:"mb-6 flex gap-2",children:[o.jsx("button",{onClick:()=>a("upload"),className:`px-3 py-2 rounded ${i==="upload"?"bg-primary text-primary-foreground":"bg-muted"}`,children:"Upload File"}),o.jsx("button",{onClick:()=>a("youtube"),className:`px-3 py-2 rounded ${i==="youtube"?"bg-primary text-primary-foreground":"bg-muted"}`,children:"YouTube Link"})]}),o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Title"}),o.jsx("input",{value:h,onChange:E=>f(E.target.value),placeholder:"E.g. Advanced Kicks  Session 3",className:"w-full bg-input border border-border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Description"}),o.jsx("textarea",{value:m,onChange:E=>v(E.target.value),rows:4,placeholder:"Short summary of the video",className:"w-full bg-input border border-border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Program"}),o.jsx("select",{value:g,onChange:E=>y(E.target.value),className:"w-full bg-input border border-border rounded px-3 py-2",children:Y1.map(E=>o.jsx("option",{value:E,children:E},E))})]}),i==="upload"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Video File"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>{var E;return(E=e.current)==null?void 0:E.click()},className:"px-4 py-2 bg-primary text-primary-foreground rounded",children:"Choose File"}),o.jsx("input",{ref:e,type:"file",accept:"video/*",onChange:C,className:"hidden"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:l?`${l.name}  ${Q1(l.size)}`:"No file selected"})]}),u&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"Preview"}),o.jsx("video",{src:u,controls:!0,className:"w-full rounded bg-black"})]})]}),i==="youtube"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-muted-foreground mb-2",children:"YouTube URL"}),o.jsx("input",{value:w,onChange:E=>x(E.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full bg-input border border-border rounded px-3 py-2"})]}),b&&o.jsx("div",{className:"text-sm text-destructive",children:b}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"submit",disabled:_,className:"px-6 py-2 bg-primary text-primary-foreground font-semibold rounded",children:_?"Saving":"Save Video"}),o.jsx("button",{type:"button",onClick:()=>{c(null),u&&(URL.revokeObjectURL(u),d(null)),S(null),x("")},className:"px-4 py-2 bg-muted rounded",children:"Clear"})]})]})]})})}function GH(){const{user:e}=lt(),t=Ut(),{toast:n}=sr(),[r,s]=p.useState([]),[i,a]=p.useState(""),[l,c]=p.useState(!0),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,v]=p.useState(""),[g,y]=p.useState(""),[w,x]=p.useState("info"),[b,S]=p.useState(!1),[_,j]=p.useState(null),k=["white","yellow","orange","green","blue","purple","brown","black"];p.useEffect(()=>{if(!e){t("/auth");return}C()},[e,t]);async function C(){try{const{data:P,error:W}=await K.from("profiles").select("*").order("created_at",{ascending:!1});if(W)throw W;const{data:I}=await K.from("user_roles").select("user_id, role"),Q=new Map((I||[]).map(U=>[U.user_id,U.role])),F=(P||[]).map(U=>({...U,role:Q.get(U.user_id)||"student"}));s(F)}catch(P){console.error("Error loading users:",P)}finally{c(!1)}}const T=p.useMemo(()=>{const P=i.trim().toLowerCase();return P?r.filter(W=>(W.full_name||"").toLowerCase().includes(P)||(W.email||"").toLowerCase().includes(P)||(W.phone||"").includes(P)):r},[i,r]);async function E(P,W,I){try{const{error:Q}=await K.from("profiles").update({belt_rank:I}).eq("id",P);if(Q)throw Q;n({title:"Belt rank updated!"}),await C(),d(null)}catch(Q){console.error("Error updating belt:",Q),n({title:"Failed to update belt rank",variant:"destructive"})}}async function O(P,W){try{const{error:I}=await K.from("profiles").update({program:W}).eq("id",P);if(I)throw I;n({title:"Program updated!"}),await C()}catch(I){console.error("Error updating program:",I),n({title:"Failed to update program",variant:"destructive"})}}return l?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/instructor",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(ea,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl text-foreground flex items-center gap-2",children:[o.jsx(Io,{className:"w-5 h-5 text-primary"}),"MANAGE STUDENTS"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage student profiles"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ak,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx("input",{value:i,onChange:P=>a(P.target.value),placeholder:"Search students...",className:"pl-10 pr-4 py-2 bg-secondary border border-border rounded-lg w-64"})]})]})})}),o.jsxs("main",{className:"max-w-6xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-secondary",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Name"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Email"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Phone"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Role"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Belt"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Program"}),o.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Actions"})]})}),o.jsx("tbody",{children:T.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No students found"})}):T.map(P=>o.jsxs("tr",{className:"border-t border-border hover:bg-secondary/50",children:[o.jsx("td",{className:"p-4",children:P.full_name}),o.jsx("td",{className:"p-4 text-muted-foreground",children:P.email}),o.jsx("td",{className:"p-4 text-muted-foreground",children:P.phone||"-"}),o.jsx("td",{className:"p-4 capitalize",children:P.role}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${P.belt_rank==="black"?"bg-foreground text-background":P.belt_rank==="brown"?"bg-amber-800 text-white":P.belt_rank==="purple"?"bg-purple-600 text-white":P.belt_rank==="blue"?"bg-blue-600 text-white":P.belt_rank==="green"?"bg-green-600 text-white":P.belt_rank==="orange"?"bg-orange-500 text-white":P.belt_rank==="yellow"?"bg-yellow-400 text-black":"bg-gray-100 text-gray-800"}`,children:P.belt_rank||"white"})}),o.jsx("td",{className:"p-4 capitalize",children:P.program||"-"}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:()=>f(P),disabled:b&&(h==null?void 0:h.user_id)===P.user_id,children:b&&(h==null?void 0:h.user_id)===P.user_id?o.jsx("div",{className:"w-3 h-3 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Notify"}),o.jsx(B,{variant:"outline",size:"sm",onClick:()=>d(P),children:"Edit"})]})})]},P.id))})]})})}),u&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"font-display text-lg mb-4",children:"Edit Student"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:u.full_name}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Belt Rank"}),o.jsx("select",{defaultValue:u.belt_rank||"white",id:"belt-select",className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:k.map(P=>o.jsx("option",{value:P,className:"capitalize",children:P},P))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Program"}),o.jsxs("select",{defaultValue:u.program||"adults",id:"program-select",className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:[o.jsx("option",{value:"kids",children:"Kids"}),o.jsx("option",{value:"teens",children:"Teens"}),o.jsx("option",{value:"adults",children:"Adults"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(B,{onClick:async()=>{if(!u)return;const P=document.getElementById("belt-select"),W=document.getElementById("program-select");if(P&&W){j(u.user_id);try{await E(u.id,u.user_id,P.value),await O(u.id,W.value)}finally{j(null)}}},className:"flex-1",disabled:_===(u==null?void 0:u.user_id),children:_===(u==null?void 0:u.user_id)?o.jsx("div",{className:"w-4 h-4 border-2 border-background border-t-transparent rounded-full animate-spin mx-auto"}):"Save Changes"}),o.jsx(B,{variant:"outline",onClick:()=>d(null),disabled:_===(u==null?void 0:u.user_id),children:"Cancel"})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 w-full max-w-md",children:[o.jsx("h2",{className:"font-display text-lg mb-2",children:"Send Notification"}),o.jsxs("p",{className:"text-muted-foreground mb-4",children:["To: ",h.full_name," (",h.email,")"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Title"}),o.jsx("input",{value:m,onChange:P=>v(P.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"Short title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Message"}),o.jsx("textarea",{value:g,onChange:P=>y(P.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg h-28",placeholder:"Write your message to the student"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Type"}),o.jsxs("select",{value:w,onChange:P=>x(P.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:[o.jsx("option",{value:"info",children:"Info"}),o.jsx("option",{value:"reminder",children:"Reminder"}),o.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(B,{onClick:async()=>{if(h){S(!0);try{const{error:P}=await K.from("notifications").insert({user_id:h.user_id,title:m||"Message from instructor",message:g||"",type:w});if(P)throw P;n({title:"Notification sent"}),f(null),v(""),y(""),x("info")}catch(P){console.error("Failed to send notification",P),n({title:"Failed to send notification",variant:"destructive"})}finally{S(!1)}}},className:"flex-1",disabled:b,children:"Send"}),o.jsx(B,{variant:"outline",onClick:()=>f(null),disabled:b,children:"Cancel"})]})]})})]})]})}function YH(){const{user:e}=lt(),t=Ut(),{toast:n}=sr(),[r,s]=p.useState([]),[i,a]=p.useState(!0),[l,c]=p.useState({title:"",program:"adults",location:"",day_of_week:"Monday",start_time:"18:00",end_time:"19:00",capacity:20});p.useEffect(()=>{if(!e){t("/auth");return}u()},[e,t]);async function u(){try{const{data:v,error:g}=await K.from("classes").select("*").eq("instructor_id",e==null?void 0:e.id).order("day_of_week");if(g)throw g;s(v||[])}catch(v){console.error("Error loading classes:",v)}finally{a(!1)}}async function d(){if(e){if(!l.title||!l.location){n({title:"Please fill in all fields",variant:"destructive"});return}try{const{error:v}=await K.from("classes").insert({...l,instructor_id:e.id,is_active:!0});if(v)throw v;n({title:"Class created successfully!"}),c({title:"",program:"adults",location:"",day_of_week:"Monday",start_time:"18:00",end_time:"19:00",capacity:20}),await u()}catch(v){console.error("Error creating class:",v),n({title:"Failed to create class",variant:"destructive"})}}}async function h(v){try{const{error:g}=await K.from("classes").update({is_active:!v.is_active}).eq("id",v.id);if(g)throw g;await u()}catch(g){console.error("Error toggling class:",g)}}async function f(v){if(confirm("Are you sure you want to delete this class?"))try{const{error:g}=await K.from("classes").delete().eq("id",v);if(g)throw g;n({title:"Class deleted"}),await u()}catch(g){console.error("Error deleting class:",g),n({title:"Failed to delete class",variant:"destructive"})}}const m=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return i?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/instructor",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(ea,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl text-foreground flex items-center gap-2",children:[o.jsx(qt,{className:"w-5 h-5 text-primary"}),"MANAGE CLASSES"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and manage your class schedule"})]})]})})}),o.jsx("main",{className:"max-w-6xl mx-auto px-6 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[o.jsxs("h2",{className:"font-display text-lg mb-4 flex items-center gap-2",children:[o.jsx(Vy,{className:"w-5 h-5 text-primary"}),"CREATE NEW CLASS"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Title"}),o.jsx("input",{value:l.title,onChange:v=>c({...l,title:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"e.g. Kids Karate"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Location"}),o.jsx("input",{value:l.location,onChange:v=>c({...l,location:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"e.g. Main Dojo"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Program"}),o.jsxs("select",{value:l.program,onChange:v=>c({...l,program:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:[o.jsx("option",{value:"kids",children:"Kids"}),o.jsx("option",{value:"teens",children:"Teens"}),o.jsx("option",{value:"adults",children:"Adults"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Day"}),o.jsx("select",{value:l.day_of_week,onChange:v=>c({...l,day_of_week:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",children:m.map(v=>o.jsx("option",{value:v,children:v},v))})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Start Time"}),o.jsx("input",{type:"time",value:l.start_time,onChange:v=>c({...l,start_time:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"End Time"}),o.jsx("input",{type:"time",value:l.end_time,onChange:v=>c({...l,end_time:v.target.value}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Capacity"}),o.jsx("input",{type:"number",value:l.capacity,onChange:v=>c({...l,capacity:parseInt(v.target.value)}),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg"})]})]}),o.jsx(B,{variant:"hero",onClick:d,className:"w-full",children:"Create Class"})]})]}),o.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[o.jsx("h2",{className:"font-display text-lg mb-4",children:"YOUR CLASSES"}),r.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No classes created yet. Create your first class!"}):o.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:r.map(v=>o.jsx("div",{className:`p-4 bg-secondary rounded-lg border ${v.is_active?"border-primary/30":"border-border opacity-60"}`,children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:v.title}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.day_of_week,"  ",v.start_time," - ",v.end_time]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.location,"  ",v.program,"  Capacity: ",v.capacity]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:()=>h(v),children:v.is_active?"Deactivate":"Activate"}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>f(v.id),className:"text-destructive",children:o.jsx(zy,{className:"w-4 h-4"})})]})]})},v.id))})]})]})})]})}const QH=()=>{const{data:e,isLoading:t}=sT("all"),[n,r]=p.useState(null),[s,i]=p.useState({}),a=mn(),l=rr({mutationFn:async h=>{const{data:f,error:m}=await K.from("videos").update(h.changes).eq("id",h.id).select().maybeSingle();if(m)throw m;return f},onSuccess:()=>{a.invalidateQueries({queryKey:["videos"]}),r(null)}}),c=rr({mutationFn:async h=>{const{data:f,error:m}=await K.from("videos").select("video_url").eq("id",h).maybeSingle();if(m)throw m;if(f&&f.video_url&&typeof f.video_url=="string")try{const y=f.video_url.match(/\/storage\/v1\/object\/public\/([^\/]+)\/(.+)$/);if(y){const w=y[1],x=decodeURIComponent(y[2]);await K.storage.from(w).remove([x])}}catch(g){console.warn("Failed to remove storage object",g)}const{error:v}=await K.from("videos").delete().eq("id",h);if(v)throw v;return h},onSuccess:()=>a.invalidateQueries({queryKey:["videos"]})}),u=h=>{r(h),i({title:h.title,description:h.description,category:h.category,minimum_belt_rank:h.minimum_belt_rank,is_public:h.is_public})},d=async h=>{h.preventDefault(),n&&await l.mutateAsync({id:n.id,changes:s})};return o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Instructor  Manage Videos"}),t?o.jsx("div",{children:"Loading videos"}):e&&e.length>0?o.jsx("div",{className:"space-y-3",children:e.map(h=>o.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:h.title}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.category,"  ",h.instructor_name||""]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>u(h),className:"px-3 py-1 bg-yellow-600 rounded text-black text-sm",children:"Edit"}),o.jsx("button",{onClick:()=>{confirm("Delete this video? This cannot be undone.")&&c.mutate(h.id)},className:"px-3 py-1 bg-red-600 rounded text-white text-sm",children:"Delete"})]})]},h.id))}):o.jsx("div",{children:"No videos found."}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4",children:o.jsxs("form",{onSubmit:d,className:"bg-white dark:bg-gray-900 rounded max-w-lg w-full p-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Edit Video"}),o.jsx("label",{className:"block text-sm",children:"Title"}),o.jsx("input",{className:"w-full mb-3 p-2 border rounded",value:s.title??"",onChange:h=>i(f=>({...f,title:h.target.value}))}),o.jsx("label",{className:"block text-sm",children:"Description"}),o.jsx("textarea",{className:"w-full mb-3 p-2 border rounded",value:s.description??"",onChange:h=>i(f=>({...f,description:h.target.value}))}),o.jsx("label",{className:"block text-sm",children:"Category"}),o.jsx("input",{className:"w-full mb-3 p-2 border rounded",value:s.category??"",onChange:h=>i(f=>({...f,category:h.target.value}))}),o.jsx("label",{className:"block text-sm",children:"Minimum Belt Rank"}),o.jsx("input",{className:"w-full mb-3 p-2 border rounded",value:s.minimum_belt_rank??"",onChange:h=>i(f=>({...f,minimum_belt_rank:h.target.value}))}),o.jsxs("label",{className:"flex items-center gap-2 mb-4",children:[o.jsx("input",{type:"checkbox",checked:!!s.is_public,onChange:h=>i(f=>({...f,is_public:h.target.checked}))}),o.jsx("span",{className:"text-sm",children:"Public"})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>r(null),className:"px-3 py-1 border rounded",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l.isPending,className:"px-3 py-1 bg-green-600 rounded text-white",children:l.isPending?"Saving":"Save"})]})]})})]})};function XH(){const{user:e,profile:t,refreshProfile:n}=lt(),r=Ut(),{toast:s}=sr(),[i,a]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(!1),[h,f]=p.useState(null),[m,v]=p.useState(null),g=p.useRef(null);p.useEffect(()=>{if(!e){r("/auth");return}t&&(a(t.phone||""),c(t.full_name||""),f(t.avatar_url||null))},[e,t,r]);function y(x){var _;const b=(_=x.target.files)==null?void 0:_[0];if(!b)return;v(b);const S=new FileReader;S.onload=()=>f(String(S.result)),S.readAsDataURL(b)}async function w(){if(e){d(!0);try{let x=(t==null?void 0:t.avatar_url)??null;if(m){const S=`avatars/${e.id}/${Date.now()}_${m.name}`,{error:_}=await K.storage.from("avatars").upload(S,m,{upsert:!0});if(_)console.error("Avatar upload error:",_),s({title:"Avatar upload failed",description:"Check if storage bucket exists",variant:"destructive"});else{const{data:j}=K.storage.from("avatars").getPublicUrl(S);x=j.publicUrl}}const{error:b}=await K.from("profiles").update({full_name:l,phone:i.replace(/\D/g,""),avatar_url:x}).eq("user_id",e.id);if(b)throw b;await n(),s({title:"Profile updated successfully!"})}catch(x){console.error("Save error:",x),s({title:"Failed to save profile",variant:"destructive"})}finally{d(!1)}}}return o.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/instructor",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(ea,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"font-display text-xl text-foreground flex items-center gap-2",children:[o.jsx(Ir,{className:"w-5 h-5 text-primary"}),"EDIT PROFILE"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your instructor profile"})]})]})})}),o.jsx("main",{className:"max-w-4xl mx-auto px-6 py-8",children:o.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-40 h-40 mx-auto bg-secondary rounded-full overflow-hidden mb-4 border-4 border-primary/20",children:h?o.jsx("img",{src:h,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(Ir,{className:"w-16 h-16 text-muted-foreground"})})}),o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx(B,{variant:"outline",size:"sm",onClick:()=>{var x;return(x=g.current)==null?void 0:x.click()},children:"Upload Photo"}),o.jsx("input",{ref:g,type:"file",accept:"image/*",className:"hidden",onChange:y}),h&&o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{v(null),f(null)},children:"Remove"})]})]}),o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),o.jsx("input",{value:l,onChange:x=>c(x.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"Your full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("input",{value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full mt-1 p-3 bg-secondary/50 border border-border rounded-lg text-muted-foreground cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone Number"}),o.jsx("input",{value:i,onChange:x=>a(x.target.value),className:"w-full mt-1 p-3 bg-secondary border border-border rounded-lg",placeholder:"Your phone number"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(B,{variant:"hero",onClick:w,disabled:u,className:"flex-1",children:u?"Saving...":"Save Changes"}),o.jsx(B,{variant:"outline",onClick:()=>r("/instructor"),children:"Cancel"})]})]})]})})})]})}const ZH=["white","yellow","orange","purple","green","brown","black"],X1=["kids","teens","adults"],JH=["Mwiki","Kasarani","Sunton Mwiki"];function e7(){const{user:e,profile:t,refreshProfile:n,loading:r}=lt(),s=Ut(),[i,a]=p.useState("white"),[l,c]=p.useState("adults"),[u,d]=p.useState("Mwiki"),[h,f]=p.useState(""),[m,v]=p.useState(!1),[g,y]=p.useState(null);p.useEffect(()=>{!r&&!e&&s("/auth")},[e,r,s]),p.useEffect(()=>{t&&(t.phone&&f(t.phone),t.belt_rank&&a(t.belt_rank),t.program&&X1.includes(t.program)&&c(t.program),t.location&&d(t.location))},[t]);async function w(x){if(x.preventDefault(),y(null),!!e){v(!0);try{const{error:b}=await K.from("profiles").update({phone:h,belt_rank:i,program:l,location:u}).eq("user_id",e.id);if(b)throw b;await n(),s("/dashboard")}catch(b){y(b.message||String(b))}finally{v(!1)}}}return r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/dashboard",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(ea,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-xl tracking-wide",children:"Complete Your Profile"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up your training preferences"})]})]})})}),o.jsx("main",{className:"max-w-2xl mx-auto px-6 py-12",children:o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:o.jsxs(Kn,{children:[o.jsxs(lr,{children:[o.jsxs(cr,{className:"flex items-center gap-2",children:[o.jsx(Fy,{className:"w-5 h-5 text-primary"}),"Student Onboarding"]}),o.jsx(tx,{children:"Complete your profile so instructors can place you in the right class."})]}),o.jsx(Gn,{children:o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{children:"Full Name"}),o.jsx(Gt,{readOnly:!0,value:(t==null?void 0:t.full_name)??"",className:"bg-muted"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"phone",children:"Phone Number"}),o.jsx(Gt,{id:"phone",value:h,onChange:x=>f(x.target.value),placeholder:"0713..."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for WhatsApp notifications"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{children:"Program"}),o.jsxs(Qn,{value:l,onValueChange:c,children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsx(kn,{children:X1.map(x=>o.jsx(Tt,{value:x,className:"capitalize",children:x},x))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{children:"Training Location"}),o.jsxs(Qn,{value:u,onValueChange:d,children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsx(kn,{children:JH.map(x=>o.jsx(Tt,{value:x,children:x},x))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{children:"Current Belt Rank"}),o.jsxs(Qn,{value:i,onValueChange:a,children:[o.jsx(jn,{children:o.jsx(Xn,{})}),o.jsx(kn,{children:ZH.map(x=>o.jsxs(Tt,{value:x,className:"capitalize",children:[x," belt"]},x))})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Belt assignment will be confirmed by your instructor."})]}),g&&o.jsx("div",{className:"text-sm text-destructive",children:g}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(B,{type:"submit",disabled:m,className:"flex-1",children:m?"Saving...":"Complete Onboarding"}),o.jsx(B,{type:"button",variant:"outline",onClick:()=>s("/dashboard"),children:"Skip for Now"})]})]})})]})})})]})}var Qh="Checkbox",[t7,U7]=fn(Qh),[n7,px]=t7(Qh);function r7(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[f,m]=Br({prop:n,defaultProp:s??!1,onChange:c,caller:Qh}),[v,g]=p.useState(null),[y,w]=p.useState(null),x=p.useRef(!1),b=v?!!a||!!v.closest("form"):!0,S={checked:f,disabled:i,setChecked:m,control:v,setControl:g,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Us(s)?!1:s,isFormControl:b,bubbleInput:y,setBubbleInput:w};return o.jsx(n7,{scope:t,...S,children:s7(h)?h(S):r})}var JP="CheckboxTrigger",eR=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:m,bubbleInput:v}=px(JP,e),g=ye(s,d),y=p.useRef(c);return p.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const x=()=>h(y.current);return w.addEventListener("reset",x),()=>w.removeEventListener("reset",x)}},[i,h]),o.jsx(te.button,{type:"button",role:"checkbox","aria-checked":Us(c)?"mixed":c,"aria-required":u,"data-state":iR(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:g,onKeyDown:Y(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Y(n,w=>{h(x=>Us(x)?!0:!x),v&&m&&(f.current=w.isPropagationStopped(),f.current||w.stopPropagation())})})});eR.displayName=JP;var gx=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return o.jsx(r7,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:f})=>o.jsxs(o.Fragment,{children:[o.jsx(eR,{...h,ref:t,__scopeCheckbox:n}),f&&o.jsx(sR,{__scopeCheckbox:n})]})})});gx.displayName=Qh;var tR="CheckboxIndicator",nR=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=px(tR,n);return o.jsx(Zt,{present:r||Us(i.checked)||i.checked===!0,children:o.jsx(te.span,{"data-state":iR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});nR.displayName=tR;var rR="CheckboxBubbleInput",sR=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:f,setBubbleInput:m}=px(rR,e),v=ye(n,m),g=sx(i),y=Zy(r);p.useEffect(()=>{const x=f;if(!x)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,j=!s.current;if(g!==i&&_){const k=new Event("click",{bubbles:j});x.indeterminate=Us(i),_.call(x,Us(i)?!1:i),x.dispatchEvent(k)}},[f,g,i,s]);const w=p.useRef(Us(i)?!1:i);return o.jsx(te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:v,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});sR.displayName=rR;function s7(e){return typeof e=="function"}function Us(e){return e==="indeterminate"}function iR(e){return Us(e)?"indeterminate":e?"checked":"unchecked"}const aR=p.forwardRef(({className:e,...t},n)=>o.jsx(gx,{ref:n,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(nR,{className:le("flex items-center justify-center text-current"),children:o.jsx(ek,{className:"h-4 w-4"})})}));aR.displayName=gx.displayName;var oR={exports:{}},lR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=p;function i7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a7=typeof Object.is=="function"?Object.is:i7,o7=To.useState,l7=To.useEffect,c7=To.useLayoutEffect,u7=To.useDebugValue;function d7(e,t){var n=t(),r=o7({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return c7(function(){s.value=n,s.getSnapshot=t,_m(s)&&i({inst:s})},[e,n,t]),l7(function(){return _m(s)&&i({inst:s}),e(function(){_m(s)&&i({inst:s})})},[e]),u7(n),n}function _m(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a7(e,n)}catch{return!0}}function h7(e,t){return t()}var f7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h7:d7;lR.useSyncExternalStore=To.useSyncExternalStore!==void 0?To.useSyncExternalStore:f7;oR.exports=lR;var m7=oR.exports;function p7(){return m7.useSyncExternalStore(g7,()=>!0,()=>!1)}function g7(){return()=>{}}var yx="Avatar",[y7,V7]=fn(yx),[v7,cR]=y7(yx),uR=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=p.useState("idle");return o.jsx(v7,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:o.jsx(te.span,{...r,ref:t})})});uR.displayName=yx;var dR="AvatarImage",hR=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,a=cR(dR,n),l=x7(r,i),c=ot(u=>{s(u),a.onImageLoadingStatusChange(u)});return rt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(te.img,{...i,ref:t,src:r}):null});hR.displayName=dR;var fR="AvatarFallback",mR=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=cR(fR,n),[a,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(te.span,{...s,ref:t}):null});mR.displayName=fR;function Z1(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function x7(e,{referrerPolicy:t,crossOrigin:n}){const r=p7(),s=p.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=p.useState(()=>Z1(i,e));return rt(()=>{l(Z1(i,e))},[i,e]),rt(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,t]),a}var pR=uR,gR=hR,yR=mR;const vR=p.forwardRef(({className:e,...t},n)=>o.jsx(pR,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));vR.displayName=pR.displayName;const xR=p.forwardRef(({className:e,...t},n)=>o.jsx(gR,{ref:n,className:le("aspect-square h-full w-full",e),...t}));xR.displayName=gR.displayName;const wR=p.forwardRef(({className:e,...t},n)=>o.jsx(yR,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));wR.displayName=yR.displayName;const w7=["All Programs","Competition Training","Kids & Teens","Adults Only","Beginner"];function b7(){var _;const{user:e,profile:t,refreshProfile:n,loading:r}=lt(),s=Ut(),[i,a]=p.useState(null),[l,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState([]),[m,v]=p.useState(!1),g=p.useRef(null);p.useEffect(()=>{!r&&!e&&s("/auth")},[e,r,s]);function y(j){const k=j.target.files&&j.target.files[0];if(!k)return;a(k);const C=new FileReader;C.onload=()=>c(String(C.result)),C.readAsDataURL(k)}function w(j){f(k=>k.includes(j)?k.filter(C=>C!==j):[...k,j])}function x(j){const k=j.replace(/\D/g,"");return k.length>=9&&k.length<=13}async function b(j){if(j.preventDefault(),!x(u)){Rf.error("Please enter a valid phone number.");return}v(!0);try{let k=(t==null?void 0:t.avatar_url)??null;if(i&&e){const C=`avatars/${e.id}/${Date.now()}_${i.name}`,{error:T}=await K.storage.from("avatars").upload(C,i,{upsert:!0});if(T)throw T;const{data:E}=K.storage.from("avatars").getPublicUrl(C);k=E.publicUrl}if(e){const{error:C}=await K.from("profiles").update({phone:u.replace(/\D/g,""),program:h.join(", "),avatar_url:k}).eq("user_id",e.id);if(C)throw C}await n(),Rf.success("Profile saved successfully!")}catch(k){console.error("Failed saving profile",k),Rf.error("Failed to save profile")}finally{v(!1)}}if(p.useEffect(()=>{t&&(d(t.phone||""),f(t.program?t.program.split(",").map(j=>j.trim()):[]),t.avatar_url&&c(t.avatar_url))},[t]),r)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})});const S=((_=t==null?void 0:t.full_name)==null?void 0:_.split(" ").map(j=>j[0]).join("").toUpperCase())||"U";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-border",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(we,{to:"/dashboard",children:o.jsx(B,{variant:"ghost",size:"icon",children:o.jsx(ea,{className:"w-5 h-5"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-display text-xl tracking-wide",children:"Edit Profile"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your student information"})]})]})})}),o.jsx("main",{className:"max-w-2xl mx-auto px-6 py-12",children:o.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:o.jsxs(Kn,{children:[o.jsxs(lr,{children:[o.jsx(cr,{children:"Student Profile"}),o.jsx(tx,{children:"Manage your profile photo, contact info, and program preferences."})]}),o.jsx(Gn,{children:o.jsxs("form",{onSubmit:b,className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs(vR,{className:"w-32 h-32 border-4 border-border",children:[o.jsx(xR,{src:l||void 0}),o.jsx(wR,{className:"text-2xl bg-primary/10",children:S})]}),o.jsx("button",{type:"button",onClick:()=>{var j;return(j=g.current)==null?void 0:j.click()},className:"absolute inset-0 flex items-center justify-center bg-background/80 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",children:o.jsx(V0,{className:"w-8 h-8 text-primary"})})]}),o.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[o.jsx("h3",{className:"font-medium",children:t==null?void 0:t.full_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email}),o.jsxs(B,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>{var j;return(j=g.current)==null?void 0:j.click()},children:[o.jsx(V0,{className:"w-4 h-4 mr-2"}),"Upload Photo"]}),o.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:y,className:"hidden"}),i&&o.jsx("span",{className:"block text-sm text-muted-foreground mt-1",children:i.name})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"phone",children:"Phone Number"}),o.jsx(Gt,{id:"phone",type:"tel",value:u,onChange:j=>d(j.target.value),placeholder:"e.g. +254713178790 or 0713178790"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll use this number for WhatsApp contact."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ae,{children:"Program Preferences"}),o.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:w7.map(j=>o.jsxs("label",{className:"flex items-center gap-3 p-3 border border-border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",children:[o.jsx(aR,{checked:h.includes(j),onCheckedChange:()=>w(j)}),o.jsx("span",{className:"text-sm",children:j})]},j))})]}),o.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-border",children:[o.jsxs(B,{type:"submit",disabled:m,className:"gap-2",children:[o.jsx(fI,{className:"w-4 h-4"}),m?"Saving...":"Save Changes"]}),o.jsxs(B,{type:"button",variant:"outline",onClick:()=>{a(null),c((t==null?void 0:t.avatar_url)||null),d((t==null?void 0:t.phone)||""),f(t!=null&&t.program?t.program.split(",").map(j=>j.trim()):[])},className:"gap-2",children:[o.jsx(hI,{className:"w-4 h-4"}),"Reset"]})]})]})})]})})})]})}const S7=()=>{const e=na();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx(we,{to:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},_7=new DL,j7=()=>o.jsx(UL,{client:_7,children:o.jsx(vL,{children:o.jsx(K4,{basename:"/karate",children:o.jsxs(OF,{children:[o.jsx(nD,{}),o.jsx(ID,{}),o.jsxs(U4,{children:[o.jsx(kt,{path:"/",element:o.jsx(zz,{})}),o.jsx(kt,{path:"/auth",element:o.jsx(w8,{})}),o.jsx(kt,{path:"/dashboard",element:o.jsx(H9,{})}),o.jsx(kt,{path:"/videos",element:o.jsx(J9,{})}),o.jsx(kt,{path:"/onboarding",element:o.jsx(e7,{})}),o.jsx(kt,{path:"/profile",element:o.jsx(b7,{})}),o.jsx(kt,{path:"/instructor",element:o.jsx(HH,{})}),o.jsx(kt,{path:"/instructor/upload",element:o.jsx(KH,{})}),o.jsx(kt,{path:"/instructor/users",element:o.jsx(GH,{})}),o.jsx(kt,{path:"/instructor/videos",element:o.jsx(QH,{})}),o.jsx(kt,{path:"/instructor/classes",element:o.jsx(YH,{})}),o.jsx(kt,{path:"/instructor/profile",element:o.jsx(XH,{})}),o.jsx(kt,{path:"/admin",element:o.jsx(xw,{to:"/instructor",replace:!0})}),o.jsx(kt,{path:"/admin/*",element:o.jsx(xw,{to:"/instructor",replace:!0})}),o.jsx(kt,{path:"*",element:o.jsx(S7,{})})]})]})})})});_j(document.getElementById("root")).render(o.jsx(j7,{}));
